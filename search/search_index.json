{"config":{"lang":["ja","zh","en"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"howtomakewebsite/","title":"how to make a web like this","text":"<p>\u6211\u91c7\u7528\u7684\u662fGithubpages. \u8fd9\u6837\u5e76\u4e0d\u9700\u8981\u4efb\u4f55\u8d2d\u4e70\u670d\u52a1\u5668,\u4e5f\u4e0d\u9700\u8981\u8d2d\u4e70\u57df\u540d. </p> <p>\u7136\u540e\u5229\u7528mkdocs,\u7531markdown\u683c\u5f0f\u6765\u4ea7\u751f\u4e00\u4e2a\u9759\u6001\u7684HTML\u7f51\u7ad9.(\u4e0d\u7136\u76f4\u63a5\u5199\u524d\u7aef\u4e5f\u86ee\u9ebb\u70e6\u7684) </p> <p>\u5f53\u4ee3\u7801push\u5230github\u4e0a,\u5229\u7528github work flow\u81ea\u52a8\u90e8\u7f72\u7f51\u9875.</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#github-pages\u4ecb\u7ecd","title":"Github Pages\u4ecb\u7ecd","text":"<p>GitHub Pages \u662f\u4e00\u4e2a\u9759\u6001\u7f51\u7ad9\u6258\u7ba1\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u4ece GitHub \u4ed3\u5e93\u4e2d\u53d1\u5e03\u7f51\u7ad9\u3002\u5b83\u652f\u6301\u4e0e Jekyll \u7b49\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u96c6\u6210\uff0c\u65b9\u4fbf\u5730\u5c06 Markdown \u6587\u4ef6\u8f6c\u6362\u4e3a\u9759\u6001\u7f51\u9875\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#mkdocs\u4ecb\u7ecd","title":"MkDocs\u4ecb\u7ecd","text":"<p>MkDocs \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u9759\u6001\u6587\u6863\u7f51\u7ad9\u7684\u7b80\u5355\u4e14\u5feb\u901f\u7684\u9759\u6001\u7ad9\u70b9\u751f\u6210\u5668\u3002\u5b83\u4f7f\u7528 Markdown \u7f16\u5199\u6587\u6863\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u5b8c\u5168\u9759\u6001\u7684 HTML \u7f51\u7ad9\u3002MkDocs \u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a</p> <ul> <li>\u7b80\u5355\u6613\u7528\uff1a\u4f7f\u7528\u7b80\u5355\u7684\u547d\u4ee4\u884c\u5de5\u5177\u548c\u914d\u7f6e\u6587\u4ef6\u5373\u53ef\u751f\u6210\u6587\u6863\u7f51\u7ad9\u3002</li> <li>\u4e3b\u9898\u652f\u6301\uff1a\u5185\u7f6e\u591a\u4e2a\u4e3b\u9898\uff0c\u5e76\u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898\u3002</li> <li>\u6269\u5c55\u6027\u5f3a\uff1a\u652f\u6301\u591a\u79cd\u63d2\u4ef6\uff0c\u53ef\u4ee5\u6269\u5c55 MkDocs \u7684\u529f\u80fd\u3002</li> <li>\u5b9e\u65f6\u9884\u89c8\uff1a\u5728\u672c\u5730\u7f16\u5199\u6587\u6863\u65f6\uff0c\u53ef\u4ee5\u5b9e\u65f6\u9884\u89c8\u6587\u6863\u7684\u6548\u679c\u3002</li> </ul> <p>\u901a\u8fc7\u4f7f\u7528 MkDocs\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06 Markdown \u6587\u4ef6\u8f6c\u6362\u4e3a\u7f8e\u89c2\u7684\u9759\u6001\u7f51\u7ad9\uff0c\u5e76\u5c06\u5176\u6258\u7ba1\u5728 GitHub Pages \u4e0a\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#github-workflow\u4ecb\u7ecd","title":"GitHub Workflow\u4ecb\u7ecd","text":"<p>GitHub Workflow \u662f GitHub Actions \u7684\u4e00\u90e8\u5206\uff0c\u5b83\u5141\u8bb8\u60a8\u5728 GitHub \u4ed3\u5e93\u4e2d\u5b9a\u4e49\u81ea\u52a8\u5316\u6d41\u7a0b\u3002\u901a\u8fc7\u7f16\u5199 YAML \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u5728\u7279\u5b9a\u4e8b\u4ef6\uff08\u5982\u4ee3\u7801\u63a8\u9001\uff09\u53d1\u751f\u65f6\u89e6\u53d1\u81ea\u52a8\u5316\u4efb\u52a1\uff0c\u4f8b\u5982\u6784\u5efa\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u60a8\u7684\u9879\u76ee\u3002\u5229\u7528 GitHub Workflow\uff0c\u60a8\u53ef\u4ee5\u5b9e\u73b0\u6301\u7eed\u96c6\u6210\u548c\u6301\u7eed\u90e8\u7f72\uff08CI/CD\uff09\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u548c\u4ee3\u7801\u8d28\u91cf\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u4f7f\u7528\u6b65\u9aa4","title":"\u4f7f\u7528\u6b65\u9aa4","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u4e00\u6b65\u521b\u5efa-github-\u4ed3\u5e93","title":"\u7b2c\u4e00\u6b65\uff1a\u521b\u5efa GitHub \u4ed3\u5e93","text":"<ol> <li>\u767b\u5f55 GitHub \u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ed3\u5e93\u3002</li> <li>\u5c06\u4ed3\u5e93\u547d\u540d\u4e3a <code>username.github.io</code>\uff0c\u5176\u4e2d <code>username</code> \u662f\u60a8\u7684 GitHub \u7528\u6237\u540d\u3002</li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u4e8c\u6b65\u5b89\u88c5-mkdocs","title":"\u7b2c\u4e8c\u6b65\uff1a\u5b89\u88c5 MkDocs","text":"<p>(\u672c\u5730\u7684\u7f51\u9875\u8fd0\u884c\u662f\u4e0d\u5fc5\u9700\u7684,\u53ef\u4ee5\u5b8c\u5168\u653e\u5728github\u4e0a.)</p> <ol> <li>\u786e\u4fdd\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 Python \u548c pip\u3002</li> <li>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 MkDocs\uff1a <pre><code>pip install mkdocs\n</code></pre></li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u4e09\u6b65\u521b\u5efa-mkdocs-\u9879\u76ee","title":"\u7b2c\u4e09\u6b65\uff1a\u521b\u5efa MkDocs \u9879\u76ee","text":"<ol> <li>\u5728\u672c\u5730\u673a\u5668\u4e0a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 MkDocs \u9879\u76ee\uff1a <pre><code>mkdocs new my-project\ncd my-project\n</code></pre></li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u56db\u6b65\u7f16\u5199\u6587\u6863","title":"\u7b2c\u56db\u6b65\uff1a\u7f16\u5199\u6587\u6863","text":"<ol> <li>\u5728 <code>docs</code> \u6587\u4ef6\u5939\u4e2d\u7f16\u5199\u60a8\u7684 Markdown \u6587\u4ef6\u3002</li> <li>\u66f4\u65b0 <code>mkdocs.yml</code> \u914d\u7f6e\u6587\u4ef6\u4ee5\u5305\u542b\u60a8\u7684\u6587\u6863\u3002</li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u4e94\u6b65\u672c\u5730\u9884\u89c8","title":"\u7b2c\u4e94\u6b65\uff1a\u672c\u5730\u9884\u89c8","text":"<ol> <li>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5728\u672c\u5730\u9884\u89c8\u60a8\u7684\u7f51\u7ad9\uff1a <pre><code>mkdocs serve\n</code></pre></li> <li>\u6253\u5f00\u6d4f\u89c8\u5668\u5e76\u8bbf\u95ee <code>http://127.0.0.1:8000</code> \u67e5\u770b\u60a8\u7684\u7f51\u7ad9\u3002</li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u7b2c\u516d\u6b65\u90e8\u7f72\u5230-github-pages","title":"\u7b2c\u516d\u6b65\uff1a\u90e8\u7f72\u5230 GitHub Pages","text":"<ol> <li>\u5c06\u60a8\u7684\u9879\u76ee\u63a8\u9001\u5230 GitHub \u4ed3\u5e93\u3002</li> <li>\u5728 GitHub \u4ed3\u5e93\u4e2d\uff0c\u8bbe\u7f6e GitHub Pages \u6765\u6e90\u4e3a <code>gh-pages</code> \u5206\u652f\u3002</li> <li>\u4f7f\u7528 GitHub Actions \u81ea\u52a8\u5316\u90e8\u7f72\uff1a<ul> <li>\u521b\u5efa <code>.github/workflows/gh-pages.yml</code> \u6587\u4ef6\u3002</li> <li>\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a <pre><code>name: Deploy to GitHub Pages\non:\npush:\nbranches:\n- main\njobs:\ndeploy:\nruns-on: ubuntu-latest\nsteps:\n- name: Checkout repository\nuses: actions/checkout@v2\n- name: Set up Python\nuses: actions/setup-python@v2\nwith:\npython-version: '3.x'\n- name: Install dependencies\nrun: |\npip install mkdocs\npip install mkdocs-material\n- name: Build and deploy\nrun: |\nmkdocs gh-deploy --force\n</code></pre></li> </ul> </li> </ol> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u60a8\u7684\u7f51\u7ad9\u5c06\u81ea\u52a8\u90e8\u7f72\u5230 GitHub Pages\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7 <code>https://username.github.io</code> \u8bbf\u95ee\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#\u5982\u4f55\u8ba9\u8c37\u6b4c\u80fd\u591f\u641c\u7d22\u5230\u4e2a\u4eba\u7f51\u9875","title":"\u5982\u4f55\u8ba9\u8c37\u6b4c\u80fd\u591f\u641c\u7d22\u5230\u4e2a\u4eba\u7f51\u9875","text":"<p>\u4e3a\u4e86\u8ba9\u8c37\u6b4c\u80fd\u591f\u641c\u7d22\u5230\u60a8\u7684\u4e2a\u4eba\u7f51\u9875\uff0c\u60a8\u9700\u8981\u786e\u4fdd\u60a8\u7684\u7f51\u7ad9\u5bf9\u641c\u7d22\u5f15\u64ce\u53cb\u597d\uff0c\u5e76\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u542f\u7528 GitHub Pages \u7d22\u5f15\uff1a</li> <li>\u786e\u4fdd\u60a8\u7684 GitHub Pages \u7f51\u7ad9\u662f\u516c\u5f00\u7684\uff0c\u5e76\u4e14\u6ca1\u6709\u88ab\u8bbe\u7f6e\u4e3a\u79c1\u6709\u4ed3\u5e93\u3002</li> <li> <p>\u68c0\u67e5\u4ed3\u5e93\u7684 <code>robots.txt</code> \u6587\u4ef6\uff0c\u786e\u4fdd\u6ca1\u6709\u7981\u6b62\u641c\u7d22\u5f15\u64ce\u722c\u53d6\u60a8\u7684\u7f51\u7ad9\u5185\u5bb9\u3002</p> </li> <li> <p>\u63d0\u4ea4\u7f51\u7ad9\u5230 Google Search Console\uff1a</p> </li> <li>\u8bbf\u95ee Google Search Console\u3002</li> <li>\u767b\u5f55\u60a8\u7684 Google \u5e10\u6237\u5e76\u6dfb\u52a0\u60a8\u7684\u7f51\u7ad9 URL\u3002</li> <li> <p>\u9a8c\u8bc1\u60a8\u7684\u7f51\u7ad9\u6240\u6709\u6743\uff0c\u53ef\u4ee5\u901a\u8fc7 HTML \u6587\u4ef6\u4e0a\u4f20\u3001DNS \u9a8c\u8bc1\u6216\u5176\u4ed6\u65b9\u5f0f\u5b8c\u6210\u3002</p> </li> <li> <p>\u751f\u6210\u5e76\u63d0\u4ea4 Sitemap\uff1a</p> </li> <li>MkDocs \u4f1a\u81ea\u52a8\u751f\u6210 <code>sitemap.xml</code> \u6587\u4ef6\uff0c\u60a8\u53ef\u4ee5\u5728\u90e8\u7f72\u540e\u901a\u8fc7 <code>https://username.github.io/sitemap.xml</code> \u8bbf\u95ee\u3002</li> <li> <p>\u5728 Google Search Console \u4e2d\u63d0\u4ea4\u60a8\u7684 Sitemap URL\uff0c\u5e2e\u52a9\u8c37\u6b4c\u66f4\u5feb\u5730\u7d22\u5f15\u60a8\u7684\u7f51\u7ad9\u3002</p> </li> <li> <p>\u4f18\u5316 SEO\uff08\u641c\u7d22\u5f15\u64ce\u4f18\u5316\uff09\uff1a</p> </li> <li>\u5728 <code>mkdocs.yml</code> \u6587\u4ef6\u4e2d\u6dfb\u52a0 <code>site_description</code> \u548c <code>site_author</code> \u5b57\u6bb5\u3002</li> <li> <p>\u4f7f\u7528 MkDocs \u7684 SEO \u63d2\u4ef6\uff08\u5982 <code>mkdocs-seo-plugin</code>\uff09\u6765\u4f18\u5316\u60a8\u7684\u7f51\u7ad9\u5143\u6570\u636e\u3002 <pre><code>pip install mkdocs-seo-plugin\n</code></pre>      \u5728 <code>mkdocs.yml</code> \u4e2d\u6dfb\u52a0\uff1a <pre><code>plugins:\n- seo\n</code></pre></p> </li> <li> <p>\u786e\u4fdd\u5185\u5bb9\u8d28\u91cf\uff1a</p> </li> <li>\u63d0\u4f9b\u9ad8\u8d28\u91cf\u3001\u6709\u4ef7\u503c\u7684\u5185\u5bb9\uff0c\u786e\u4fdd\u9875\u9762\u6807\u9898\u548c\u63cf\u8ff0\u6e05\u6670\u4e14\u76f8\u5173\u3002</li> <li> <p>\u4f7f\u7528\u9002\u5f53\u7684\u5173\u952e\u8bcd\uff0c\u4f46\u907f\u514d\u5173\u952e\u8bcd\u5806\u780c\u3002</p> </li> <li> <p>\u5efa\u7acb\u5916\u90e8\u94fe\u63a5\uff1a</p> </li> <li>\u5728\u5176\u4ed6\u7f51\u7ad9\u6216\u793e\u4ea4\u5a92\u4f53\u4e0a\u5206\u4eab\u60a8\u7684\u7f51\u7ad9\u94fe\u63a5\uff0c\u589e\u52a0\u5916\u90e8\u94fe\u63a5\u7684\u6570\u91cf\u548c\u8d28\u91cf\u3002</li> </ol> <p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u60a8\u7684\u4e2a\u4eba\u7f51\u9875\u5c06\u66f4\u5bb9\u6613\u88ab\u8c37\u6b4c\u641c\u7d22\u5230\uff0c\u5e76\u5728\u641c\u7d22\u7ed3\u679c\u4e2d\u83b7\u5f97\u66f4\u9ad8\u7684\u6392\u540d\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"howtomakewebsite/#giscus-\u505a\u8bc4\u8bba\u533a","title":"giscus \u505a\u8bc4\u8bba\u533a","text":"<p>\u5f88\u591a\u6587\u6863\u91cc\u5173\u4e8eoverrides\u7684\u7ed3\u6784\u4f3c\u4e4e\u6709\u8bef\u3002 \u6211\u7ecf\u8fc7\u5b9e\u9a8c\u8bc1\u660e\uff0cgiscus\u5f97\u5199\u5728main.html\u4e0a\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"","title":"\u4e3b\u9875","text":"<p>hello, world.</p> <p>\u6211\u662f\u7530\u67cf\u6c40\u3002</p> <p>\u8fd9\u91cc\u7f51\u7ad9\u4e5f\u8bb8\u4f1a\u653e\u4e00\u4e9b\u4e1c\u897f\u3002</p>"},{"location":"#\u5e8f","title":"\u5e8f","text":""},{"location":"#\u6211\u7684\u7ad9\u70b9","title":"\u6211\u7684\u7ad9\u70b9","text":"<ul> <li>bilibili</li> <li>zhihu</li> </ul>"},{"location":"MickeyMiaoMiao/firefoxplug/","title":"\u6d4f\u89c8\u5668\u63d2\u4ef6","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/firefoxplug/#tampermonkey","title":"Tampermonkey","text":"<p>Tampermonkey \u662f\u4e00\u6b3e\u529f\u80fd\u5f3a\u5927\u7684\u7528\u6237\u811a\u672c\u7ba1\u7406\u5668\uff0c\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u7f51\u7ad9\u7684\u884c\u4e3a\u548c\u5916\u89c2\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/firefoxplug/#\u4e3b\u8981\u529f\u80fd","title":"\u4e3b\u8981\u529f\u80fd","text":"<ul> <li>\u811a\u672c\u7ba1\u7406\uff1a\u5b89\u88c5\u3001\u7f16\u8f91\u3001\u542f\u7528/\u7981\u7528\u548c\u5220\u9664\u7528\u6237\u811a\u672c</li> <li>\u4e91\u540c\u6b65\uff1a\u652f\u6301\u901a\u8fc7\u6d4f\u89c8\u5668\u540c\u6b65\u529f\u80fd\u6216\u5916\u90e8\u670d\u52a1\u540c\u6b65\u811a\u672c</li> <li>\u811a\u672c\u7f16\u8f91\u5668\uff1a\u5185\u7f6e\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u652f\u6301\u8bed\u6cd5\u9ad8\u4eae\u548c\u81ea\u52a8\u5b8c\u6210</li> <li>\u5907\u4efd\u4e0e\u6062\u590d\uff1a\u53ef\u5bfc\u51fa/\u5bfc\u5165\u811a\u672c\u5907\u4efd</li> </ul>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/firefoxplug/#\u63d2\u4ef6","title":"\u63d2\u4ef6","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/firefoxplug/#adblock","title":"adblock","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/firefoxplug/#blocksite","title":"blocksite","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/","title":"opvpn","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#1-\u6982\u8ff0","title":"1. \u6982\u8ff0","text":"<p>OpenVPN \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 VPN\uff08\u865a\u62df\u4e13\u7528\u7f51\u7edc\uff09\u5b9e\u73b0\uff0c\u7528\u4e8e\u521b\u5efa\u5b89\u5168\u7684\u70b9\u5bf9\u70b9\u6216\u7ad9\u70b9\u5bf9\u7ad9\u70b9\u8fde\u63a5\u3002\u5b83\u4f7f\u7528\u81ea\u5b9a\u4e49\u5b89\u5168\u534f\u8bae\uff0c\u8be5\u534f\u8bae\u57fa\u4e8e SSL/TLS \u534f\u8bae\u8fdb\u884c\u52a0\u5bc6\u548c\u8eab\u4efd\u9a8c\u8bc1\u3002OpenVPN \u5141\u8bb8\u53c2\u4e0e\u5efa\u7acb VPN \u7684\u8ba1\u7b97\u673a\u5728\u5171\u4eab\u7f51\u7edc\u6216\u516c\u5171\u4e92\u8054\u7f51\u7b49\u4e0d\u5b89\u5168\u7684\u7f51\u7edc\u4e0a\u901a\u8fc7\u52a0\u5bc6\u96a7\u9053\u8fdb\u884c\u5b89\u5168\u901a\u4fe1\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#2-\u57fa\u672c\u67b6\u6784","title":"2. \u57fa\u672c\u67b6\u6784","text":"<p>OpenVPN \u91c7\u7528\u5ba2\u6237\u7aef/\u670d\u52a1\u5668\u67b6\u6784\uff0c\u4e3b\u8981\u7531\u4ee5\u4e0b\u7ec4\u4ef6\u6784\u6210\uff1a</p> <ul> <li>OpenVPN \u670d\u52a1\u5668\uff1a\u63a5\u53d7\u6765\u81ea\u591a\u4e2a\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u8d1f\u8d23\u7ba1\u7406 VPN \u7f51\u7edc</li> <li>OpenVPN \u5ba2\u6237\u7aef\uff1a\u8fde\u63a5\u5230 OpenVPN \u670d\u52a1\u5668\uff0c\u901a\u8fc7\u670d\u52a1\u5668\u8bbf\u95ee\u8d44\u6e90</li> <li>\u865a\u62df\u7f51\u5361\uff1aTUN/TAP \u8bbe\u5907\uff0c\u7528\u4e8e\u521b\u5efa\u865a\u62df\u7f51\u7edc\u63a5\u53e3</li> <li>TUN\uff1a\u5728 OSI \u7b2c 3 \u5c42(\u7f51\u7edc\u5c42)\u64cd\u4f5c\uff0c\u4f20\u8f93 IP \u6570\u636e\u5305</li> <li>TAP\uff1a\u5728 OSI \u7b2c 2 \u5c42(\u6570\u636e\u94fe\u8def\u5c42)\u64cd\u4f5c\uff0c\u4f20\u8f93\u4ee5\u592a\u7f51\u5e27</li> </ul>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#3-\u5de5\u4f5c\u539f\u7406","title":"3. \u5de5\u4f5c\u539f\u7406","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#31-\u96a7\u9053\u5efa\u7acb\u8fc7\u7a0b","title":"3.1 \u96a7\u9053\u5efa\u7acb\u8fc7\u7a0b","text":"<ol> <li>\u521d\u59cb\u8fde\u63a5\uff1a</li> <li>\u5ba2\u6237\u7aef\u53d1\u8d77\u8fde\u63a5\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u7684\u6307\u5b9a\u7aef\u53e3(\u9ed8\u8ba4\u4e3a UDP 1194)</li> <li> <p>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5efa\u7acb\u63a7\u5236\u901a\u9053</p> </li> <li> <p>TLS \u63e1\u624b\uff1a</p> </li> <li>\u4f7f\u7528 SSL/TLS \u534f\u8bae\u8fdb\u884c\u53cc\u5411\u8ba4\u8bc1</li> <li>\u670d\u52a1\u5668\u5411\u5ba2\u6237\u7aef\u63d0\u4f9b\u8bc1\u4e66\uff0c\u5ba2\u6237\u7aef\u9a8c\u8bc1\u670d\u52a1\u5668\u8eab\u4efd</li> <li>\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u63d0\u4f9b\u8bc1\u4e66\uff0c\u670d\u52a1\u5668\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd</li> <li> <p>\u751f\u6210\u4f1a\u8bdd\u5bc6\u94a5\u7528\u4e8e\u6570\u636e\u52a0\u5bc6</p> </li> <li> <p>\u5bc6\u94a5\u4ea4\u6362\uff1a</p> </li> <li>\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u548c\u53c2\u6570</li> <li> <p>\u751f\u6210\u7528\u4e8e\u52a0\u5bc6\u6570\u636e\u901a\u9053\u7684\u5171\u4eab\u5bc6\u94a5</p> </li> <li> <p>\u5efa\u7acb\u6570\u636e\u901a\u9053\uff1a</p> </li> <li>\u521b\u5efa\u865a\u62df\u7f51\u7edc\u63a5\u53e3(TUN/TAP)</li> <li>\u5206\u914d VPN IP \u5730\u5740</li> <li> <p>\u8bbe\u7f6e\u8def\u7531\u8868</p> </li> <li> <p>\u6570\u636e\u4f20\u8f93\uff1a</p> </li> <li>\u666e\u901a\u6570\u636e\u5305\u901a\u8fc7\u865a\u62df\u63a5\u53e3\u53d1\u9001</li> <li>\u6570\u636e\u88ab\u52a0\u5bc6\u5e76\u5c01\u88c5\u5230 UDP \u6216 TCP \u6570\u636e\u5305\u4e2d</li> <li>\u6570\u636e\u901a\u8fc7\u516c\u5171\u7f51\u7edc\u4f20\u8f93</li> <li>\u63a5\u6536\u65b9\u89e3\u5bc6\u6570\u636e\u5e76\u4f20\u9012\u5230\u76ee\u6807</li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#32-\u6570\u636e\u5c01\u88c5","title":"3.2 \u6570\u636e\u5c01\u88c5","text":"<p>OpenVPN \u6570\u636e\u5c01\u88c5\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u6570\u636e\u5305</li> <li>\u6570\u636e\u5305\u88ab\u8def\u7531\u5230\u865a\u62df TUN/TAP \u63a5\u53e3</li> <li>OpenVPN \u5bf9\u6570\u636e\u5305\u8fdb\u884c\u52a0\u5bc6</li> <li>\u52a0\u5bc6\u540e\u7684\u6570\u636e\u88ab\u5c01\u88c5\u5230 UDP \u6216 TCP \u5305\u4e2d</li> <li>\u5c01\u88c5\u540e\u7684\u6570\u636e\u901a\u8fc7\u5b9e\u9645\u7269\u7406\u63a5\u53e3\u53d1\u9001</li> <li>\u63a5\u6536\u65b9\u89e3\u5c01\u88c5\u5e76\u89e3\u5bc6\u6570\u636e</li> <li>\u89e3\u5bc6\u540e\u7684\u6570\u636e\u4ece\u865a\u62df\u63a5\u53e3\u53d1\u9001\u5230\u5185\u90e8\u7f51\u7edc</li> </ol>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#\u914d\u7f6e\u6587\u4ef6\u6280\u5de7","title":"\u914d\u7f6e\u6587\u4ef6\u6280\u5de7","text":"","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#\u8def\u7531","title":"\u8def\u7531","text":"<p>\u5728 OpenVPN \u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u63d2\u5165\u4ee5\u4e0b\u8def\u7531\u89c4\u5219\u4ee5\u5b9e\u73b0\u7279\u5b9a\u76ee\u6807 IP \u7684\u6d41\u91cf\u901a\u8fc7\u9ed8\u8ba4\u7f51\u5173\u8f6c\u53d1\uff1a</p> <pre><code># bilibili\nroute 119.3.70.188 255.255.255.255 net_gateway\n# baidu\nroute 39.156.66.10 255.255.255.255 net_gateway\n</code></pre>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#\u683c\u5f0f\u8bf4\u660e","title":"\u683c\u5f0f\u8bf4\u660e","text":"<pre><code>route [\u76ee\u6807IP] [\u5b50\u7f51\u63a9\u7801] [\u7f51\u5173]\n</code></pre> <ul> <li>\u76ee\u6807IP\uff1a\u6307\u5b9a\u9700\u8981\u8def\u7531\u7684\u76ee\u6807\u5730\u5740\u3002\u53ef\u901a\u8fc7ping \u7f51\u5740\u5f97\u5230.</li> </ul> <ul> <li>\u5b50\u7f51\u63a9\u7801\uff1a\u5b9a\u4e49\u76ee\u6807\u5730\u5740\u7684\u5b50\u7f51\u8303\u56f4\uff0c\u901a\u5e38\u4e3a <code>255.255.255.255</code> \u8868\u793a\u5355\u4e2a IP\u3002</li> <li>\u7f51\u5173\uff1a\u6307\u5b9a\u6d41\u91cf\u7684\u51fa\u53e3\u7f51\u5173\uff0c<code>net_gateway</code> \u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u7f51\u5173\u3002</li> </ul> <p>\u901a\u8fc7\u4e0a\u8ff0\u914d\u7f6e\uff0c\u53ef\u4ee5\u786e\u4fdd\u7279\u5b9a\u6d41\u91cf\u7ed5\u8fc7 VPN \u96a7\u9053\uff0c\u76f4\u63a5\u901a\u8fc7\u672c\u5730\u7f51\u7edc\u8bbf\u95ee\u76ee\u6807\u5730\u5740\u3002</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#\u591a\u4eba\u767b\u5f55\u4e00\u4e2a\u8d26\u53f7","title":"\u591a\u4eba\u767b\u5f55\u4e00\u4e2a\u8d26\u53f7","text":"<p>\u5728\u6211\u4eec\u642d\u5efa\u5b8c OpenVPN \u540e\uff0c\u767b\u5f55\u9a8c\u8bc1\u65b9\u5f0f\u5206\u4e3a\u8bc1\u4e66\u9a8c\u8bc1\u3001\u8d26\u6237\u9a8c\u8bc1\u3001\u8bc1\u4e66+\u8d26\u6237\u3002\u65e0\u8bba\u54ea\u79cd\uff0c\u4e00\u4e2a\u8bc1\u4e66\u6216\u8d26\u6237\u53ea\u80fd\u540c\u65f6\u767b\u5f55\u4e00\u4e2a\u7ec8\u7aef\u3002</p> <p>\u5982\u679c\u56e2\u961f\u6709\u5f88\u591a\u4eba\uff0c\u4e3a\u6bcf\u4e2a\u4eba\u521b\u5efa\u4e2a\u8d26\u6237\u8fd8\u53ef\u4ee5\u63a5\u53d7\uff0c\u5982\u679c\u7528\u8bc1\u4e66\uff0c\u4e3a\u6bcf\u4e2a\u4eba\u521b\u5efa\u4e00\u4e2a\u8bc1\u4e66\u7ba1\u7406\u8d77\u6765\u5c31\u5f88\u6df7\u4e71\u4e86\uff0c\u6240\u4ee5\u6709\u6ca1\u6709\u65b9\u6cd5\uff0c\u591a\u4eba\u7528\u4e00\u4e2a\u8bc1\u4e66\uff0c\u6709\u4eba\u5458\u53d8\u52a8\u7684\u65f6\u5019\uff0c\u540a\u9500\u8bc1\u4e66\u6362\u4e00\u4e2a\u65b0\u7684\uff0c\u8fd9\u6837\u53ea\u7528\u7ef4\u62a4\u4e00\u4e2a\u8bc1\u4e66\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u64cd\u4f5c</p> <p>\u6211\u8fd9\u91cc\u4e0d\u518d\u9610\u8ff0\u5982\u4f55\u5b89\u88c5 OpenVPN\uff0c\u53ea\u8bb2\u4e0e\u672c\u6587\u76f8\u5173\u7684\u91cd\u8981\u914d\u7f6e\u3002</p> <p>\u4fee\u6539 OpenVPN \u914d\u7f6e\u6587\u4ef6 <code>server.conf</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>port 1194\nproto udp\ndev tun\nca ca.crt\ncert server.crt\nkey server.key  # This file should be kept secret\ndh dh.pem\nserver 10.8.0.0 255.255.255.0\nifconfig-pool-persist ipp.txt\npush \"route 172.16.1.0 255.255.255.0\"\nkeepalive 10 120\ncipher AES-256-CBC\npersist-key\npersist-tun\nstatus openvpn-status.log\nverb 3\nexplicit-exit-notify 1\nduplicate-cn\n</code></pre> <p><code>duplicate-cn</code>\uff1a \u8fd9\u4e2a\u5b57\u6bb5\u5c31\u662f\u5f00\u542f\u4e00\u4e2a\u8bc1\u4e66\u6216\u8d26\u6237\u591a\u4eba\u540c\u65f6\u767b\u5f55\u3002</p> <p>\u89e3\u91ca\uff1a</p> <ul> <li><code>duplicate-cn</code>\uff1a\u8fd9\u4e2a\u914d\u7f6e\u9879\u662f\u5b9e\u73b0\u5355\u8bc1\u4e66\u591a\u4eba\u540c\u65f6\u767b\u5f55\u7684\u5173\u952e\u3002OpenVPN \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u963b\u6b62\u5177\u6709\u76f8\u540c\u8bc1\u4e66\u901a\u7528\u540d\u79f0\uff08CN\uff09\u7684\u591a\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u8fde\u63a5\u3002\u542f\u7528\u6b64\u9009\u9879\u540e\uff0cOpenVPN \u5141\u8bb8\u5177\u6709\u76f8\u540c CN \u7684\u591a\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u8fde\u63a5\u3002</li> </ul> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u5b89\u5168\u6027\uff1a\u4f7f\u7528\u5355\u8bc1\u4e66\u591a\u4eba\u540c\u65f6\u767b\u5f55\u4f1a\u964d\u4f4e\u5b89\u5168\u6027\uff0c\u56e0\u4e3a\u6240\u6709\u7528\u6237\u5171\u4eab\u540c\u4e00\u4e2a\u8bc1\u4e66\u3002\u5982\u679c\u8bc1\u4e66\u6cc4\u9732\uff0c\u6240\u6709\u7528\u6237\u7684\u8fde\u63a5\u90fd\u53ef\u80fd\u53d7\u5230\u5a01\u80c1\u3002\u56e0\u6b64\uff0c\u8bf7\u52a1\u5fc5\u59a5\u5584\u4fdd\u7ba1\u8bc1\u4e66\u3002</li> <li>\u65e5\u5fd7\u548c\u76d1\u63a7\uff1a\u542f\u7528 <code>duplicate-cn</code> \u540e\uff0c\u76d1\u63a7\u548c\u65e5\u5fd7\u8bb0\u5f55\u53ef\u80fd\u4f1a\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002\u60a8\u9700\u8981\u4ed4\u7ec6\u8003\u8651\u5982\u4f55\u8ddf\u8e2a\u548c\u7ba1\u7406\u591a\u4e2a\u4f7f\u7528\u76f8\u540c\u8bc1\u4e66\u7684\u8fde\u63a5\u3002</li> <li>\u7f51\u7edc\u51b2\u7a81\uff1a\u5f53\u591a\u4e2a\u5ba2\u6237\u7aef\u4f7f\u7528\u76f8\u540c\u7684\u865a\u62df IP \u5730\u5740\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7f51\u7edc\u51b2\u7a81\u3002OpenVPN \u7684 <code>ifconfig-pool-persist</code> \u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u7ba1\u7406 IP \u5730\u5740\u5206\u914d\uff0c\u4f46\u60a8\u4ecd\u7136\u9700\u8981\u4ed4\u7ec6\u89c4\u5212\u60a8\u7684 IP \u5730\u5740\u7a7a\u95f4\u3002</li> <li>\u8bc1\u4e66\u540a\u9500\uff1a\u5f53\u4eba\u5458\u53d8\u52a8\u6216\u8005\u8bc1\u4e66\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u9700\u8981\u53ca\u65f6\u540a\u9500\u8bc1\u4e66\uff0c\u5e76\u91cd\u65b0\u751f\u6210\u65b0\u7684\u8bc1\u4e66\uff0c\u5e76\u5206\u53d1\u7ed9\u9700\u8981\u4f7f\u7528vpn\u7684\u4eba\u5458\u3002</li> </ul>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/opvpn/#openvpn-\u540c\u65f6\u8fde\u63a5\u591a\u4e2a-vpn","title":"OPENVPN \u540c\u65f6\u8fde\u63a5\u591a\u4e2a VPN","text":"<p>\u80cc\u666f\uff1a \u5f53\u9700\u8981\u7ef4\u62a4\u591a\u4e2a\u4e0d\u540c\u5730\u70b9\u7684\u7f51\u7edc\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u9700\u8981\u9891\u7e41\u5207\u6362 VPN\uff0c\u6548\u7387\u6781\u4f4e\u3002</p> <p>\u539f\u56e0\uff1a Windows \u7248 OpenVPN \u5ba2\u6237\u7aef\u5b89\u88c5\u65f6\u9ed8\u8ba4\u53ea\u5b89\u88c5\u4e00\u4e2a TAP \u865a\u62df\u7f51\u5361\uff0c\u5982\u679c\u9700\u8981\u540c\u65f6\u8fde\u63a5\u591a\u4e2a\uff0c\u5219\u9700\u8981\u4e3a\u6bcf\u4e2a VPN \u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u4e00\u4e2a TAP \u865a\u62df\u7f51\u5361\u3002</p> <p>\u589e\u52a0\u865a\u62df\u7f51\u5361\uff1a \u7528\u7ba1\u7406\u5458\u6743\u9650\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5373\u53ef\u589e\u52a0\u4e00\u5757 TAP \u865a\u62df\u7f51\u5361\uff0c\u9700\u8981\u591a\u5757\u6267\u884c\u591a\u6b21\u5373\u53ef\uff0c\u7136\u540e\u5728 ovpn \u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0 \u201cnobind\u201d \u7684\u914d\u7f6e\u9879\u3002</p> <p><pre><code>\"C:\\Program Files\\TAP-Windows\\bin\\addtap.bat\"\n</code></pre> \u68c0\u67e5\u865a\u62df\u7f51\u5361\uff1a</p> <p><pre><code>\"C:\\Program Files\\OpenVPN\\bin\\openvpn\" --show-adapters\n</code></pre> \u5f53\u9700\u8981\u6307\u5b9a\u67d0\u4e2a\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u7279\u5b9a\u7684\u865a\u62df\u7f51\u5361\u7684\u65f6\u5019\u53ef\u4ee5\u5c06\u914d\u7f6e\u9879\u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <p>dev tap dev-node \"\u4ee5\u592a\u7f51 3\"</p> <p>\u5999\u5999\u5c4b</p>","tags":["\u4f60\u7684\u6807\u7b7e\u540d\u5b57"]},{"location":"MickeyMiaoMiao/useful_tips/overleaf_vscode%E6%8F%92%E4%BB%B6/","title":"overleaf\u63d2\u4ef6","text":"<p>vscode\u63d2\u4ef6 Overleaf Workshop</p> <p>overleaf\u7f51\u7ad9\u53ea\u80fd\u901a\u8fc7cookies\u767b\u5f55\u3002 </p> <p>\u81ea\u5efa\u7684overleaf\u53ef\u4ee5\u901a\u8fc7\u8d26\u6237\u5bc6\u7801\u767b\u5f55\u3002</p> <p></p> <p>\u767b\u5f55\u6210\u529f\u540e\uff0c \u4fbf\u53ef\u4f7f\u7528vscode\u7f16\u5199overleaf</p>"},{"location":"MickeyMiaoMiao/useful_tips/%E5%88%A9%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%88%86%E5%B1%8F/","title":"\u79fb\u52a8\u8bbe\u5907\u4f5c\u4e3a\u7535\u8111\u7684\u5206\u5c4f","text":"<p>\u4ee5\u4e0b\u5b89\u5353\u82f9\u679c\u90fd\u53ef\u9002\u7528\u3002</p>"},{"location":"MickeyMiaoMiao/useful_tips/%E5%88%A9%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%88%86%E5%B1%8F/#win","title":"win","text":"<ol> <li>\u4e0b\u8f7d\u5e76\u5b89\u88c5iTunes\u3002\uff08\u5b89\u5353\u4e0d\u9700\u8981\u8fd9\u4e00\u6b65\uff0c\u56e0\u4e3a\u82f9\u679c\u8fc7\u4e8e\u5c01\u95ed\uff0c\u9700\u8981\u6709iTunes\u624d\u80fd\u6709\u6570\u636e\u4f20\u8f93\u3002\uff09</li> <li>\u5728iPad\u548cWindows\u7535\u8111\u4e0a\u5404\u81ea\u4e0b\u8f7d\u5206\u5c4f\u8f6f\u4ef6\uff0c\u5982xDisplay\u3002</li> <li>\u901a\u8fc7USB\u8fde\u63a5iPad\u548cWindows\u7535\u8111\uff0c\u6253\u5f00xDisplay\uff0c\u6309\u7167\u63d0\u793a\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5373\u53ef\u5b9e\u73b0\u5206\u5c4f\u3002</li> </ol>"},{"location":"MickeyMiaoMiao/useful_tips/%E5%88%A9%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%88%86%E5%B1%8F/#linux","title":"linux","text":"<ol> <li>\u786e\u4fdd\u4f60\u7684Linux\u7cfb\u7edf\u4f7f\u7528\u7684\u662fIntel\u96c6\u6210\u663e\u5361\u3002</li> <li>\u5b89\u88c5\u76f8\u5173\u9a71\u52a8\u548c\u8f6f\u4ef6\uff0c\u5982xrandr\u3002</li> <li>\u901a\u8fc7\u547d\u4ee4\u884c\u914d\u7f6e\u865a\u62df\u89c6\u9891\u8f93\u51fa\u5934</li> <li>\u5728iPad\u4e0a\u4e0b\u8f7d\u5e76\u5b89\u88c5VNC\u5ba2\u6237\u7aef\uff0c\u901a\u8fc7VNC\u8fde\u63a5\u5230Linux\u7cfb\u7edf\uff0c\u5373\u53ef\u5b9e\u73b0\u5206\u5c4f\u3002</li> </ol>"},{"location":"MickeyMiaoMiao/useful_tips/%E5%88%A9%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%88%86%E5%B1%8F/#\u89c6\u9891\u91c7\u96c6\u5361","title":"\u89c6\u9891\u91c7\u96c6\u5361","text":"<ol> <li>\u8d2d\u4e70\u4e00\u4e2a\u89c6\u9891\u91c7\u96c6\u5361\u3002</li> <li>\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u4e0b\u8f7dUSB\u6444\u50cf\u5934\u5e94\u7528\uff0c\u5982USB Camera\u3002</li> <li>\u901a\u8fc7\u89c6\u9891\u91c7\u96c6\u5361\u5c06\u79fb\u52a8\u8bbe\u5907\u8fde\u63a5\u5230\u7535\u8111\u3002</li> <li>\u6253\u5f00USB Camera\u5e94\u7528\uff0c\u9009\u62e9\u89c6\u9891\u91c7\u96c6\u5361\u4f5c\u4e3a\u8f93\u5165\u6e90\u3002</li> <li>\u8fd9\u6837\u4f60\u7684\u79fb\u52a8\u8bbe\u5907\u5c31\u771f\u6b63\u53d8\u6210\u4e00\u4e2a\u4fbf\u643a\u663e\u793a\u5668\u4e86\u3002</li> </ol> <p>\u8fd9\u6837\u5373\u4f7f\u505a\u5b9e\u9a8c\u61d2\u5f97\u642c\u5927\u7684\u663e\u793a\u5668\u4e5f\u80fd\u8c03\u8bd5\u4e3b\u673a\u4e86\u3002</p>"},{"location":"MickeyMiaoMiao/useful_tips/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84vscode/","title":"\u5982\u4f55\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u7684code","text":"<p>https://vscode.github.net.cn/docs/editor/portable</p> <p>\u9664\u6b63\u5e38\u5b89\u88c5\u5916\u53ef\u4ee5\u7167\u6b64\u5b89\u88c5zip\u7684\u6587\u4ef6</p>"},{"location":"MickeyMiaoMiao/useful_tips/%E6%9C%89%E8%B6%A3%E7%9A%84%E6%8F%92%E4%BB%B6/","title":"\u6709\u8da3\u7684\u63d2\u4ef6","text":"<p>lazyeat</p>"},{"location":"life/z30_DeepSky/","title":"\u5668\u6750","text":"<p>Nikon z30 + \u5957\u5934</p>","tags":["photography","\u6444\u5f71"]},{"location":"life/z30_DeepSky/#\u566a\u58f0\u539f\u7406","title":"\u566a\u58f0\u539f\u7406","text":"<p>\u81f4\u8fdcNeon\u7684\u6587\u7ae0</p>","tags":["photography","\u6444\u5f71"]},{"location":"life/z30_DeepSky/#\u5806\u6808\u8f6f\u4ef6","title":"\u5806\u6808\u8f6f\u4ef6","text":"","tags":["photography","\u6444\u5f71"]},{"location":"life/z30_DeepSky/#_1","title":"\u6df1\u7a7a\u6444\u5f71","text":"","tags":["photography","\u6444\u5f71"]},{"location":"life/%E9%A3%9F%E7%89%A9%E4%B8%AD%E6%AF%92/","title":"\u6613\u53d1\u4e2d\u6bd2\u98df\u7269","text":"<p>\u53ca\u5e94\u5bf9\u6ce8\u610f\u4e8b\u9879</p>"},{"location":"life/%E9%A3%9F%E7%89%A9%E4%B8%AD%E6%AF%92/#\u5e38\u89c1\u6709\u6bd2\u690d\u7269\u5206\u7c7b\u53ca\u6bd2\u6027\u6210\u5206","title":"\u5e38\u89c1\u6709\u6bd2\u690d\u7269\u5206\u7c7b\u53ca\u6bd2\u6027\u6210\u5206","text":"\u79d1\u5c5e \u5e38\u89c1\u6709\u6bd2\u690d\u7269 \u6bd2\u6027\u6210\u5206 \u8304\u79d1\uff08Solanaceae\uff09 \u98a0\u8304\u3001\u66fc\u9640\u7f57\u3001\u9f99\u8475\u3001\u53d1\u82bd\u7684\u571f\u8c46 \u9f99\u8475\u78b1\u3001\u83a8\u83ea\u78b1\u3001\u963f\u6258\u54c1\u7b49\u751f\u7269\u78b1 \u4f1e\u5f62\u79d1\uff08Apiaceae\uff09 \u6bd2\u82b9\u3001\u6bd2\u8334 \u6bd2\u82b9\u78b1\u7b49 \u6bdb\u831b\u79d1\uff08Ranunculaceae\uff09 \u4e4c\u5934\u3001\u94c1\u7ebf\u83b2 \u4e4c\u5934\u78b1\u3001\u539f\u767d\u5934\u7fc1\u7d20\u7b49 \u8c46\u79d1\uff08Fabaceae\uff09 \u76f8\u601d\u5b50\u3001\u84d6\u9ebb \u76f8\u601d\u5b50\u6bd2\u7d20\u3001\u84d6\u9ebb\u6bd2\u7d20\u7b49\u6bd2\u86cb\u767d \u5939\u7af9\u6843\u79d1\uff08Apocynaceae\uff09 \u5939\u7af9\u6843 \u5f3a\u5fc3\u82f7\u7c7b\u6bd2\u7d20 \u5927\u621f\u79d1\uff08Euphorbiaceae\uff09 \u5df4\u8c46 \u4e73\u6c41\u4e2d\u7684\u523a\u6fc0\u6027\u6216\u6bd2\u6027\u6210\u5206 <p>\u91cd\u8981\u63d0\u793a\uff1a</p> <ul> <li>\u8bc6\u522b\u6709\u6bd2\u690d\u7269\u9700\u8981\u4e13\u4e1a\u77e5\u8bc6\uff0c\u666e\u901a\u4eba\u5f88\u96be\u51c6\u786e\u5206\u8fa8\u3002</li> <li>\u4e0d\u5efa\u8bae\u968f\u610f\u91c7\u98df\u91ce\u751f\u690d\u7269\uff0c\u4ee5\u514d\u8bef\u98df\u4e2d\u6bd2\u3002</li> <li>\u5982\u8bef\u98df\u6709\u6bd2\u690d\u7269\uff0c\u5e94\u7acb\u5373\u5c31\u533b\u3002</li> </ul> \u98df\u7269\u79cd\u7c7b \u4e2d\u6bd2\u8868\u73b0 \u5e94\u5bf9\u63aa\u65bd \u90e8\u5206\u8c46\u7c7b\u672a\u716e\u719f\uff1a \u56db\u5b63\u8c46\u3001\u6241\u8c46\u3001\u82b8\u8c46\u7b49 \u53e3\u8154\u70e7\u707c\u611f\u3001\u5455\u5410\u3001\u8179\u75db\u7b49 \u70f9\u996a\u65f6\u5b8c\u5168\u70e7\u719f\u3001\u716e\u900f\u3002 \u5982\u51fa\u73b0\u4e2d\u6bd2\u8868\u73b0\uff0c\u53ef\u996e\u7528\u6e29\u5f00\u6c34\u6216\u751f\u7406\u76d0\u6c34\uff0c\u4e0d\u5efa\u8bae\u81ea\u884c\u50ac\u5410\u3002 \u9694\u591c\u6d78\u6ce1\uff1a \u94f6\u8033\u3001\u6728\u8033\u3001\u6e7f\u7c89\u7b49 \u5455\u5410\u3001\u8179\u6cfb\u3001\u5934\u6655\u7b49 \u4e0d\u957f\u65f6\u95f4\uff08\u8d85\u8fc72\u5c0f\u65f6\uff09\u6d78\u6ce1\uff0c\u70f9\u996a\u524d\u6d17\u51c0\u3002 \u5982\u51fa\u73b0\u6076\u5fc3\u7b49\u4e0d\u9002\uff0c\u7acb\u523b\u505c\u6b62\u98df\u7528\u5e76\u76d1\u6d4b\u75c7\u72b6\u3002 \u975e\u98df\u7528\u671f\u852c\u83dc\uff1a \u53d1\u82bd\u571f\u8c46\u3001\u9752\u756a\u8304\u7b49 \u6076\u5fc3\u3001\u8179\u75db\u3001\u8179\u6cfb\u7b49 \u4e0d\u5403\u975e\u98df\u7528\u671f\u98df\u7269\u3002 \u5982\u51fa\u73b0\u6076\u5fc3\u7b49\u4e0d\u9002\uff0c\u7acb\u523b\u505c\u6b62\u98df\u7528\u5e76\u76d1\u6d4b\u75c7\u72b6\u3002 \u90e8\u5206\u846b\u82a6\u79d1\u852c\u83dc\u53d1\u82e6\uff1a \u4e1d\u74dc\u3001\u897f\u846b\u82a6\u7b49 \u8179\u75db\u3001\u8179\u6cfb\u3001\u53e3\u5e72\u3001\u5934\u660f\u7b49 \u5982\u8fdb\u98df\u65f6\u53d1\u89c9\u82e6\u5473\uff0c\u7acb\u523b\u5410\u51fa\u5df2\u98df\u7528\u90e8\u5206\uff0c\u5e76\u4e0d\u518d\u8fdb\u98df\u672c\u83dc\u3002 \u5982\u51fa\u73b0\u6076\u5fc3\u7b49\u4e0d\u9002\uff0c\u53ef\u996e\u7528\u6e29\u5f00\u6c34\u6216\u751f\u7406\u76d0\u6c34\u5e76\u81ea\u884c\u76d1\u6d4b\u75c7\u72b6\u3002 \u90e8\u5206\u9c7c\u7c7b\uff1a \u6cb3\u8c5a\u9c7c\u3001\u84dd\u73af\u7ae0\u9c7c\u7b49 \u56db\u80a2\u9ebb\u6728\u3001\u5934\u6655\u3001\u5455\u5410\u7b49 \u4e0d\u98df\u7528\u84dd\u73af\u7ae0\u9c7c\uff0c\u91ce\u751f\u6216\u6765\u6e90\u4e0d\u660e\u6cb3\u8c5a\uff1b \u5982\u4e0d\u614e\u98df\u7528\uff0c\u51fa\u73b0\u4efb\u4f55\u4e0d\u9002\u75c7\u72b6\u5747\u9700\u5c3d\u5feb\u5c31\u533b\u3002 <p>\u8865\u5145\u8bf4\u660e\uff1a</p> <ul> <li>\u8c46\u7c7b\u4e2d\u6bd2\uff1a<ul> <li>\u672a\u716e\u719f\u7684\u8c46\u7c7b\u542b\u6709\u7682\u7d20\u548c\u690d\u7269\u8840\u51dd\u7d20\uff0c\u8fd9\u4e9b\u7269\u8d28\u5177\u6709\u6bd2\u6027\u3002</li> <li>\u5f7b\u5e95\u52a0\u70ed\u53ef\u4ee5\u7834\u574f\u8fd9\u4e9b\u6bd2\u7d20\u3002</li> </ul> </li> <li>\u9694\u591c\u6d78\u6ce1\u98df\u7269\u4e2d\u6bd2\uff1a<ul> <li>\u957f\u65f6\u95f4\u6d78\u6ce1\u5bb9\u6613\u6ecb\u751f\u7ec6\u83cc\uff0c\u4ea7\u751f\u6bd2\u7d20\u3002</li> <li>\u5c24\u5176\u662f\u5728\u9ad8\u6e29\u73af\u5883\u4e0b\uff0c\u7ec6\u83cc\u7e41\u6b96\u66f4\u5feb\u3002</li> </ul> </li> <li>\u975e\u98df\u7528\u671f\u852c\u83dc\u4e2d\u6bd2\uff1a<ul> <li>\u53d1\u82bd\u7684\u571f\u8c46\u4f1a\u4ea7\u751f\u9f99\u8475\u7d20\uff0c\u9752\u756a\u8304\u4e5f\u542b\u6709\u5c11\u91cf\u9f99\u8475\u7d20\uff0c\u8fc7\u91cf\u98df\u7528\u4f1a\u5f15\u8d77\u4e2d\u6bd2\u3002</li> <li>\u9f99\u8475\u7d20\u4e2d\u6bd2\u75c7\u72b6\u5305\u62ec\u6076\u5fc3\u3001\u5455\u5410\u3001\u8179\u6cfb\u3001\u8179\u75db\u3001\u5934\u6655\u7b49\u3002</li> </ul> </li> <li>\u846b\u82a6\u79d1\u852c\u83dc\u82e6\u5473\u4e2d\u6bd2\uff1a<ul> <li>\u82e6\u5473\u7684\u846b\u82a6\u79d1\u852c\u83dc\u53ef\u80fd\u542b\u6709\u846b\u82a6\u7d20\uff0c\u8fd9\u662f\u4e00\u79cd\u6709\u6bd2\u7269\u8d28\u3002</li> <li>\u846b\u82a6\u7d20\u4e2d\u6bd2\u75c7\u72b6\u5305\u62ec\u6076\u5fc3\u3001\u5455\u5410\u3001\u8179\u6cfb\u3001\u8179\u75db\u3001\u53e3\u5e72\u3001\u5934\u6655\u7b49\u3002</li> </ul> </li> <li>\u9c7c\u7c7b\u4e2d\u6bd2\uff1a<ul> <li>\u6cb3\u8c5a\u9c7c\u542b\u6709\u5267\u6bd2\u7684\u6cb3\u8c5a\u6bd2\u7d20\uff0c\u84dd\u73af\u7ae0\u9c7c\u4e5f\u542b\u6709\u5267\u6bd2\u3002</li> <li>\u6cb3\u8c5a\u6bd2\u7d20\u4e2d\u6bd2\u75c7\u72b6\u5305\u62ec\u9ebb\u75f9\u3001\u547c\u5438\u56f0\u96be\u3001\u751a\u81f3\u6b7b\u4ea1\u3002</li> </ul> </li> </ul> <p>\u91cd\u8981\u63d0\u793a\uff1a</p> <ul> <li>\u5982\u679c\u51fa\u73b0\u4efb\u4f55\u4e2d\u6bd2\u75c7\u72b6\uff0c\u8bf7\u7acb\u5373\u505c\u6b62\u98df\u7528\u53ef\u7591\u98df\u7269\u3002</li> <li>\u5982\u75c7\u72b6\u4e25\u91cd\u6216\u6301\u7eed\uff0c\u8bf7\u7acb\u5373\u5c31\u533b\u3002</li> <li>\u5728\u7b49\u5f85\u533b\u7597\u6551\u52a9\u65f6\uff0c\u53ef\u6839\u636e\u60c5\u51b5\u91c7\u53d6\u4e00\u4e9b\u6025\u6551\u63aa\u65bd\uff0c\u5982\u50ac\u5410\u3001\u5bfc\u6cfb\u7b49\uff0c\u4f46\u5e94\u5728\u4e13\u4e1a\u4eba\u58eb\u6307\u5bfc\u4e0b\u8fdb\u884c\u3002</li> </ul> <p>\u5e0c\u671b\u8fd9\u4e9b\u4fe1\u606f\u5bf9\u60a8\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"life/%E9%A3%9F%E7%89%A9%E5%AE%89%E5%85%A8%E6%B8%A9%E5%BA%A6/","title":"\u98df\u7269\u5b89\u5168\u6e29\u5ea6","text":"<p>\u672c\u6587\u4e3b\u8981\u53c2\u8003</p> <p>\u98df\u7269\u5b89\u5168\u6e29\u5ea6</p> <p>\u5df4\u6c0f\u6d88\u6bd2</p> <p>\u65e5\u672c\u7684\u89c4\u5b9a</p> <p>\u98df\u7269\u70ed\u5904\u7406ppt</p>","tags":["eat"]},{"location":"sci/todolist/","title":"todo","text":""},{"location":"sci/cheatshet/bashrc/","title":"Bashrc","text":"<pre><code># ~/.bashrc: executed by bash(1) for non-login shells.\n# see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)\n# for examples\n\n# If not running interactively, don't do anything\ncase $- in\n    *i*) ;;\n      *) return;;\nesac\n\n# don't put duplicate lines or lines starting with space in the history.\n# See bash(1) for more options\nHISTCONTROL=ignoreboth\n\n# append to the history file, don't overwrite it\nshopt -s histappend\n\n# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)\nHISTSIZE=1000\nHISTFILESIZE=2000\n\n# check the window size after each command and, if necessary,\n# update the values of LINES and COLUMNS.\nshopt -s checkwinsize\n\n# If set, the pattern \"**\" used in a pathname expansion context will\n# match all files and zero or more directories and subdirectories.\n#shopt -s globstar\n\n# make less more friendly for non-text input files, see lesspipe(1)\n[ -x /usr/bin/lesspipe ] &amp;&amp; eval \"$(SHELL=/bin/sh lesspipe)\"\n\n# set variable identifying the chroot you work in (used in the prompt below)\nif [ -z \"${debian_chroot:-}\" ] &amp;&amp; [ -r /etc/debian_chroot ]; then\n    debian_chroot=$(cat /etc/debian_chroot)\nfi\n\n# set a fancy prompt (non-color, unless we know we \"want\" color)\ncase \"$TERM\" in\n    xterm-color|*-256color) color_prompt=yes;;\nesac\n\n# uncomment for a colored prompt, if the terminal has the capability; turned\n# off by default to not distract the user: the focus in a terminal window\n# should be on the output of commands, not on the prompt\n#force_color_prompt=yes\n\nif [ -n \"$force_color_prompt\" ]; then\n    if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then\n    # We have color support; assume it's compliant with Ecma-48\n    # (ISO/IEC-6429). (Lack of such support is extremely rare, and such\n    # a case would tend to support setf rather than setaf.)\n    color_prompt=yes\n    else\n    color_prompt=\n    fi\nfi\n\nif [ \"$color_prompt\" = yes ]; then\n    PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ '\nelse\n    PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ '\nfi\nunset color_prompt force_color_prompt\n\n# If this is an xterm set the title to user@host:dir\ncase \"$TERM\" in\nxterm*|rxvt*)\n    PS1=\"\\[\\e]0;${debian_chroot:+($debian_chroot)}\\u@\\h: \\w\\a\\]$PS1\"\n    ;;\n*)\n    ;;\nesac\n\n# enable color support of ls and also add handy aliases\nif [ -x /usr/bin/dircolors ]; then\n    test -r ~/.dircolors &amp;&amp; eval \"$(dircolors -b ~/.dircolors)\" || eval \"$(dircolors -b)\"\n    alias ls='ls --color=auto'\n    #alias dir='dir --color=auto'\n    #alias vdir='vdir --color=auto'\n\n    alias grep='grep --color=auto'\n    alias fgrep='fgrep --color=auto'\n    alias egrep='egrep --color=auto'\nfi\n\n# colored GCC warnings and errors\n#export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'\n\n# some more ls aliases\nalias ll='ls -alF'\nalias la='ls -A'\nalias l='ls -CF'\n\n# Add an \"alert\" alias for long running commands.  Use like so:\n#   sleep 10; alert\nalias alert='notify-send --urgency=low -i \"$([ $? = 0 ] &amp;&amp; echo terminal || echo error)\" \"$(history|tail -n1|sed -e '\\''s/^\\s*[0-9]\\+\\s*//;s/[;&amp;|]\\s*alert$//'\\'')\"'\n\n# Alias definitions.\n# You may want to put all your additions into a separate file like\n# ~/.bash_aliases, instead of adding them here directly.\n# See /usr/share/doc/bash-doc/examples in the bash-doc package.\n\nif [ -f ~/.bash_aliases ]; then\n    . ~/.bash_aliases\nfi\n\n# enable programmable completion features (you don't need to enable\n# this, if it's already enabled in /etc/bash.bashrc and /etc/profile\n# sources /etc/bash.bashrc).\nif ! shopt -oq posix; then\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\n    . /usr/share/bash-completion/bash_completion\n  elif [ -f /etc/bash_completion ]; then\n    . /etc/bash_completion\n  fi\nfi\n\nexport DISPLAY=$(awk '/nameserver / {print $2; exit}' /etc/resolv.conf 2&gt;/dev/null):0\n\nexport ROOTSYS=/home/$USER/Software/root\nexport PATH=$ROOTSYS/bin:$PATH\nexport LD_LIBRARY_PATH=$ROOTSYS/lib:$LD_LIBRARY_PATH\nsource /home/tbt/Software/geant4/install/bin/geant4.sh\nsource /home/tbt/Software/geant4/install/share/Geant4/geant4make/geant4make.sh\n\nexport G4DATA=/home/tbt/Software/geant4/install/share/Geant4/data\nexport DISPLAY=172.28.224.1:0.0\n\nPATH=$PATH:/home/tbt/Software/fbm.2004-11-10/bin\nexport PATH\nexport PATH=$PATH:/home/tbt/workspace/deutron/fresco/source\n\nexport DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0.0\n\n[ -f ~/.fzf.bash ] &amp;&amp; source ~/.fzf.bash\neval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\n</code></pre>"},{"location":"sci/cheatshet/docker/","title":"docker","text":""},{"location":"sci/cheatshet/docker/#docker-\u5b89\u88c5","title":"docker \u5b89\u88c5","text":"<p>Docker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5bb9\u5668\u5316\u5e73\u53f0\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u5b89\u88c5\uff1a</p> <ol> <li>\u66f4\u65b0\u7cfb\u7edf\u5305\uff1a <pre><code>sudo apt-get update\n</code></pre></li> <li>\u5b89\u88c5\u5fc5\u8981\u7684\u4f9d\u8d56\uff1a <pre><code>sudo apt-get install apt-transport-https ca-certificates curl software-properties-common\n</code></pre></li> <li>\u6dfb\u52a0 Docker \u5b98\u65b9 GPG \u5bc6\u94a5\uff1a <pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n</code></pre></li> <li>\u6dfb\u52a0 Docker \u4ed3\u5e93\uff1a <pre><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n</code></pre></li> <li>\u5b89\u88c5 Docker\uff1a <pre><code>sudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io\n</code></pre></li> <li>\u9a8c\u8bc1\u5b89\u88c5\uff1a <pre><code>docker --version\n</code></pre></li> </ol>"},{"location":"sci/cheatshet/docker/#docker-\u62c9\u53d6\u955c\u50cf\u542f\u52a8\u5bb9\u5668","title":"docker \u62c9\u53d6\u955c\u50cf\u542f\u52a8\u5bb9\u5668","text":"<p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4ece Docker Hub \u62c9\u53d6\u955c\u50cf\uff1a <pre><code>docker pull &lt;\u955c\u50cf\u540d\u79f0&gt;:&lt;\u6807\u7b7e&gt;\n</code></pre> \u4f8b\u5982\uff0c\u62c9\u53d6\u6700\u65b0\u7684 Ubuntu \u955c\u50cf\uff1a <pre><code>docker pull ubuntu:latest\n</code></pre></p>"},{"location":"sci/cheatshet/docker/#docker-\u56fe\u5f62\u5316\u754c\u9762-gui","title":"docker \u56fe\u5f62\u5316\u754c\u9762 gui","text":"<p>\u53ef\u4ee5\u4f7f\u7528 Portainer \u4f5c\u4e3a Docker \u7684\u56fe\u5f62\u5316\u754c\u9762\u7ba1\u7406\u5de5\u5177\uff1a</p> <ol> <li>\u62c9\u53d6 Portainer \u955c\u50cf\uff1a <pre><code>docker pull portainer/portainer-ce\n</code></pre></li> <li>\u542f\u52a8 Portainer \u5bb9\u5668\uff1a <pre><code>docker run -d -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce\n</code></pre></li> <li>\u8bbf\u95ee GUI \u754c\u9762\uff1a    \u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee <code>http://localhost:9000</code>\u3002</li> </ol>"},{"location":"sci/cheatshet/docker/#docker-\u6253\u5305","title":"docker \u6253\u5305","text":"<p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5e94\u7528\u7a0b\u5e8f\u6253\u5305\u4e3a Docker \u955c\u50cf\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a <code>Dockerfile</code> \u6587\u4ef6\uff0c\u5b9a\u4e49\u955c\u50cf\u6784\u5efa\u89c4\u5219\u3002\u4f8b\u5982\uff1a <pre><code>FROM node:14\nWORKDIR /app\nCOPY . .\nRUN npm install\nCMD [\"node\", \"app.js\"]\n</code></pre></li> <li>\u6784\u5efa\u955c\u50cf\uff1a <pre><code>docker build -t &lt;\u955c\u50cf\u540d\u79f0&gt;:&lt;\u6807\u7b7e&gt; .\n</code></pre></li> <li>\u9a8c\u8bc1\u955c\u50cf\uff1a <pre><code>docker images\n</code></pre></li> </ol>"},{"location":"sci/cheatshet/docker/#\u6253\u5305\u7a0b\u5e8f\u5b89\u88c5","title":"\u6253\u5305\u7a0b\u5e8f\u5b89\u88c5","text":"<p>\u5c06\u6253\u5305\u7684\u955c\u50cf\u8fd0\u884c\u4e3a\u5bb9\u5668\uff1a</p> <ol> <li>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c\u5bb9\u5668\uff1a <pre><code>docker run -d -p 8080:8080 --name=&lt;\u5bb9\u5668\u540d\u79f0&gt; &lt;\u955c\u50cf\u540d\u79f0&gt;:&lt;\u6807\u7b7e&gt;\n</code></pre></li> <li>\u9a8c\u8bc1\u5bb9\u5668\u662f\u5426\u8fd0\u884c\uff1a <pre><code>docker ps\n</code></pre></li> <li>\u8bbf\u95ee\u5e94\u7528\u7a0b\u5e8f\uff1a    \u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee <code>http://localhost:8080</code>\u3002</li> </ol>"},{"location":"sci/cheatshet/git/","title":"git \u5907\u5fd8\u5355","text":""},{"location":"sci/cheatshet/git/#\u5e38\u7528-git-\u547d\u4ee4","title":"\u5e38\u7528 Git \u547d\u4ee4","text":""},{"location":"sci/cheatshet/git/#\u521d\u59cb\u5316","title":"\u521d\u59cb\u5316","text":"<ul> <li><code>git init</code>\uff1a\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684 Git \u4ed3\u5e93\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u914d\u7f6e","title":"\u914d\u7f6e","text":"<ul> <li><code>git config --global user.name \"\u4f60\u7684\u540d\u5b57\"</code>\uff1a\u8bbe\u7f6e\u5168\u5c40\u7528\u6237\u540d\u3002</li> <li><code>git config --global user.email \"\u4f60\u7684\u90ae\u7bb1@example.com\"</code>\uff1a\u8bbe\u7f6e\u5168\u5c40\u90ae\u7bb1\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u57fa\u672c\u5de5\u4f5c\u6d41\u7a0b","title":"\u57fa\u672c\u5de5\u4f5c\u6d41\u7a0b","text":"<ul> <li><code>git status</code>\uff1a\u68c0\u67e5\u5de5\u4f5c\u76ee\u5f55\u7684\u72b6\u6001\u3002</li> <li><code>git add &lt;\u6587\u4ef6&gt;</code>\uff1a\u5c06\u66f4\u6539\u6682\u5b58\u3002</li> <li><code>git commit -m \"\u63d0\u4ea4\u4fe1\u606f\"</code>\uff1a\u63d0\u4ea4\u6682\u5b58\u7684\u66f4\u6539\u3002</li> </ul> <p>\u66f4\u590d\u6742\u7684\u5de5\u4f5c\u6d41\u8be6\u89c1minimal_code/git.zh</p>"},{"location":"sci/cheatshet/git/#\u5206\u652f\u7ba1\u7406","title":"\u5206\u652f\u7ba1\u7406","text":"<ul> <li><code>git branch</code>\uff1a\u5217\u51fa\u5206\u652f\u3002</li> <li><code>git branch &lt;\u5206\u652f\u540d&gt;</code>\uff1a\u521b\u5efa\u65b0\u5206\u652f\u3002</li> <li><code>git checkout &lt;\u5206\u652f\u540d&gt;</code>\uff1a\u5207\u6362\u5230\u67d0\u4e2a\u5206\u652f\u3002</li> <li><code>git merge &lt;\u5206\u652f\u540d&gt;</code>\uff1a\u5c06\u67d0\u4e2a\u5206\u652f\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u8fdc\u7a0b\u4ed3\u5e93","title":"\u8fdc\u7a0b\u4ed3\u5e93","text":"<ul> <li><code>git remote add origin &lt;\u7f51\u5740&gt;</code>\uff1a\u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\u3002</li> <li><code>git push -u origin &lt;\u5206\u652f\u540d&gt;</code>\uff1a\u5c06\u66f4\u6539\u63a8\u9001\u5230\u8fdc\u7a0b\u5206\u652f\u3002</li> <li><code>git pull</code>\uff1a\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u83b7\u53d6\u5e76\u5408\u5e76\u66f4\u6539\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u65e5\u5fd7\u4e0e\u5386\u53f2","title":"\u65e5\u5fd7\u4e0e\u5386\u53f2","text":"<ul> <li><code>git log</code>\uff1a\u67e5\u770b\u63d0\u4ea4\u5386\u53f2\u3002</li> <li><code>git diff</code>\uff1a\u663e\u793a\u63d0\u4ea4\u6216\u5de5\u4f5c\u76ee\u5f55\u4e4b\u95f4\u7684\u66f4\u6539\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u64a4\u9500\u66f4\u6539","title":"\u64a4\u9500\u66f4\u6539","text":"<ul> <li><code>git reset &lt;\u6587\u4ef6&gt;</code>\uff1a\u53d6\u6d88\u6682\u5b58\u6587\u4ef6\u3002</li> <li><code>git checkout -- &lt;\u6587\u4ef6&gt;</code>\uff1a\u653e\u5f03\u6587\u4ef6\u4e2d\u7684\u66f4\u6539\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u6682\u5b58","title":"\u6682\u5b58","text":"<ul> <li><code>git stash</code>\uff1a\u4e34\u65f6\u4fdd\u5b58\u66f4\u6539\u3002</li> <li><code>git stash apply</code>\uff1a\u91cd\u65b0\u5e94\u7528\u6682\u5b58\u7684\u66f4\u6539\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u514b\u9686","title":"\u514b\u9686","text":"<ul> <li><code>git clone &lt;\u7f51\u5740&gt;</code>\uff1a\u514b\u9686\u4e00\u4e2a\u4ed3\u5e93\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u5220\u9664","title":"\u5220\u9664","text":"<ul> <li><code>git branch -d &lt;\u5206\u652f\u540d&gt;</code>\uff1a\u5220\u9664\u5206\u652f\u3002</li> <li><code>git rm &lt;\u6587\u4ef6&gt;</code>\uff1a\u4ece\u4ed3\u5e93\u4e2d\u5220\u9664\u6587\u4ef6\u3002</li> </ul>"},{"location":"sci/cheatshet/git/#\u4f7f\u7528-rebase-\u5408\u5e76\u63d0\u4ea4","title":"\u4f7f\u7528 rebase \u5408\u5e76\u63d0\u4ea4","text":""},{"location":"sci/cheatshet/linux/","title":"Linux","text":""},{"location":"sci/cheatshet/linux/#\u7528\u6237\u7ba1\u7406\u4e0e\u7528\u6237\u6743\u9650","title":"\u7528\u6237\u7ba1\u7406\u4e0e\u7528\u6237\u6743\u9650","text":""},{"location":"sci/cheatshet/linux/#\u6dfb\u52a0\u7528\u6237","title":"\u6dfb\u52a0\u7528\u6237","text":"<pre><code>sudo adduser \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u5220\u9664\u7528\u6237","title":"\u5220\u9664\u7528\u6237","text":"<pre><code>sudo deluser \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u4fee\u6539\u7528\u6237\u5bc6\u7801","title":"\u4fee\u6539\u7528\u6237\u5bc6\u7801","text":"<pre><code>sudo passwd \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u67e5\u770b\u5f53\u524d\u7528\u6237","title":"\u67e5\u770b\u5f53\u524d\u7528\u6237","text":"<pre><code>whoami\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u5207\u6362\u7528\u6237","title":"\u5207\u6362\u7528\u6237","text":"<pre><code>su \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u67e5\u770b\u7528\u6237\u4fe1\u606f","title":"\u67e5\u770b\u7528\u6237\u4fe1\u606f","text":"<pre><code>id \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u6dfb\u52a0\u7528\u6237\u5230\u7ec4","title":"\u6dfb\u52a0\u7528\u6237\u5230\u7ec4","text":"<pre><code>sudo usermod -aG \u7ec4\u540d \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u5220\u9664\u7528\u6237\u7ec4","title":"\u5220\u9664\u7528\u6237\u7ec4","text":"<pre><code>sudo delgroup \u7ec4\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u4fee\u6539\u6587\u4ef6\u6743\u9650","title":"\u4fee\u6539\u6587\u4ef6\u6743\u9650","text":"<pre><code>chmod \u6743\u9650 \u6587\u4ef6\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u4fee\u6539\u6587\u4ef6\u6240\u6709\u8005","title":"\u4fee\u6539\u6587\u4ef6\u6240\u6709\u8005","text":"<pre><code>chown \u7528\u6237\u540d:\u7ec4\u540d \u6587\u4ef6\u540d\n</code></pre>"},{"location":"sci/cheatshet/linux/#\u7ed9\u7528\u6237\u6dfb\u52a0\u8d85\u7ea7\u6743\u9650","title":"\u7ed9\u7528\u6237\u6dfb\u52a0\u8d85\u7ea7\u6743\u9650","text":"<pre><code>sudo usermod -aG sudo \u7528\u6237\u540d\n</code></pre>"},{"location":"sci/cheatshet/number_order_dimension/","title":"\u6570\u91cf\u7ea7\u4f30\u8ba1","text":"","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5355\u4f4d\u5236\u6362\u7b97","title":"\u5355\u4f4d\u5236\u6362\u7b97","text":"","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5149\u901a\u91cf\u5149\u5f3a-\u5149\u5b50\u6570","title":"\u5149\u901a\u91cf\uff0c\u5149\u5f3a \uff0c\u5149\u5b50\u6570","text":"<p>\u8fd9\u548c\u80fd\u6d41\u8fd9\u4e00\u4e2a\u7269\u7406\u91cf\u975e\u5e38\u76f8\u8fd1\u7269\u7406\u91cf\u3002\u80fd\u6d41\u662f\u5355\u4f4d\u65f6\u95f4\u5355\u4f4d\u9762\u79ef\u7684\u80fd\u91cf\u3002\u5149\u5f3a\u5219\u662f\u5355\u4f4d\u7acb\u4f53\u89d2\u5355\u4f4d\u65f6\u95f4\u4eba\u773c\u80fd\u611f\u53d7\u5230\u7684\u4eae\u5ea6\u3002</p> <p>\u7269\u7406\u8868\u8fbe\u5f0f </p> <p>\u5728\u7ed9\u5b9a\u65b9\u5411\u4e0a\u7684\u53d1\u5149\u5f3a\u5ea6\u7684\u7269\u7406\u8868\u8fbe\u5f0f\u4e3a:</p> I = \\frac{d\\Phi}{d\\Omega} <p>\u5f0f\u4e2d:</p> <p>\\Phi\\Phi: \u5149\u901a\u91cf \\Omega\\Omega: \u7acb\u4f53\u89d2</p> <p>\u5149\u901a\u91cf\u6216\u53ef\u89c1\u5149\u4eae\u5ea6\uff0c\u53ef\u7531\u4e0b\u8ff0\u516c\u5f0f\u8ba1\u7b97:</p> \\Phi = K \\cdot \\int_{0}^{\\infty} \\bar{y}(\\lambda) J(\\lambda) d\\lambda \\Phi = K \\cdot \\int_{0}^{\\infty} \\bar{y}(\\lambda) J(\\lambda) d\\lambda <p>KK\u4e3a\u4eba\u773c\u5bf9\u4e8e\u5f69\u8272\u7684\u611f\u77e5\u80fd\u529b\uff0c\u503c = 683.002 lm/W\u3002</p> <p>KK\u503c\u4f7f\u5149\u901a\u91cf\u7684\u5355\u4f4d\u4e0e\u8f90\u5c04\u529f\u7387\u7684\u5355\u4f4d\u5f97\u5230\u7edf\u4e00\u3002</p> <p>\\lambda\\lambda\u4e3a\u6ce2\u957f\u3002</p> <p>\\bar{y}(\\lambda)\\bar{y}(\\lambda)\uff0c\u4e5f\u5199\u4f5cV(\\lambda)V(\\lambda)\uff0c\u4e3a\u6807\u51c6\u5149\u5ea6\u51fd\u6570\uff1b</p> <p>J(\\lambda)J(\\lambda)\u4e3a\u5149\u8c31\u5206\u5e03\u7684\u529f\u7387\u5f3a\u5ea6\uff0c\u5355\u4f4d\u74e6\u6bcf\u7eb3\u7c73\uff1b</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u706f\u6ce1\u7684\u5149\u901a\u91cf\u662f1000\u6d41\u660e\uff0c\u5e73\u5747\u5411\u6240\u6709\u65b9\u5411\u53d1\u51fa\u5149\uff0c\u5219\u53d1\u5149\u5f3a\u5ea6\u662f</p> I = \\frac{1000}{4\\pi} = 79.6 \\, \\text{cd} I = \\frac{1000}{4\\pi} = 79.6 \\, \\text{cd} <p>\u6211\u4e0d\u7406\u89e3\u4e3a\u4ec0\u4e48\u8981\u7528\u5149\u5f3a\u574e\u5fb7\u62c9\u5982\u6b64\u611a\u8822\u7684\u5b9a\u4e49\u3002\u5c24\u5176\u662f\u8981\u548c\u4eba\u773c\u8fd9\u4e00\u4eba\u7684\u4e3b\u89c2\u611f\u53d7\u8054\u7cfb\u8d77\u6765\u3002\u8fd9\u4e2a\u7269\u7406\u91cf\u4e0d\u914d\u4f5c\u4e3a\u4e03\u4e2a\u57fa\u672c\u7269\u7406\u91cf\u4e4b\u4e00\u3002\u5149\u901a\u91cf\u4e5f\u975e\u5e38\u4e11\u964b\u3002\u4e0d\u5982\u6539\u6210\u4eba\u773c\u53cd\u5e94\u5f3a\u5ea6\uff0c\u6216\u8005\u6539\u6210\u5728\u67d0\u4e2a\u6807\u51c6\u77b3\u5b54\u5927\u5c0f\uff0c\u7126\u8ddd\u4e0b\u89c6\u9525\u7ec6\u80de\u7684\u7535\u4fe1\u53f7\u5927\u5c0f\u3002</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u4eba\u773c","title":"\u4eba\u773c","text":"<p>\u4eba\u773c\u5bf9\u4eae\u5ea6\u9002\u5e94\u6027\u975e\u5e38\u5f3a\uff0c\u4eba\u773c\u80fd\u5206\u8fa8\u7684\u6700\u5c0f\u4eae\u5ea6\u4e0e\u6700\u5927\u4eae\u5ea6\u76f8\u5dee10\u4ebf\u500d\u3002\u77b3\u5b54\u7684\u5927\u5c0f\u53ef\u4ee5\u63a7\u5236\u5c04\u5165\u89c6\u7f51\u819c\u4e0a\u5149\u7ebf\u7684\u5f3a\u5ea6\uff0c\u6210\u5e74\u4eba\u77b3\u5b54\u76f4\u5f84\u7684\u53d8\u5316\u8303\u56f4\u4e3a2\u81f38\u6beb\u7c73\uff0c\u76f8\u5f53\u4e8e\u56db\u7ea7\u5149\u5708\uff0c\u5c04\u5165\u5149\u7ebf\u7684\u5f3a\u5ea6\u76f8\u5dee16\u500d\u3002</p> <p></p> <p>\u5728\u6bd4\u8f83\u9ed1\u6697\u7684\u5730\u70b9\uff0c\u4f8b\u5982\u5728\u4eae\u5ea6\u4e3a 0.01 \u5c3c\u7279\u7684\u60c5\u51b5\u4e0b\uff0c\u89c6\u9525\u7ec6\u80de\u4e0d\u518d\u8d77\u4f5c\u7528\uff0c\u53ea\u80fd\u662f\u5206\u5e03\u5e7f\u800c\u76f8\u5bf9\u7a00\u758f\u7684\u89c6\u6746\u7ec6\u80de\u8d77\u4f5c\u7528\uff0c\u56e0\u6b64\u4eba\u773c\u7684\u5206\u8fa8\u80fd\u529b\u5927\u5927\u4e0b\u964d\uff0c\u4e2d\u5fc3\u9ec4\u6591\u90e8\u5206\u89c6\u529b\u4e0b\u964d\u5230 0.05\uff0c\u53cd\u800c\u4e0d\u5982\u9ec4\u6591\u4ee5\u5916\uff08\u56e0\u4e3a\u4e2d\u5fc3\u9ec4\u6591\u51e0\u4e4e\u6ca1\u6709\u89c6\u6746\u7ec6\u80de\uff09\uff0c\u975e\u9ec4\u6591\u533a\u57df\u89c6\u529b\u57fa\u672c\u4e0d\u53d8\uff0c\u6700\u597d\u89c6\u529b\u5728\u9ec4\u6591\u8fb9\u7f18\u9644\u8fd1\uff0c\u5927\u7ea6\u504f\u79bb\u4e2d\u5fc3 15 \u5ea6\u5de6\u53f3\uff0c\u4e3a 0.1\u3002\u8fd9\u65f6\u7684\u89c6\u529b\uff0c\u79f0\u4e3a**\u6697\u89c6\u89c9**\u3002\u4f46\u7531\u4e8e\u89c6\u6746\u7ec6\u80de\u53ea\u6709\u4e00\u79cd\uff0c\u56e0\u6b64\u662f\u5206\u8fa8\u4e0d\u51fa\u7269\u4f53\u989c\u8272\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u89c2\u5bdf\u661f\u4e91\u65f6\uff08\u5176\u8868\u9762\u4eae\u5ea6\u5927\u591a\u5728 0.01 \u5c3c\u7279\u4ee5\u4e0b\uff09\uff0c\u770b\u4e0d\u51fa\u989c\u8272\u3002\u6709\u5173\u89c6\u529b\u4e0e\u4eae\u5ea6\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u662f\u9010\u6e10\u53d8\u5316\u7684\u3002</p> <p>\u4eba\u773c\u5bf9\u4eae\u5ea6\u7684\u53cd\u5e94\u5e76\u975e\u662f\u7ebf\u6027\u7684\uff0c\u6bd4\u5982\u5728\u660f\u6697\u7684\u623f\u95f4\u5185\uff0c\u6211\u4eec\u770b\u5230\u7684\u70db\u5149\u662f\u660e\u4eae\u7684\uff0c\u800c\u540c\u6837\u7684\u70db\u5149\u653e\u5728\u6b63\u5348\u7684\u9633\u5149\u4e0b\uff0c\u6211\u4eec\u751a\u81f3\u8fde\u706b\u82d7\u90fd\u770b\u4e0d\u89c1\uff0c\u8bf4\u660e\u4eba\u773c\u5bf9\u4eae\u5ea6\u53d8\u5316\u7684\u53cd\u5e94\u968f\u7740\u4eae\u5ea6\u7684\u589e\u52a0\u800c\u51cf\u5f31\u3002\u4eba\u773c\u7684\u8fd9\u79cd\u7279\u6027\u8fd1\u4f3c\u4e8e\u5bf9\u6570\u51fd\u6570\uff0c\u5982\u679c\u7528I\u8868\u793a\u4eae\u5ea6\uff0c\u4eba\u773c\u7684\u53cd\u5e94\u7528S\u8868\u793a\uff0c\u90a3\u4e48\u4e8c\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u4e3a\u53ef\u4ee5\u7528\u5bf9\u6570\u516c\u5f0f\u8868\u793a\u4e3a\u3002</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u624b\u673a\u5c4f\u5e55","title":"\u624b\u673a\u5c4f\u5e55","text":"<p>\u4eae\u5ea6\u901a\u5e38\u4ee5\u5c3c\u7279\uff08nits\uff0c\u6216\u79f0\u574e\u5fb7\u62c9\u6bcf\u5e73\u65b9\u7c73\uff0ccd/m\u00b2\uff09\u6765\u8861\u91cf\u3002\u73b0\u4ee3\u667a\u80fd\u624b\u673a\u7684\u5178\u578b\u6700\u5927\u4eae\u5ea6\u5728\u6b63\u5e38\u6761\u4ef6\u4e0b\u7ea6\u4e3a 400 \u5230 1000 \u5c3c\u7279\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u4eae\u5ea6\u4e3a 500 \u5c3c\u7279\uff08500 cd/m\u00b2\uff09\u7684\u667a\u80fd\u624b\u673a\u5c4f\u5e55\uff0c\u5047\u8bbe\u5e73\u5747\u6ce2\u957f\u5728\u84dd\u7eff\u8272\u533a\u57df\u7ea6\u4e3a 500 nm\uff08\u80fd\u91cf\u7ea6\u4e3a 2.48 eV \u6216 3.97 x 10\u207b\u00b9\u2079 J\uff09\uff0c\u5219\u5149\u5b50\u6570\u5bc6\u5ea6\u7ea6\u4e3a 1.26 x 10\u00b2\u00b9 \u4e2a\u5149\u5b50/(\u79d2\u00b7\u5e73\u65b9\u7c73)\uff0c\u603b\u65701.26 * 10^{19}\u5149\u5b50/\u79d21.26 * 10^{19}\u5149\u5b50/\u79d2\u3002\u8fdb\u5165\u773c\u775b\u5927\u698210e17\u4e2a\u5149\u5b50\u6bcf\u79d2\u3002</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u9633\u5149","title":"\u9633\u5149","text":"<p>\u592a\u9633\u8f90\u5c04\u7684\u5149\u5b66\u9891\u8c31\u63a5\u8fd1\u6e29\u5ea65800K\u7684\u9ed1\u4f53\u8f90\u5c04\u3002\u8fd9\u662f\u56e0\u4e3a\u592a\u9633\u5185\u90e8\u805a\u53d8\u4ea7\u751f\u7684gamma\uff0c\u7ecf\u8fc7\u591a\u6b21\u5438\u6536\u8f90\u5c04\u5728\u8868\u9762\u5df2\u7ecf\u662f\u975e\u5e38\u5b8c\u7f8e\u7684\u9ed1\u4f53\u8f90\u5c04\u8c31\u4e86\u3002 \u592a\u9633\u534a\u5f84\u662f70\u4e07\u5343\u7c73\uff087*10^8m7*10^8m\uff09.</p> <p>\u592a\u9633\u5230\u5730\u7403\u7684\u8ddd\u79bb\u662f15000\u4e07\u5343\u7c73\uff081.5*10^{11}m1.5*10^{11}m\uff09\u3002 \u516b\u5206\u949f\u5149\u3002\uff088*60*3*10^8=1.4*10^{11}m8*60*3*10^8=1.4*10^{11}m\uff09</p> <p>\\sigma=5.6*10^{-8}\\sigma=5.6*10^{-8}</p> <p>\u5230\u8fbe\u5730\u7403\u80fd\u6d41: \\sigma T^4 \\frac{ R_{s}^4}{R_{es}^4} = 1400 W/m^2\\sigma T^4 \\frac{ R_{s}^4}{R_{es}^4} = 1400 W/m^2</p> <p>\u5728\u6674\u6717\u7684\u5929\u6c14\u4e0b\uff0c\u5230\u8fbe\u6d77\u5e73\u9762\u7684\u76f4\u5c04\u9633\u5149\u7684\u5f3a\u5ea6\u7ea6\u4e3a 1050 W/m\u00b2 = 1000 J/m^2/s1000 J/m^2/s\u3002\u9633\u5149\u7684\u5149\u8c31\u5206\u5e03\u975e\u5e38\u5e7f\u6cdb\uff0c\u4ece 100 nm \u5230 1 mm\u3002</p> <p>\u4f30\u8ba1\u53ef\u89c1\u5149400nm\u5de6\u53f3\u3002 \u90a3\u4e48\u5149\u5b50\u6570\u7684\u91cf\u7ea7\u662f\uff1a1000 W/m^2/h\\nu = 2*10 ^{21} \u4e2a/m^2/s1000 W/m^2/h\\nu = 2*10 ^{21} \u4e2a/m^2/s</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5ba4\u5185\u7167\u660e","title":"\u5ba4\u5185\u7167\u660e","text":"<p>\u5bb6\u7528\u7167\u660e\u7684\u706f\uff0cled\u7684\u5149\u529f\u7387\u662f\u4e0d\u52300.3\u3002 LED\u529f\u7387\u4ece0.1W=0.1\uff08J/S\uff09\u523010W=10(J/S)\u4e0d\u7b49\u3002 \u5149\u5b50\u603b\u6570\u4e3a10^{17} \u4e2a/s10^{17} \u4e2a/s</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u6fc0\u5149\u7b14","title":"\u6fc0\u5149\u7b14","text":"<p>\u901a\u5e38\u4f4e\u4e8e 5 mW\u3002 \u5bf9\u4e8e\u4e00\u4e2a 5 mW \u7684\u7eff\u8272\u6fc0\u5149\u7b14\uff0c\u6bcf\u79d2\u53d1\u5c04\u7684\u5149\u5b50\u6570\u7ea6\u4e3a (5 x 10\u207b\u00b3 J/s) / (3.73 x 10\u207b\u00b9\u2079 J/photon) \u2248 1.34 x 10\u00b9\u2076 \u4e2a\u5149\u5b50/\u79d2</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u53d1\u5c04\u6e90","title":"\u53d1\u5c04\u6e90","text":"<p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u6d3b\u5ea6\u4e3a 1 \u5c45\u91cc\u7684\u653e\u5c04\u6e90\u5728 1 \u7c73\u5904\u7684\u4f3d\u9a6c\u5c04\u7ebf\u901a\u91cf\u7ea6\u4e3a 3.7 x 10\u00b9\u2070 \u4e2a\u5149\u5b50/(\u79d2\u00b7\u5e73\u65b9\u7c73)\u3002\u5728\u6838\u53cd\u5e94\u5806\u6216\u6838\u7206\u70b8\u7b49\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u4f3d\u9a6c\u5c04\u7ebf\u7684\u901a\u91cf\u53ef\u4ee5\u8fbe\u5230\u975e\u5e38\u9ad8\u7684\u6c34\u5e73\u3002 \u4f3d\u9a6c\u5c04\u7ebf\u7684\u80fd\u91cf\u8303\u56f4\u5f88\u5e7f\uff0c\u4ece\u51e0\u5341 keV \u5230\u51e0\u4e2a MeV \u662f\u6838\u7269\u7406\u4e2d\u5e38\u89c1\u7684\u80fd\u91cf\u8303\u56f4\u3002\u4f8b\u5982\uff0c\u94b4-60 \u8870\u53d8\u4f1a\u53d1\u5c04\u80fd\u91cf\u4e3a 1.17 MeV \u548c 1.33 MeV \u7684\u4f3d\u9a6c\u5c04\u7ebf\u3002\u4e00\u4e9b\u9ad8\u80fd\u5b87\u5b99\u5c04\u7ebf\u4e2d\u4e5f\u5305\u542b\u80fd\u91cf\u9ad8\u8fbe GeV \u751a\u81f3 TeV \u7684\u4f3d\u9a6c\u5c04\u7ebf\u3002  </p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5851\u6599\u95ea\u70c1\u4f53","title":"\u5851\u6599\u95ea\u70c1\u4f53","text":"<p>\u5851\u6599\u95ea\u70c1\u4f53\u7684\u95ea\u70c1\u6548\u7387\u901a\u5e38\u7ea6\u4e3a\u6bcf MeV 10,000 \u4e2a\u5149\u5b50\uff08\u5bf9\u4e8e\u7535\u5b50\uff09\uff0c\u4f46\u5bf9\u4e8e\u8d28\u5b50\u548c \u03b1 \u7c92\u5b50\uff0c\u7531\u4e8e\u731d\u706d\u6548\u5e94\uff0c\u5149\u4ea7\u989d\u4f1a\u663e\u8457\u964d\u4f4e\u3002</p> <p>\u95ea\u70c1\u4f53\u7684\u53d1\u5149\u5f3a\u5ea6\u901a\u5e38\u7528\u5149\u4ea7\u989d\u6765\u8861\u91cf\uff0c\u5373\u5355\u4f4d\u80fd\u91cf\u7684\u8f90\u5c04\u5728\u95ea\u70c1\u4f53\u4e2d\u6c89\u79ef\u65f6\u4ea7\u751f\u7684\u53ef\u89c1\u5149\u5149\u5b50\u6570\u3002\u5149\u4ea7\u989d\u56e0\u95ea\u70c1\u4f53\u6750\u6599\u800c\u5f02\uff0c\u4f8b\u5982\uff0cNaI(Tl) \u95ea\u70c1\u4f53\u7684\u5149\u4ea7\u989d\u7ea6\u4e3a\u6bcf MeV \u6c89\u79ef\u80fd\u91cf\u4ea7\u751f\u51e0\u4e07\u4e2a\u5149\u5b50\u3002\u5851\u6599\u95ea\u70c1\u4f53\u7684\u5149\u4ea7\u989d\u901a\u5e38\u8f83\u4f4e\u3002 \u95ea\u70c1\u4f53\u53d1\u51fa\u7684\u5149\u7684\u5149\u5b50\u80fd\u91cf\u901a\u5e38\u5728\u53ef\u89c1\u5149\u6216\u8fd1\u7d2b\u5916\u6ce2\u6bb5\uff0c\u80fd\u91cf\u7ea6\u4e3a\u51e0\u4e2a eV\u3002\u4f8b\u5982\uff0cNaI(Tl) \u95ea\u70c1\u4f53\u53d1\u51fa\u7684\u5149\u7684\u6ce2\u957f\u4e3b\u8981\u5728 415 nm \u9644\u8fd1\uff0c\u5bf9\u5e94\u7684\u5149\u5b50\u80fd\u91cf\u7ea6\u4e3a 3 eV\u3002 \u95ea\u70c1\u4f53\u53d1\u51fa\u7684\u5149\u7684\u5149\u5b50\u6570\u53d6\u51b3\u4e8e\u5165\u5c04\u8f90\u5c04\u7684\u80fd\u91cf\u548c\u95ea\u70c1\u4f53\u7684\u5149\u4ea7\u989d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u80fd\u91cf\u4e3a 1 MeV \u7684\u4f3d\u9a6c\u5c04\u7ebf\u88ab NaI(Tl) \u95ea\u70c1\u4f53\u5438\u6536\uff0c\u5927\u7ea6\u4f1a\u4ea7\u751f\u51e0\u4e07\u4e2a\u53ef\u89c1\u5149\u5149\u5b50\u3002\u8fd9\u4e9b\u5149\u5b50\u4f1a\u88ab\u5149\u63a2\u6d4b\u5668\uff08\u5982\u5149\u7535\u500d\u589e\u7ba1\u6216\u7845\u5149\u7535\u500d\u589e\u5668\uff09\u6536\u96c6\u5e76\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7\u8fdb\u884c\u5206\u6790\u3002  </p> <p>\u5e26\u7535\u7c92\u5b50\u5728\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u7684\u5149\u4ea7\u989d\u901a\u5e38\u5728\u6bcf MeV \u6c89\u79ef\u80fd\u91cf\u4e0b\u4ea7\u751f 3000 \u5230 20000 \u4e2a\u5149\u5b50\u7684\u8303\u56f4\u5185\u53d8\u5316 \u3002\u4f8b\u5982\uff0c\u4e00\u79cd\u4f7f\u7528\u82ef\u4e59\u70ef\u5f00\u53d1\u7684\u5851\u6599\u95ea\u70c1\u4f53\uff0c\u5176\u6700\u5927\u53d1\u5c04\u6ce2\u957f\u7ea6\u4e3a 427 nm\uff0c\u5bf9\u4e8e 1 MeV \u7684\u5165\u5c04\u8f90\u5c04\uff0c\u5149\u4ea7\u989d\u4e3a 6134 \u4e2a\u5149\u5b50\u3002\u5e02\u552e\u7684\u5851\u6599 \u3002Tin \u63ba\u6742\u7684\u5851\u6599\u95ea\u70c1\u4f53\u901a\u5e38\u5177\u6709\u7ea6 10000 \u4e2a\u5149\u5b50/MeV \u7684\u5149\u4ea7\u989d\uff0c\u5e76\u4e14\u95ea\u70c1\u8870\u51cf\u65f6\u95f4\u5f88\u5feb\uff0c\u7ea6\u4e3a 1 \u5230 10 \u7eb3\u79d2 \u3002\u5851\u6599\u95ea\u70c1\u4f53\u7684\u4e00\u4e2a\u663e\u8457\u4f18\u70b9\u662f\u5176\u6781\u77ed\u7684\u8870\u51cf\u65f6\u95f4\uff0c\u8fd9\u4f7f\u5f97\u5b83\u4eec\u5bf9\u4e8e\u9700\u8981\u7cbe\u786e\u98de\u884c\u65f6\u95f4\u6d4b\u91cf\u7684\u5b9e\u9a8c\u81f3\u5173\u91cd\u8981\u3002</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5b87\u5b99\u5c04\u7ebf","title":"\u5b87\u5b99\u5c04\u7ebf","text":"<p>\u4e00\u822c\u90fd\u4f1a\u5927\u6c14\u7c07\u5c04\u6389\uff0c\u5230\u8fbe\u5730\u9762\u4e00\u822c\u662f\\mu\\mu\u5b50\u3002\u03bc \u5b50\u4f5c\u4e3a\u4e3b\u8981\u7684\u5730\u9762\u5b87\u5b99\u5c04\u7ebf\u6210\u5206\uff0c\u80fd\u91cf\u8303\u56f4\u4e3a\u51e0\u4e2aGeV\uff0c\u5728 1 \u5398\u7c73\u539a\u7684\u5851\u6599\u4e2d\u6c89\u79ef\u7684\u80fd\u91cf\u76f8\u5bf9\u8f83\u5c0f\u4e14\u7a33\u5b9a\uff0c\u7ea6\u4e3a 1.5-2 MeV\u3002</p> <p>\u5851\u6599\u95ea\u70c1\u4f53\u7684\u95ea\u70c1\u6548\u7387\u901a\u5e38\u7ea6\u4e3a\u6bcf MeV 10,000 \u4e2a\u5149\u5b50\uff08\u5bf9\u4e8e\u7535\u5b50\uff09\uff0c\u4f46\u5bf9\u4e8e\u8d28\u5b50\u548c \u03b1 \u7c92\u5b50\uff0c\u7531\u4e8e\u731d\u706d\u6548\u5e94\uff0c\u5149\u4ea7\u989d\u4f1a\u663e\u8457\u964d\u4f4e\u3002For equal energies, aproton will produce only \u00bc to \u00bd the light of anelectron, while alphas will produce only about 1/10 the light. \u6765\u6e90</p> <p>\u6d77\u5e73\u9762\u6c34\u5e73\u63a2\u6d4b\u5668\u7684 \u03bc \u5b50\u901a\u91cf\u7ea6\u4e3a\u6bcf\u5e73\u65b9\u5398\u7c73\u6bcf\u5206\u949f 1 \u4e2a .\u6765\u6e90 \u6765\u6e902</p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/number_order_dimension/#\u5207\u4f26\u79d1\u592b","title":"\u5207\u4f26\u79d1\u592b","text":"<p>\u4e00\u4e2a\u80fd\u91cf\u4e3a GeV \u7684\u7535\u5b50\u5728\u6c34\u4e2d\u4ea7\u751f\u7684\u5207\u4f26\u79d1\u592b\u5149\u7684\u5149\u5b50\u6570\u5bc6\u5ea6\u53ef\u80fd\u5728\u6bcf\u79d2\u6bcf\u5e73\u65b9\u7c73\u51e0\u5343\u5230\u51e0\u4e07\u4e2a\u5149\u5b50\u7684\u91cf\u7ea7\u3002  </p>","tags":["\u79d1\u7814","\u6570\u91cf\u7ea7"]},{"location":"sci/cheatshet/termux/","title":"termux \u8fd0\u884cubuntu","text":""},{"location":"sci/cheatshet/termux/#\u4f7f\u7528-termux-\u8fd0\u884c-ubuntu","title":"\u4f7f\u7528 Termux \u8fd0\u884c Ubuntu","text":"<p>Termux \u662f\u4e00\u4e2a\u5f3a\u5927\u7684 Android \u7ec8\u7aef\u6a21\u62df\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7 AnLinux \u5de5\u5177\u5728\u5176\u4e2d\u8fd0\u884c Ubuntu\u3002</p> <p>Termux\uff1a\u5730\u57fa\u548c\u5de5\u5177\u7bb1</p> <pre><code>Termux \u662f\u4e00\u4e2a Android \u7ec8\u7aef\u6a21\u62df\u5668\u5e94\u7528\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5b83\u5c31\u50cf\u5728\u4f60\u7684\u5b89\u5353\u8bbe\u5907\u4e0a\u6253\u5f00\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\uff0c\u8ba9\u4f60\u80fd\u591f\u8f93\u5165\u548c\u6267\u884c Linux \u547d\u4ee4\uff0c\u800c\u4e14\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u4f60\u7684\u624b\u673a\u8fdb\u884c root \u64cd\u4f5c\u3002\nTermux \u81ea\u5e26\u4e86\u4e00\u4e2a\u8f6f\u4ef6\u5305\u7ba1\u7406\u5668 (pkg)\uff0c\u5e76\u4e14\u5305\u542b\u4e86\u5f88\u591a\u5df2\u7ecf\u9002\u914d\u5230\u5b89\u5353\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684 Linux \u5de5\u5177\u548c\u5b9e\u7528\u7a0b\u5e8f\u3002\u4f60\u53ef\u4ee5\u628a\u5b83\u60f3\u8c61\u6210\u4e00\u4e2a\u8ff7\u4f60\u7684 Linux \u73af\u5883\u3002\nTermux \u5229\u7528\u4e86\u5b89\u5353\u7cfb\u7edf\u5e95\u5c42\u7684 Linux \u5185\u6838\uff0c\u4f46\u5b83\u8fd0\u884c\u5728\u5b89\u5353\u7684\u5b89\u5168\u6a21\u578b\u548c\u6587\u4ef6\u7cfb\u7edf\u6743\u9650\u7684\u9650\u5236\u4e4b\u5185\u3002\n</code></pre> <p>Termux \u91cc\u7684 Ubuntu\uff1a\u4e00\u4e2a\u8bbf\u5ba2\u73af\u5883</p> <pre><code>\u5f53\u4f60\u5728 Termux \u91cc\u9762\u5b89\u88c5 Ubuntu \u65f6\uff0c\u4f60\u5b9e\u9645\u4e0a\u662f\u521b\u5efa\u4e86\u4e00\u4e2a chroot \u73af\u5883\u6216\u8005\u4f7f\u7528\u4e86\u50cf PRoot \u8fd9\u6837\u7684\u5de5\u5177\u3002\u8fd9\u4e9b\u6280\u672f\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u9694\u79bb\u7684\u6587\u4ef6\u7cfb\u7edf\u73af\u5883\uff0c\u8fd9\u4e2a\u73af\u5883\u6a21\u4eff\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684 Linux \u53d1\u884c\u7248\u3002\nChroot \uff08change root\uff0c\u6539\u53d8\u6839\u76ee\u5f55\uff09\u662f\u4e00\u79cd\u66f4\u4f20\u7edf\u7684 Unix \u673a\u5236\uff0c\u5b83\u4f1a\u6539\u53d8\u5f53\u524d\u8fdb\u7a0b\u53ca\u5176\u5b50\u8fdb\u7a0b\u6240\u770b\u5230\u7684\u6839\u76ee\u5f55\u3002\u8981\u5b8c\u5168\u4f7f\u7528 chroot \u7684\u529f\u80fd\uff0c\u901a\u5e38\u9700\u8981\u4f60\u7684\u5b89\u5353\u8bbe\u5907\u5df2\u7ecf root\u3002\nPRoot \u662f chroot\u3001mount --bind \u548c binfmt_misc \u7684\u7528\u6237\u7a7a\u95f4\u5b9e\u73b0\u3002\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u9700\u8981 root \u6743\u9650\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c Linux \u53d1\u884c\u7248\uff0c\u5176\u539f\u7406\u662f\u62e6\u622a\u7cfb\u7edf\u8c03\u7528\u3002Termux \u7ecf\u5e38\u4f7f\u7528 PRoot \u6765\u5728\u672a root \u7684\u8bbe\u5907\u4e0a\u5b89\u88c5\u50cf Ubuntu \u8fd9\u6837\u7684\u53d1\u884c\u7248\u3002\n\u4f60\u5728 Termux \u91cc\u5b89\u88c5\u7684 Ubuntu \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7528\u6237\u7a7a\u95f4\u73af\u5883\u3002 \u5b83\u6709\u81ea\u5df1\u7684\u6587\u4ef6\u7cfb\u7edf\u3001\u7528\u6237\u548c\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\uff08\u901a\u5e38\u662f apt\uff09\u3002\u7136\u800c\uff0c\u5b83\u4ecd\u7136\u662f\u8fd0\u884c\u5728 Termux \u73af\u5883\u548c\u5e95\u5c42\u7684\u5b89\u5353\u5185\u6838\u4e4b\u4e0a\u7684\u3002\n</code></pre> <p>\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</p> <p>\u4f60\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a</p> <pre><code>\u5b89\u5353\u7cfb\u7edf\uff1a \u5bbf\u4e3b\u64cd\u4f5c\u7cfb\u7edf\uff08\u5c31\u50cf\u623f\u5b50\u7684\u5730\u57fa\uff09\u3002\nTermux\uff1a \u8fd0\u884c\u5728\u5b89\u5353\u4e0a\u7684\u4e00\u4e2a\u5e94\u7528\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u4f3c Linux \u7684\u7ec8\u7aef\u548c\u4e00\u4e9b\u57fa\u672c\u7684\u5de5\u5177\uff08\u5c31\u50cf\u623f\u5b50\u91cc\u7684\u5de5\u5177\u7bb1\uff09\u3002\nUbuntu\uff08\u5728 Termux \u91cc\uff09\uff1a \u4e00\u4e2a\u8fd0\u884c\u5728 Termux \u5185\u90e8\u7684\u8bbf\u5ba2 Linux \u53d1\u884c\u7248\uff0c\u901a\u8fc7 chroot \u6216 PRoot \u6280\u672f\u4e0e\u4e3b\u8981\u7684\u5b89\u5353\u548c Termux \u7cfb\u7edf\u9694\u79bb\u5f00\uff08\u5c31\u50cf\u5728\u623f\u5b50\u91cc\u642d\u5efa\u7684\u4e00\u4e2a\u72ec\u7acb\u7684\u5c0f\u623f\u95f4\uff09\u3002\n</code></pre> <p>\u4e3b\u8981\u7684\u533a\u522b\u548c\u9700\u8981\u8003\u8651\u7684\u4e8b\u9879\uff1a</p> <pre><code>\u5185\u6838\uff1a \u5728 Termux \u91cc\u8fd0\u884c\u7684 Ubuntu \u5171\u4eab\u5b89\u5353\u7cfb\u7edf\u5e95\u5c42\u7684 \u540c\u4e00\u4e2a Linux \u5185\u6838\u3002\u5b83\u6ca1\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u5185\u6838\u3002\n\u786c\u4ef6\u8bbf\u95ee\uff1a \u4ece Ubuntu \u73af\u5883\u4e2d\u8bbf\u95ee\u786c\u4ef6\uff08\u6bd4\u5982 GPU\u3001\u6444\u50cf\u5934\u7b49\uff09\u901a\u5e38\u662f\u53d7\u9650\u7684\uff0c\u6216\u8005\u9700\u8981\u7279\u5b9a\u7684\u914d\u7f6e\u548c\u53d8\u901a\u65b9\u6cd5\u3002\n\u6027\u80fd\uff1a \u7531\u4e8e\u6d89\u53ca\u5230\u6a21\u62df\u6216\u9694\u79bb\u5c42\uff0c\u5728 Termux \u91cc\u8fd0\u884c\u4e00\u4e2a\u5b8c\u6574\u7684 Linux \u53d1\u884c\u7248\u6709\u65f6\u4f1a\u6bd4\u5728\u4e13\u7528\u7535\u8111\u4e0a\u8fd0\u884c\u6162\u3002\nRoot \u6743\u9650\uff1a \u867d\u7136 Termux \u672c\u8eab\u901a\u5e38\u4e0d\u9700\u8981 root \u6743\u9650\uff0c\u4f46\u4f7f\u7528 chroot \u6765\u83b7\u5f97\u5b8c\u6574\u7684 Ubuntu \u4f53\u9a8c\u901a\u5e38\u9700\u8981 root\u3002PRoot \u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e root \u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u4f46\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u9650\u5236\u3002\n\u76ee\u7684\uff1a \u4eba\u4eec\u5728 Termux \u91cc\u8fd0\u884c Ubuntu \u7684\u539f\u56e0\u6709\u5f88\u591a\uff0c\u6bd4\u5982\u8bbf\u95ee\u7279\u5b9a\u7684 Linux \u5de5\u5177\u3001\u642d\u5efa\u5f00\u53d1\u73af\u5883\u6216\u8005\u5728\u5b89\u5353\u8bbe\u5907\u4e0a\u5b66\u4e60 Linux \u547d\u4ee4\u3002\u5b83\u901a\u5e38\u4e0d\u80fd\u5b8c\u5168\u66ff\u4ee3\u5728\u7535\u8111\u4e0a\u5b89\u88c5\u7684\u5b8c\u6574 Ubuntu \u7cfb\u7edf\u3002\n</code></pre> <p>\u603b\u800c\u8a00\u4e4b\uff0cTermux \u63d0\u4f9b\u4e86\u4e00\u4e2a\u73af\u5883\u548c\u5fc5\u8981\u7684\u5de5\u5177\uff0c\u901a\u8fc7\u50cf chroot \u6216 PRoot \u8fd9\u6837\u7684\u6280\u672f\uff0c\u5728\u4f60\u7684\u5b89\u5353\u8bbe\u5907\u4e0a\u521b\u5efa\u5e76\u8fd0\u884c\u4e00\u4e2a\u72ec\u7acb\u7684 Ubuntu \u7528\u6237\u7a7a\u95f4\u3002\u8fd9\u4e2a Ubuntu \u5b9e\u4f8b\u662f Termux \u91cc\u7684\u4e00\u4e2a\u8bbf\u5ba2\uff0c\u5b83\u5171\u4eab\u5e95\u5c42\u7684\u5b89\u5353\u5185\u6838\uff0c\u4f46\u62e5\u6709\u81ea\u5df1\u9694\u79bb\u7684\u6587\u4ef6\u7cfb\u7edf\u548c\u8f6f\u4ef6\u751f\u6001\u7cfb\u7edf\u3002</p> <p>\u4ee5\u4e0b\u662f\u6b65\u9aa4\uff1a</p>"},{"location":"sci/cheatshet/termux/#\u5b89\u88c5-termux-\u548c-anlinux","title":"\u5b89\u88c5 Termux \u548c AnLinux","text":"<ol> <li>\u4ece Google Play \u6216 F-Droid \u5b89\u88c5 Termux\u3002</li> <li>\u5b89\u88c5 AnLinux \u5e94\u7528\u7a0b\u5e8f\uff0c\u7528\u4e8e\u7b80\u5316 Linux \u73af\u5883\u7684\u5b89\u88c5\u3002</li> </ol>"},{"location":"sci/cheatshet/termux/#\u914d\u7f6e-ubuntu-\u73af\u5883","title":"\u914d\u7f6e Ubuntu \u73af\u5883","text":"<ol> <li>\u6253\u5f00 Termux\uff0c\u66f4\u65b0\u5305\u7ba1\u7406\u5668\uff1a <pre><code>pkg update &amp;&amp; pkg upgrade\n</code></pre></li> <li>\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177\uff1a <pre><code>pkg install wget proot\n</code></pre></li> <li>\u4f7f\u7528 AnLinux \u63d0\u4f9b\u7684\u811a\u672c\u4e0b\u8f7d\u5e76\u5b89\u88c5 Ubuntu\uff1a <pre><code>wget https://raw.githubusercontent.com/Neo-Oli/termux-ubuntu/master/ubuntu.sh\nbash ubuntu.sh\n</code></pre></li> </ol>"},{"location":"sci/cheatshet/termux/#\u542f\u52a8-ubuntu","title":"\u542f\u52a8 Ubuntu","text":"<ol> <li>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u5165 Ubuntu \u73af\u5883\uff1a <pre><code>./start-ubuntu.sh\n</code></pre></li> <li>\u73b0\u5728\u4f60\u53ef\u4ee5\u5728 Ubuntu \u73af\u5883\u4e2d\u5b89\u88c5\u548c\u8fd0\u884c\u5404\u79cd\u5de5\u5177\u3002</li> </ol>"},{"location":"sci/cheatshet/termux/#\u6ce8\u610f\u4e8b\u9879","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u786e\u4fdd\u4f60\u7684\u8bbe\u5907\u6709\u8db3\u591f\u7684\u5b58\u50a8\u7a7a\u95f4\u3002</li> <li>\u4f7f\u7528 <code>exit</code> \u547d\u4ee4\u9000\u51fa Ubuntu \u73af\u5883\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u5728 Termux \u4e2d\u6210\u529f\u8fd0\u884c Ubuntu\u3002</p>"},{"location":"sci/cheatshet/termux/#\u6dfb\u52a0\u56fe\u5f62\u754c\u9762","title":"\u6dfb\u52a0\u56fe\u5f62\u754c\u9762","text":""},{"location":"sci/cheatshet/vimrc/","title":"vim\u914d\u7f6e\u6587\u4ef6","text":"<p>\u89c2\u524d\u63d0\u793a\uff1a\u4e0d\u77e5\u9053\u4ec0\u4e48\u662fvim\u7684\uff0c\u53ef\u4ee5\u5728linux\u7ec8\u7aef\u8f93\u5165<code>vimtutor zh</code>.</p> <p>vimrc \u6587\u4ef6\u662f Vim \u7f16\u8f91\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u5b9a\u4e49 Vim \u7684\u884c\u4e3a\u3001\u5916\u89c2\u548c\u529f\u80fd\u3002\u901a\u8fc7\u7f16\u8f91 vimrc \u6587\u4ef6\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49 Vim \u7684\u4f7f\u7528\u4f53\u9a8c\uff0c\u4f8b\u5982\u8bbe\u7f6e\u5feb\u6377\u952e\u3001\u542f\u7528\u63d2\u4ef6\u3001\u8c03\u6574\u914d\u8272\u65b9\u6848\u7b49\u3002</p> <p>Vim \u7684\u529f\u80fd\u7279\u6027\u8981\u6bd4 Vi \u591a\u5f97\u591a\uff0c\u4f46\u5176\u4e2d\u5927\u90e8\u5206\u90fd\u6ca1\u6709\u7f3a\u7701\u542f\u7528\u3002\u4e3a\u4e86\u4f7f\u7528\u66f4\u591a\u7684   \u7279\u6027\uff0c\u60a8\u5f97\u521b\u5efa\u4e00\u4e2a vimrc \u6587\u4ef6\u3002</p>"},{"location":"sci/cheatshet/vimrc/#\u4e0d\u9700\u8981\u63d2\u4ef6\u7684vimrc","title":"\u4e0d\u9700\u8981\u63d2\u4ef6\u7684vimrc","text":"<p>https://github.com/YanivZalach/Vim_Config_NO_PLUGINS/blob/main/.vimrc</p> <p>\u8fd9\u91cc\u9762\u5b9a\u4e49\u4e86\u8fd9\u4e9b\u5feb\u6377\u952e</p>"},{"location":"sci/cheatshet/vimrc/#\u5e38\u7528\u5feb\u6377\u952e","title":"\u5e38\u7528\u5feb\u6377\u952e","text":"<pre><code>jj\uff1a\u5feb\u901f\u9000\u51fa\u63d2\u5165\u6a21\u5f0f\u3002\nQ\uff1a\u683c\u5f0f\u5316\u6bb5\u843d\u4e3a\u884c\u3002\n&lt;leader&gt;\uff1a\u7a7a\u683c\u952e\u88ab\u8bbe\u7f6e\u4e3a Leader \u952e\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u6587\u4ef6\u64cd\u4f5c","title":"\u6587\u4ef6\u64cd\u4f5c","text":"<pre><code>&lt;leader&gt;a\uff1a\u9009\u62e9\u5168\u6587\u3002\n&lt;leader&gt;e\uff1a\u6253\u5f00\u6587\u4ef6\u6d4f\u89c8\u5668\uff08Lexplore\uff09\u3002\n&lt;leader&gt;o\uff1a\u4ece\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u6587\u4ef6\uff08Explore\uff09\u3002\n&lt;C-S&gt;\uff1a\u4fdd\u5b58\u6587\u4ef6\u3002\n&lt;C-q&gt;\uff1a\u4fdd\u5b58\u5e76\u9000\u51fa\u6587\u4ef6\u3002\n&lt;leader&gt;c\uff1a\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00/\u521b\u5efa\u6587\u4ef6\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u5206\u5c4f\u64cd\u4f5c","title":"\u5206\u5c4f\u64cd\u4f5c","text":"<pre><code>&lt;leader&gt;y\uff1a\u6c34\u5e73\u5206\u5c4f\u3002\n&lt;leader&gt;x\uff1a\u5782\u76f4\u5206\u5c4f\u3002\n&lt;C-j&gt;\uff1a\u5206\u5c4f\u4e2d\u5411\u4e0b\u79fb\u52a8\u3002\u6307\u5149\u6807\u805a\u7126\u70b9\n&lt;C-k&gt;\uff1a\u5206\u5c4f\u4e2d\u5411\u4e0a\u79fb\u52a8\u3002\n&lt;C-h&gt;\uff1a\u5206\u5c4f\u4e2d\u5411\u5de6\u79fb\u52a8\u3002\n&lt;C-l&gt;\uff1a\u5206\u5c4f\u4e2d\u5411\u53f3\u79fb\u52a8\u3002\n&lt;A-Up&gt;\uff1a\u589e\u52a0\u5206\u5c4f\u9ad8\u5ea6\u3002\n&lt;A-Down&gt;\uff1a\u51cf\u5c11\u5206\u5c4f\u9ad8\u5ea6\u3002\n&lt;A-Left&gt;\uff1a\u51cf\u5c11\u5206\u5c4f\u5bbd\u5ea6\u3002\n&lt;A-Right&gt;\uff1a\u589e\u52a0\u5206\u5c4f\u5bbd\u5ea6\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u6807\u7b7e\u9875\u64cd\u4f5c","title":"\u6807\u7b7e\u9875\u64cd\u4f5c","text":"<pre><code>&lt;leader&gt;t\uff1a\u5207\u6362\u6807\u7b7e\u9875\u3002\n&lt;leader&gt;c\uff1a\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00\u6587\u4ef6\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u641c\u7d22\u548c\u66ff\u6362","title":"\u641c\u7d22\u548c\u66ff\u6362","text":"<pre><code>&lt;leader&gt;sw\uff1a\u7528\u6307\u5b9a\u5b57\u7b26\u5305\u88f9\u5355\u8bcd\u3002\n&lt;leader&gt;rw\uff1a\u66ff\u6362\u6240\u6709\u51fa\u73b0\u7684\u5355\u8bcd\u3002\n&lt;C-z&gt;\uff1a\u6253\u5f00/\u5173\u95ed\u62fc\u5199\u68c0\u67e5\uff0c\u9ed8\u8ba4\u68c0\u67e5\u82f1\u8bed\uff08en_us\uff09\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u7ec8\u7aef\u64cd\u4f5c","title":"\u7ec8\u7aef\u64cd\u4f5c","text":"<pre><code>&lt;C-t&gt;\uff1a\u6253\u5f00\u7ec8\u7aef\u7a97\u53e3\u3002\n&lt;C-t&gt;\uff08\u7ec8\u7aef\u6a21\u5f0f\uff09\uff1a\u5173\u95ed\u7ec8\u7aef\u7a97\u53e3\u3002\n&lt;C-i&gt; \u6216 Esc\uff08\u7ec8\u7aef\u6a21\u5f0f\uff09\uff1a\u4f7f\u7ec8\u7aef\u7a97\u53e3\u53ef\u6eda\u52a8\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u7279\u6b8a\u529f\u80fd","title":"\u7279\u6b8a\u529f\u80fd","text":"<pre><code>&lt;leader&gt;ht\uff1a\u5207\u6362\u5e0c\u4f2f\u6765\u8bed\u952e\u76d8\u6620\u5c04\u548c\u4ece\u53f3\u5230\u5de6\u7684\u8bbe\u7f6e\u3002\n&lt;leader&gt;hx\uff1a\u5728\u521b\u5efa\u5341\u516d\u8fdb\u5236\u6587\u4ef6\u548c\u8fd8\u539f\u4e4b\u95f4\u5207\u6362\u3002\n&lt;leader&gt;r\uff1a\u67e5\u770b\u5bc4\u5b58\u5668\u5185\u5bb9\u3002\n&lt;leader&gt;v\uff1a\u5207\u6362\u5757\u6a21\u5f0f\uff08V-Block\uff09\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u590d\u5236\u4e0e\u7c98\u8d34","title":"\u590d\u5236\u4e0e\u7c98\u8d34","text":"<pre><code>&lt;C-V&gt;\uff1a\u7c98\u8d34\u5185\u5bb9\u3002\n&lt;C-C&gt;\uff1a\u590d\u5236\u5185\u5bb9\u5230\u7cfb\u7edf\u526a\u8d34\u677f\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u884c\u64cd\u4f5c","title":"\u884c\u64cd\u4f5c","text":"<pre><code>J\uff08\u53ef\u89c6\u6a21\u5f0f\uff09\uff1a\u5c06\u9009\u4e2d\u7684\u884c\u5411\u4e0b\u79fb\u52a8\u3002\nK\uff08\u53ef\u89c6\u6a21\u5f0f\uff09\uff1a\u5c06\u9009\u4e2d\u7684\u884c\u5411\u4e0a\u79fb\u52a8\u3002\n</code></pre>"},{"location":"sci/cheatshet/vimrc/#\u5e38\u7528\u7684\u63d2\u4ef6\u7ba1\u7406\u5e93-vim-plug","title":"\u5e38\u7528\u7684\u63d2\u4ef6\u7ba1\u7406\u5e93 vim plug","text":"<p>\u63a8\u8350\u7684 vimrc \u914d\u7f6e\u8d44\u6e90</p> <p>Amix's Vimrc\uff1a\u4e00\u4e2a\u6d41\u884c\u7684 Vim \u914d\u7f6e\u4ed3\u5e93\uff0c\u5305\u542b\u4e30\u5bcc\u7684\u63d2\u4ef6\u548c\u4f18\u5316\u3002</p> <p>Vim Awesome\uff1a\u4e00\u4e2a\u63d2\u4ef6\u8d44\u6e90\u7f51\u7ad9\uff0c\u5e2e\u52a9\u7528\u6237\u6269\u5c55 Vim \u7684\u529f\u80fd\u3002</p> <p>https://github.com/junegunn/vim-plug</p> <pre><code>call plug#begin('~/.vim/plugged')\n\n\" \u793a\u4f8b\u63d2\u4ef6\n\" Plug 'preservim/nerdtree'         \" \u6587\u4ef6\u6811\n\" Plug 'junegunn/fzf', { 'do': './install --all' } \" \u6a21\u7cca\u641c\u7d22\n\" Plug 'vim-airline/vim-airline'    \" \u72b6\u6001\u680f\n\" Plug 'tpope/vim-fugitive'         \" Git \u96c6\u6210\n\" Plug 'sheerun/vim-polyglot'       \" \u591a\u8bed\u8a00\u652f\u6301\n\" Plug 'scrooloose/nerdcommenter'   \" \u5feb\u901f\u6ce8\u91ca\n\nPlug 'liuchengxu/vim-which-key'\n\ncall plug#end()\n\n\n\n\nset timeoutlen=50\n\nlet g:mapleader = \"\\&lt;Space&gt;\"\nlet g:maplocalleader = \",\"\nnnoremap &lt;silent&gt; &lt;leader&gt; :WhichKey '&lt;Space&gt;'&lt;CR&gt;\nnnoremap &lt;silent&gt; &lt;localleader&gt; :WhichKey ','&lt;CR&gt;\n\n\n\" Mouse functionality\n    set mouse=a\n</code></pre> <p>neovim\u4e0elazyvim\u8be6\u89c1vim_neovim.zh</p>"},{"location":"sci/minimal_code/Operating_system/","title":"\u88c5\u7cfb\u7edf","text":""},{"location":"sci/minimal_code/Operating_system/#win","title":"win","text":"<p>https://www.wepe.com.cn/download.html</p>"},{"location":"sci/minimal_code/Operating_system/#linux","title":"linux","text":""},{"location":"sci/minimal_code/Operating_system/#subsystem-of-win","title":"subsystem of win","text":""},{"location":"sci/minimal_code/c%2B%2Bproject/","title":"c++\u9879\u76ee","text":"<p>Linux + VScode(vim,emacs) + git + gcc + makefile + cmake \u6700\u57fa\u672c\u7684\u8981\u6c42\u3002</p> <p>google c++\u98ce\u683c\u6307\u5357</p>"},{"location":"sci/minimal_code/c%2B%2Bproject/#c-\u9879\u76ee\u6784\u5efa\u6d41\u7a0b\u4ece-gcc-\u5230-makefile-\u5230-cmake","title":"C++ \u9879\u76ee\u6784\u5efa\u6d41\u7a0b\uff1a\u4ece GCC \u5230 Makefile \u5230 CMake","text":"<p>\u5728 Linux \u73af\u5883\u4e0b\uff0c\u4f7f\u7528 VS Code (\u6216\u5176\u4ed6\u7f16\u8f91\u5668\u5982 Vim, Emacs) \u8fdb\u884c C++ \u9879\u76ee\u5f00\u53d1\uff0c\u5e76\u7ed3\u5408 Git \u8fdb\u884c\u7248\u672c\u63a7\u5236\uff0c\u662f\u5e38\u89c1\u7684\u5f00\u53d1\u6a21\u5f0f\u3002  <code>gcc</code>, <code>makefile</code>, \u548c <code>cmake</code> \u662f\u6784\u5efa C++ \u9879\u76ee\u7684\u5173\u952e\u5de5\u5177\u3002</p> <p>c++ \u591a\u591a\u6587\u4ef6\u9879\u76ee\u7ed3\u6784</p>"},{"location":"sci/minimal_code/c%2B%2Bproject/#1-\u4f7f\u7528-gcc-\u76f4\u63a5\u7f16\u8bd1","title":"1. \u4f7f\u7528 GCC \u76f4\u63a5\u7f16\u8bd1","text":""},{"location":"sci/minimal_code/c%2B%2Bproject/#11-\u7f16\u5199-c-\u6e90\u4ee3\u7801","title":"1.1 \u7f16\u5199 C++ \u6e90\u4ee3\u7801","text":"<p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u521b\u5efa\u5305\u542b C++ \u4ee3\u7801\u7684 <code>.cpp</code> \u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u521b\u5efa <code>main.cpp</code> \u548c <code>myclass.cpp</code>\uff0c\u4ee5\u53ca\u5934\u6587\u4ef6 <code>myclass.h</code>\u3002</p> <ul> <li> <p><code>myclass.h</code>:</p> <pre><code>// filepath: myclass.h\n#ifndef MYCLASS_H\n#define MYCLASS_H\n\nclass MyClass {\npublic:\nMyClass();\nvoid printMessage();\n};\n\n#endif\n</code></pre> </li> <li> <p><code>myclass.cpp</code>:</p> <pre><code>// filepath: myclass.cpp\n#include &lt;iostream&gt;\n#include \"myclass.h\"\n\nMyClass::MyClass() {}\n\nvoid MyClass::printMessage() {\nstd::cout &lt;&lt; \"Hello from MyClass!\" &lt;&lt; std::endl;\n}\n</code></pre> </li> <li> <p><code>main.cpp</code>:</p> <pre><code>// filepath: main.cpp\n#include \"myclass.h\"\n\nint main() {\nMyClass myObject;\nmyObject.printMessage();\nreturn 0;\n}\n</code></pre> </li> </ul>"},{"location":"sci/minimal_code/c%2B%2Bproject/#12-\u7f16\u8bd1\u6e90\u4ee3\u7801","title":"1.2 \u7f16\u8bd1\u6e90\u4ee3\u7801","text":"<p>\u4f7f\u7528 <code>g++</code> \u547d\u4ee4\u5c06\u6e90\u4ee3\u7801\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff08<code>.o</code> \u6587\u4ef6\uff09\u3002</p> <pre><code>g++ -c myclass.cpp -o myclass.o\ng++ -c main.cpp -o main.o\n</code></pre>"},{"location":"sci/minimal_code/color_scheme/","title":"\u79d1\u7814\u914d\u56fe","text":"","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u8272\u89c6\u89c9\u539f\u7406","title":"\u8272\u89c6\u89c9\u539f\u7406","text":"<p>\u539f\u7406\u90e8\u5206\u53ef\u89c1\u8d39\u66fc\u7b2c\u4e00\u5377\u4e2d\u7684\u5185\u5bb9\u3002</p> <p>\u8fd9\u91cc\u7b80\u8ff0\u4e00\u4e0b\uff0c\u53ef\u89c1\u5149\u901a\u5e38\u6307\u4eba\u773c\u80fd\u591f\u611f\u77e5\u7684\u7535\u78c1\u6ce2\u6ce2\u957f\u8303\u56f4\uff0c\u5927\u7ea6\u5728 380nm \u5230 750nm \u4e4b\u95f4\u3002</p> <p>\u6211\u4eec\u53ef\u89c1\u7684\u5c31\u662f\u5728380nm \u5230 750nm\u7684\u80fd\u8c31\u7684\u4e00\u4e2a\u53e0\u52a0\u3002 \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u65e0\u7a77\u7ef4\u5e0c\u5c14\u4f2f\u7279\u7a7a\u95f4\u7684\u4e00\u4e2a\u77e2\u91cf\u3002</p> <p>\u800c\u4eba\u773c\u8fd9\u4e2a\u63a2\u6d4b\u5668(\u89c6\u9525\u7ec6\u80de)\uff0c\u662f\u65e0\u6cd5\u5206\u6e05\u695a\u5982\u6b64\u591a\u7684\u77e2\u91cf\u7684\u3002\u4eba\u67093\u79cd\u89c6\u9525\u7ec6\u80de\u3002 \u4e0d\u540c\u6ce2\u957f\u7684\u5149\u5bf93\u79cd\u7ec6\u80de\u7684\u6fc0\u6d3b\u7a0b\u5ea6\u4e0d\u540c\u6545\u800c\u53cd\u5e94\u51fa\u6765\u4e86\u4e0d\u540c\u7684\u989c\u8272\u3002 \u5b9e\u9645\u4e0a\u4eba\u773c\u8fd9\u4e2a\u63a2\u6d4b\u5668\u628a\u4e00\u4e2a\u65e0\u7a77\u7ef4\u7684\u5e0c\u5c14\u4f2f\u7279\u7a7a\u95f4\u901a\u8fc7\u5377\u79ef\uff08\u89c6\u9525\u7ec6\u80de\u5bf9\u4e0d\u540c\u6ce2\u957f\u7684\u63a2\u6d4b\u6548\u7387\u5377\u79ef\uff09\u964d\u7ef4\u6210\u4e86\u4e00\u4e2a\u4e09\u7ef4\u6d41\u5f62\u3002</p> <p>\u8272\u54c1\u56fe\u4e4b\u6240\u4ee5\u5448\u73b0\u4e3a\u4e8c\u7ef4\uff0c\u662f\u56e0\u4e3a\u5b83\u662f\u4e00\u4e2a\u4e09\u7ef4\u989c\u8272\u7a7a\u95f4\u7684\u4e8c\u7ef4\u6295\u5f71\u3002\u8fd9\u4e2a\u6295\u5f71\u7b80\u5316\u4e86\u4e09\u7ef4CIE XYZ\u8272\u5f69\u7a7a\u95f4\uff0c\u4f7f\u5f97\u989c\u8272\u4fe1\u606f\u80fd\u5728\u5e73\u9762\u56fe\u4e0a\u8868\u793a\u51fa\u6765\uff0c\u4fbf\u4e8e\u89c2\u5bdf\u548c\u5206\u6790\u3002</p> <pre><code>&gt; CIE XYZ\u8272\u5f69\u7a7a\u95f4\uff1a\u8fd9\u662f\u7531\u56fd\u9645\u7167\u660e\u59d4\u5458\u4f1a\uff08CIE\uff09\u5b9a\u4e49\u7684\u4e00\u4e2a\u6807\u51c6\u8272\u5f69\u7a7a\u95f4\uff0c\u5b83\u4f7f\u7528\u4e09\u4e2a\u7ef4\u5ea6\uff08X\u3001Y\u3001Z\uff09\u6765\u8868\u793a\u989c\u8272\u3002X\u8f74\u4ee3\u8868\u7ea2\u8272\u7684\u523a\u6fc0\uff0cY\u8f74\u4ee3\u8868\u7eff\u8272\u7684\u523a\u6fc0\uff0cZ\u8f74\u4ee3\u8868\u84dd\u8272\u7684\u523a\u6fc0\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u4e09\u4e2a\u8f74\u5e76\u4e0d\u76f4\u63a5\u5bf9\u5e94\u4e8e\u6211\u4eec\u901a\u5e38\u7406\u89e3\u7684\u7ea2\u3001\u7eff\u3001\u84dd\u989c\u8272\uff0c\u800c\u662f\u57fa\u4e8e\u4eba\u773c\u5bf9\u4e0d\u540c\u6ce2\u957f\u5149\u7ebf\u7684\u54cd\u5e94\u3002\n&gt;\n&gt; \u8272\u54c1\u56fe\u7684\u5f62\u6210\uff1a\u8272\u54c1\u56fe\u662f\u901a\u8fc7\u5c06CIE XYZ\u7a7a\u95f4\u4e2d\u7684\u989c\u8272\u6570\u636e\u6295\u5f71\u5230\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u4e0a\u5f97\u5230\u7684\u3002\u8fd9\u4e2a\u4e8c\u7ef4\u5e73\u9762\u901a\u5e38\u4f7f\u7528x\u548cy\u5750\u6807\uff0c\u5176\u4e2dx = X/(X+Y+Z)\u548cy = Y/(X+Y+Z)\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5c55\u793a\u989c\u8272\u7684\u8272\u5ea6\uff0c\u5373\u989c\u8272\u7684\u8272\u8c03\u548c\u9971\u548c\u5ea6\uff0c\u800c\u4e0d\u8003\u8651\u4eae\u5ea6\u3002\n&gt;\n&gt; \u8272\u54c1\u56fe\u7684\u7279\u6027\uff1a\u8272\u54c1\u56fe\u7684\u8fb9\u7f18\u4ee3\u8868\u5355\u8272\u5149\u8c31\u7684\u989c\u8272\uff0c\u4ece\u7d2b\u8272\u5230\u7ea2\u8272\u518d\u5230\u9ec4\u8272\uff0c\u5f62\u6210\u4e00\u4e2a\u9a6c\u8e44\u5f62\u7684\u8f6e\u5ed3\u3002\u8fd9\u4e2a\u8f6e\u5ed3\u5185\u7684\u6bcf\u4e00\u70b9\u4ee3\u8868\u4e00\u79cd\u6df7\u5408\u989c\u8272\u3002\u8272\u54c1\u56fe\u4e0d\u663e\u793a\u4eae\u5ea6\u4fe1\u606f\uff0c\u56e0\u6b64\u5b83\u662f\u4e8c\u7ef4\u7684\uff0c\u53ea\u8868\u793a\u989c\u8272\u7684\u76f8\u5bf9\u6bd4\u4f8b\u3002\n&gt;\n&gt; \u91cd\u8981\u6027\uff1a\u5c3d\u7ba1\u8272\u54c1\u56fe\u662f\u4e8c\u7ef4\u7684\uff0c\u4f46\u5b83\u80fd\u591f\u6709\u6548\u5730\u533a\u5206\u4e0d\u540c\u989c\u8272\u7684\u8272\u8c03\u548c\u9971\u548c\u5ea6\uff0c\u5bf9\u4e8e\u8272\u5f69\u7ba1\u7406\u548c\u989c\u8272\u79d1\u5b66\u7684\u7814\u7a76\u975e\u5e38\u91cd\u8981\u3002\u901a\u8fc7\u8fd9\u4e2a\u4e8c\u7ef4\u56fe\uff0c\u53ef\u4ee5\u76f4\u89c2\u5730\u770b\u5230\u4e0d\u540c\u989c\u8272\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4ee5\u53ca\u989c\u8272\u6df7\u5408\u7684\u89c4\u5f8b\u3002\n</code></pre> <p>\u4eba\u53ef\u80fd\u4f1a\u56e0\u4e3a\u57fa\u56e0\u548c\u75be\u75c5\u7684\u539f\u56e0\uff0c\u5bfc\u81f4\u5176\u4e2d\u51e0\u79cd\u89c6\u9525\u7ec6\u80de\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u8fd9\u4fbf\u662f\u8272\u5f31\u6216\u8005\u8272\u76f2\u3002\u6bd4\u5982\u5bf9</p> <p>\u81ea\u7136\u754c\u79cd\uff0c\u4e5f\u5b58\u5728\u7740\u548c\u4eba\u4e0d\u540c\u7684\u611f\u5149\u5668\u5b98\u6027\u80fd\u4e0d\u540c\u7684\u52a8\u7269\u3002\u6bd4\u5982\u76ae\u76ae\u867e\u670916\u79cd\u89c6\u9525\u7ec6\u80de\uff08\u6050\u6016\u5982\u65af\uff09\uff0c\u76ae\u76ae\u867e\u53ef\u89c1\u6ce2\u957f\u8303\u56f4\u4e5f\u6bd4\u4eba\u7c7b\u5e7f\uff0c\u751a\u81f3\u53ef\u4ee5\u63a2\u6d4b\u5230\u5149\u7684\u504f\u632f\u72b6\u6001\u3002</p> <p></p>","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u79d1\u7814\u914d\u8272\u539f\u5219","title":"\u79d1\u7814\u914d\u8272\u539f\u5219","text":"<p>\u6b64\u90e8\u5206\u53c2\u8003\u4e86Coloring Chemistry\u3002</p> <p>\u4e3b\u8981\u6709\u4e09\u70b9\u8981\u6c42\uff1a1. \u914d\u8272\u662f\u8f85\u52a9. 2.\u4e0e\u660e\u5ea6\u53d8\u5316\u4e00\u81f4\u30023.\u8272\u5f31\u8272\u76f2\u5bf9\u7b56\u3002 </p> <p>\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u8272\u5f69\u8fd9\u4e2a\u4e09\u7ef4\u6d41\u5f62\u3002 \u4e0d\u7ba1\u4f60\u600e\u4e48\u964d\u7ef4\u90fd\u5e94\u8be5\u662f\u6709\u7740\u989c\u8272\u968f\u7740\u6570\u503c\u5355\u65b9\u5411\u53d8\u5316\u7684\u56fe\u3002\u4e0d\u80fd\u8f6c\u6210\u7070\u5ea6\u56fe\u4e4b\u540e\u53d1\u73b0\u7070\u5ea6\u968f\u7740\u6570\u503c\u589e\u52a0\u4e00\u4f1a\u53d8\u5927\u4e00\u4f1a\u53d8\u5c0f\u3002</p>","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u914d\u8272\u7684\u4f5c\u7528\u5e94\u8be5\u662f\u8f85\u52a9\u7684\u800c\u975e\u5fc5\u987b\u7684","title":"\u914d\u8272\u7684\u4f5c\u7528\u5e94\u8be5\u662f\u8f85\u52a9\u7684\u800c\u975e\u5fc5\u987b\u7684","text":"<p>\u8003\u8651\u4f7f\u7528\u4e0d\u540c\u7684\u7eb9\u7406\u3001\u7b26\u53f7\u3001\u6392\u7248\u6216\u6ce8\u91ca\u3002</p>","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u586b\u8272\u56fe\u5e94\u8be5\u9009\u62e9\u611f\u77e5\u4e00\u81f4\u7684\u914d\u8272\u65b9\u6848","title":"\u586b\u8272\u56fe\u5e94\u8be5\u9009\u62e9\u611f\u77e5\u4e00\u81f4\u7684\u914d\u8272\u65b9\u6848","text":"<p>\u611f\u77e5\u4e00\u81f4\uff08perceptual uniform\uff09\u6307\u7684\u662f\u989c\u8272\u6240\u5305\u542b\u7684\u4fe1\u606f\u8981\u4e0e\u660e\u5ea6\u7684\u53d8\u5316\u8d8b\u52bf\u4e00\u81f4\u3002</p>","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u8272\u76f2\u8272\u5f31\u5bf9\u7b56","title":"\u8272\u76f2\u3001\u8272\u5f31\u5bf9\u7b56","text":"","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/color_scheme/#\u6709\u7528\u7684\u7f51\u7ad9","title":"\u6709\u7528\u7684\u7f51\u7ad9","text":"","tags":["\u79d1\u7814","\u6570\u636e\u53ef\u89c6\u5316","\u914d\u56fe"]},{"location":"sci/minimal_code/format_guidelines/","title":"\u683c\u5f0f\u89c4\u8303","text":"<p>\u5e38\u91cf\u5e94\u5199\u4f5c\u6b63\u4f53\uff0c\u4f46\u5e38\u91cf\u5982 c\uff08\u5149\u901f\uff09\u3001hh\uff08\u666e\u6717\u514b\u5e38\u6570\uff09\u3001GG\uff08\u5f15\u529b\u5e38\u6570\uff09\u90fd\u5c5e\u4e8e\u53d8\u91cf\u7c7b\u7b26\u53f7\uff0c\u5c3d\u7ba1\u5b83\u4eec\u6570\u503c\u4e0d\u53d8\uff0c\u4f46\u4ecd\u89c6\u4e3a\u7269\u7406\u91cf\u7684\u7b26\u53f7\uff0c\u6240\u4ee5\u5e94\u4f7f\u7528\u659c\u4f53\u3002\u5176\u503c\u4e0d\u53d8\u7684\u6570\u5b66\u5e38\u6570\uff08\u4f8b\u5982 \\rm{e} = 2.7182818\\ldots\\rm{e} = 2.7182818\\ldots\uff0c\\rm{\\pi} = 3.1415926\\ldots\\rm{\\pi} = 3.1415926\\ldots\uff0c\\rm{i}^2 = -1\\rm{i}^2 = -1 \u7b49\uff09\u7528\u6b63\u4f53\u5b57\u6bcd\u8868\u793a\u3002\u5173\u4e8e\u5706\u5468\u7387\uff0c\u4e2d\u56fd\u7269\u7406 B \u5199\u4f5c\u89c4\u8303\u8981\u6c42\u4e0e\u56fd\u9645\u6807\u51c6 ISO 80000-2 \u76f8\u4e92\u51b2\u7a81\uff0c\u7b14\u8005\u8ba4\u4e3a\u5e94\u8be5\u6309\u7167\u56fd\u9645\u6807\u51c6\u6765\u5199\uff0c\u4f7f\u7528\u6b63\u4f53\u3002</p> <ul> <li>\u53d8\u91cf \u5e94\u8be5\u5199\u659c\u4f53\u3002</li> <li>\u5355\u4f4d \u5e94\u8be5\u5199\u6b63\u4f53\u3002</li> <li>\u6570\u5b66\u51fd\u6570 \u8981\u5199\u6b63\u4f53\u3002\u8fd9\u91cc\u6307\u7684\u662f\u7279\u6b8a\u51fd\u6570\uff0c\u5982\\rm{sin}(x)\\rm{sin}(x)\uff0c\u800c\u975ef(x)f(x)\u4e4b\u7c7b\u7684\u3002</li> </ul> <p>\u7279\u522b\u6ce8\u610f\u4ee5\u4e0b\u89c4\u5219\uff1a</p> <ul> <li>\u4e2d\u5b50\u8d28\u91cf m_nm_n \u548c\u8d28\u5b50\u8d28\u91cf m_pm_p \u662f\u659c\u4f53\uff0c\u4f46\u539f\u5b50\u8d28\u91cf \\rm{u}\\rm{u} \u662f\u6b63\u4f53\u3002</li> <li>\u7535\u5b50\u7535\u91cf ee \u662f\u659c\u4f53\uff0c\u4f46\u7535\u5b50\u4f0f\u7279 \\rm{eV}\\rm{eV} \u662f\u6b63\u4f53\u3002</li> <li>\u81ea\u7136\u5e38\u6570 \\rm{e}\\rm{e} \u662f\u6b63\u4f53\u3002</li> <li>\u5fae\u5206\u7b97\u7b26 \\rm{d}\\rm{d} \u8981\u5199\u6b63\u4f53\uff08\u6839\u636e 2019 \u5e74\u4fee\u6539\u7684\u56fd\u9645\u6807\u51c6 ISO 80000-2\uff09\u3002\u7136\u800c\uff0c\u5728 AMS\uff08\u7f8e\u56fd\u6570\u5b66\u4f1a\uff09\u7b49\u671f\u520a\u4e2d\uff0c\u5fae\u5206\u7b26\u53f7\u5927\u591a\u91c7\u7528 d xd x \u7684\u5f62\u5f0f\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u4f20\u7edf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8bb8\u591a\u671f\u520a\u6216\u51fa\u7248\u793e\u5e76\u4e0d\u4e25\u683c\u9075\u5faa\u8fd9\u4e9b\u89c4\u5219\uff0c\u800c\u662f\u4fdd\u6301\u4f5c\u8005\u7684\u4e60\u60ef\u3002</li> <li>\u6570\u5b66\u91cc\u9762\u70b9(point)\u548c\u7ebf(line): point A, line AB\u7528\u6b63\u4f53\u3002\u5750\u6807\u8f74(axes)\u548c\u9762\u7528\u659c\u4f53\u3002\u5750\u6807\u539f\u70b9\u7528\u6b63\u4f53\\rm{O}\\rm{O}.  \u5173\u4e8e\u8fd9\u70b9\u6709\u8bf8\u591a\u4e89\u8bae\uff0c\u611f\u89c9\u5e76\u672a\u7edf\u4e00\u3002</li> </ul> <p>\u6b64\u5916\uff1a</p> <ul> <li>\u5927\u5199\u82f1\u6587\u5b57\u6bcd\u4e00\u822c\u8868\u793a\u77e9\u9635\uff0c\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u8868\u793a\u53d8\u91cf\u6216\u5411\u91cf\u3002\uff08\u8fd9\u4e00\u70b9\u6709\u5f85\u8003\u7a76\uff0c\u53c2\u8003\u6587\u732e\u4e2d\u89c4\u5b9a\u76f8\u4e92\u77db\u76fe\u3002\uff09</li> </ul>","tags":["\u79d1\u7814","\u914d\u56fe"]},{"location":"sci/minimal_code/format_guidelines/#\u8bba\u5916","title":"\u8bba\u5916","text":"<p>\u5173\u4e8e\u5e0c\u814a\u5b57\u6bcd\u7684\u6b63\u4f53\u659c\u4f53\uff0c\u4e8b\u60c5\u597d\u50cf\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002\u6211\u611f\u89c9\u90a3\u7fa4\u4eba\u5e76\u6ca1\u6709\u8003\u8651\u8fd9\u4e2a\u4e8b\u60c5\u3002</p> <p>\u7ed3\u8bba\u53ef\u80fd\u662f\uff0c\u89c4\u8303\u5176\u5b9e\u5e76\u4e0d\u89c4\u8303\u3002</p>","tags":["\u79d1\u7814","\u914d\u56fe"]},{"location":"sci/minimal_code/format_guidelines/#\u53c2\u8003\u8d44\u6599","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>\u539f\u5b50\u7269\u7406\u5b66\u548c\u6838\u7269\u7406\u5b66\u7684\u91cf\u548c\u5355\u4f4d</li> <li>\u4e2d\u56fd\u7269\u7406 B \u5199\u4f5c\u89c4\u8303\u8981\u6c42</li> <li>latex\u89c4\u8303</li> </ul>","tags":["\u79d1\u7814","\u914d\u56fe"]},{"location":"sci/minimal_code/gdb/","title":"gdb \u8c03\u8bd5","text":"<p>\u672c\u6587\u6863\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 gdb \u8fdb\u884c\u8c03\u8bd5\uff0c\u5305\u62ec\u5728\u547d\u4ee4\u884c\u548c VSCode \u4e2d\u7684\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"sci/minimal_code/gdb/#gdb-\u547d\u4ee4\u884c","title":"gdb \u547d\u4ee4\u884c","text":"<p>\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 gdb \u8fdb\u884c\u8c03\u8bd5\u7684\u57fa\u672c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u7f16\u8bd1\u7a0b\u5e8f\u65f6\u6dfb\u52a0\u8c03\u8bd5\u4fe1\u606f\uff1a <pre><code>gcc -g -o myprogram myprogram.c\n</code></pre></p> </li> <li> <p>\u542f\u52a8 gdb \u5e76\u52a0\u8f7d\u7a0b\u5e8f\uff1a <pre><code>gdb myprogram\n</code></pre></p> </li> <li> <p>\u8bbe\u7f6e\u65ad\u70b9\uff1a <pre><code>break main\n</code></pre></p> </li> <li> <p>\u8fd0\u884c\u7a0b\u5e8f\uff1a <pre><code>run\n</code></pre></p> </li> <li> <p>\u5355\u6b65\u6267\u884c\u4ee3\u7801\uff1a <pre><code>next\n</code></pre></p> </li> <li> <p>\u67e5\u770b\u53d8\u91cf\u503c\uff1a <pre><code>print variable_name\n</code></pre></p> </li> <li> <p>\u9000\u51fa gdb\uff1a <pre><code>quit\n</code></pre></p> </li> </ol>"},{"location":"sci/minimal_code/gdb/#gdb-vscode","title":"gdb vscode","text":"<p>\u5728 VSCode \u4e2d\u4f7f\u7528 gdb \u8fdb\u884c\u8c03\u8bd5\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u5b89\u88c5 C/C++ \u63d2\u4ef6\uff08Microsoft \u63d0\u4f9b\uff09\u3002</p> </li> <li> <p>\u914d\u7f6e launch.json \u6587\u4ef6\uff1a <pre><code>{\n\"version\": \"0.2.0\",\n\"configurations\": [\n{\n\"name\": \"(gdb) Launch\",\n\"type\": \"cppdbg\",\n\"request\": \"launch\",\n\"program\": \"${workspaceFolder}/myprogram\",\n\"args\": [],\n\"stopAtEntry\": false,\n\"cwd\": \"${workspaceFolder}\",\n\"environment\": [],\n\"externalConsole\": false,\n\"MIMode\": \"gdb\",\n\"setupCommands\": [\n{\n\"description\": \"Enable pretty-printing for gdb\",\n\"text\": \"-enable-pretty-printing\",\n\"ignoreFailures\": true\n}\n],\n\"preLaunchTask\": \"build\",\n\"miDebuggerPath\": \"/usr/bin/gdb\",\n\"logging\": {\n\"trace\": true,\n\"traceResponse\": true,\n\"engineLogging\": true\n},\n\"processId\": \"${command:pickProcess}\",\n\"setupCommands\": [\n{\n\"description\": \"Enable pretty-printing for gdb\",\n\"text\": \"-enable-pretty-printing\",\n\"ignoreFailures\": true\n}\n],\n\"stopAtEntry\": false,\n\"cwd\": \"${workspaceFolder}\",\n\"environment\": [],\n\"externalConsole\": false,\n\"MIMode\": \"gdb\",\n\"miDebuggerPath\": \"/usr/bin/gdb\",\n\"setupCommands\": [\n{\n\"description\": \"Enable pretty-printing for gdb\",\n\"text\": \"-enable-pretty-printing\",\n\"ignoreFailures\": true\n}\n],\n\"preLaunchTask\": \"build\",\n\"logging\": {\n\"trace\": true,\n\"traceResponse\": true,\n\"engineLogging\": true\n},\n\"processId\": \"${command:pickProcess}\"\n}\n]\n}\n</code></pre></p> </li> </ol> <p>\u793a\u4f8b <pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"g++ - \u8c03\u8bd5RLUD\",\n            \"type\": \"cppdbg\",\n            \"request\": \"launch\",\n            \"program\": \"${workspaceFolder}/code/root_tranform/runPro\",\n            \"args\": [],\n            \"stopAtEntry\": false,\n            \"cwd\": \"${workspaceFolder}/code/root_tranform\",\n            \"environment\": [],\n            \"externalConsole\": false,\n            \"MIMode\": \"gdb\",\n            \"setupCommands\": [\n                {\n                    \"description\": \"\u4e3a gdb \u542f\u7528\u6574\u9f50\u6253\u5370\",\n                    \"text\": \"-enable-pretty-printing\",\n                    \"ignoreFailures\": true\n                }\n            ],\n            \"preLaunchTask\": \"C/C++: g++ build ROOT\",\n            \"miDebuggerPath\": \"/usr/bin/gdb\"\n        }\n    ]\n}\n</code></pre> task.json</p> <pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"C/C++: g++ build ROOT\",\n            \"type\": \"shell\",\n            \"command\": \"g++ -g -Iinclude -o runPro src/globals.cpp src/function.cpp src/R_LRUD.cpp $(root-config --cflags --glibs)\",\n            \"options\": {\n                \"cwd\": \"${workspaceFolder}/code/root_tranform\"\n            },\n            \"problemMatcher\": [\"$gcc\"],\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            }\n        }\n    ]\n}\n</code></pre> <ol> <li>\u6309 F5 \u5f00\u59cb\u8c03\u8bd5\u3002</li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u60a8\u53ef\u4ee5\u5728 VSCode \u4e2d\u4f7f\u7528 gdb \u8fdb\u884c\u8c03\u8bd5\u3002</p>"},{"location":"sci/minimal_code/git/","title":"git","text":""},{"location":"sci/minimal_code/git/#git-\u5de5\u4f5c\u6d41","title":"git \u5de5\u4f5c\u6d41","text":"<p>\u5341\u5206\u949f\u5b66\u4f1a\u6b63\u786e\u7684github\u5de5\u4f5c\u6d41\uff0c\u548c\u5f00\u6e90\u4f5c\u8005\u4eec\u4f7f\u7528\u540c\u4e00\u5957\u6d41\u7a0b</p>"},{"location":"sci/minimal_code/git/#rebase-\u65b9\u6cd5","title":"rebase \u65b9\u6cd5","text":"<ol> <li>git clone // \u5230\u672c\u5730</li> <li>git checkout -b xxx \u5207\u6362\u81f3\u65b0\u5206\u652fxxx \uff08\u76f8\u5f53\u4e8e\u590d\u5236\u4e86remote\u7684\u4ed3\u5e93\u5230\u672c\u5730\u7684xxx\u5206\u652f\u4e0a</li> <li>git diff \u67e5\u770b\u81ea\u5df1\u5bf9\u4ee3\u7801\u505a\u51fa\u7684\u6539\u53d8</li> <li>git add \u4e0a\u4f20\u66f4\u65b0\u540e\u7684\u4ee3\u7801\u81f3\u6682\u5b58\u533a</li> <li>git commit \u53ef\u4ee5\u5c06\u6682\u5b58\u533a\u91cc\u66f4\u65b0\u540e\u7684\u4ee3\u7801\u66f4\u65b0\u5230\u672c\u5730git</li> <li>git push origin xxx \u5c06\u672c\u5730\u7684xxxgit\u5206\u652f\u4e0a\u4f20\u81f3github\u4e0a\u7684git</li> </ol> <p>\uff08\u5982\u679c\u5728\u5199\u81ea\u5df1\u7684\u4ee3\u7801\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u8fdc\u7aefGitHub\u4e0a\u4ee3\u7801\u51fa\u73b0\u6539\u53d8\uff09 1. git checkout main \u5207\u6362\u56demain\u5206\u652f 2. git pull origin master(main) \u5c06\u8fdc\u7aef\u4fee\u6539\u8fc7\u7684\u4ee3\u7801\u518d\u66f4\u65b0\u5230\u672c\u5730 3. git checkout xxx \u56de\u5230xxx\u5206\u652f 4. git rebase main \u6211\u5728xxx\u5206\u652f\u4e0a\uff0c\u5148\u628amain\u79fb\u8fc7\u6765\uff0c\u7136\u540e\u6839\u636e\u6211\u7684commit\u6765\u4fee\u6539\u6210\u65b0\u7684\u5185\u5bb9 \uff08\u4e2d\u9014\u53ef\u80fd\u4f1a\u51fa\u73b0\uff0crebase conflict -----\u300b\u624b\u52a8\u9009\u62e9\u4fdd\u7559\u54ea\u6bb5\u4ee3\u7801\uff09 5. git push -f origin xxx \u628arebase\u540e\u5e76\u4e14\u66f4\u65b0\u8fc7\u7684\u4ee3\u7801\u518dpush\u5230\u8fdc\u7aefgithub\u4e0a \uff08-f \u5f3a\u884c\uff09 1. \u539f\u9879\u76ee\u4e3b\u4eba\u91c7\u7528pull request \u4e2d\u7684 squash and merge \u5408\u5e76\u6240\u6709\u4e0d\u540c\u7684commit</p>"},{"location":"sci/minimal_code/git/#merge-\u65b9\u6cd5","title":"merge \u65b9\u6cd5","text":"<ol> <li>git clone // \u5230\u672c\u5730</li> <li>git checkout -b xxx \u5207\u6362\u81f3\u65b0\u5206\u652f xxx</li> <li>\u5728 xxx \u5206\u652f\u4e0a\u8fdb\u884c\u4ee3\u7801\u4fee\u6539</li> <li>git add \u5c06\u4fee\u6539\u7684\u4ee3\u7801\u6dfb\u52a0\u5230\u6682\u5b58\u533a</li> <li>git commit \u63d0\u4ea4\u4fee\u6539\u5230\u672c\u5730\u4ed3\u5e93</li> <li>git push origin xxx \u5c06\u672c\u5730 xxx \u5206\u652f\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93</li> </ol> <p>\uff08\u5982\u679c\u5728\u5199\u81ea\u5df1\u7684\u4ee3\u7801\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u8fdc\u7aef GitHub \u4e0a\u4ee3\u7801\u51fa\u73b0\u6539\u53d8\uff09 1. git checkout main \u5207\u6362\u56de main \u5206\u652f 2. git pull origin main \u5c06\u8fdc\u7aef\u4fee\u6539\u8fc7\u7684\u4ee3\u7801\u66f4\u65b0\u5230\u672c\u5730 3. git checkout xxx \u56de\u5230 xxx \u5206\u652f 4. git merge main \u5c06 main \u5206\u652f\u7684\u6700\u65b0\u4ee3\u7801\u5408\u5e76\u5230 xxx \u5206\u652f \uff08\u5982\u679c\u51fa\u73b0 merge conflict -----\u300b\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u5e76\u4fdd\u5b58\uff09 5. git push origin xxx \u5c06\u5408\u5e76\u540e\u7684\u4ee3\u7801\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93 6. \u63d0\u4ea4 Pull Request\uff0c\u7b49\u5f85\u9879\u76ee\u7ef4\u62a4\u8005\u5ba1\u6838\u5e76\u5408\u5e76</p>"},{"location":"sci/minimal_code/jupyternotebook/","title":"jupyter notebook","text":""},{"location":"sci/minimal_code/jupyternotebook/#jupyter-notebook-\u53ef\u8fd0\u884c\u7684\u7f16\u7a0b\u8bed\u8a00","title":"jupyter notebook \u53ef\u8fd0\u884c\u7684\u7f16\u7a0b\u8bed\u8a00","text":"<p>Jupyter Notebook \u7684\u524d\u8eab\u662f IPython Notebook\u3002\u540e\u6765\uff0c\u5b83\u6269\u5c55\u4e3a\u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li>Python</li> <li>R</li> <li>Julia</li> <li>Scala</li> <li>Ruby</li> <li>JavaScript</li> <li>Bash</li> <li>C++</li> <li>Go</li> <li>Kotlin</li> </ul> <p>\u8fd9\u79cd\u591a\u8bed\u8a00\u652f\u6301\u4f7f\u5f97 Jupyter Notebook \u6210\u4e3a\u6570\u636e\u79d1\u5b66\u3001\u673a\u5668\u5b66\u4e60\u548c\u6559\u80b2\u9886\u57df\u7684\u5f3a\u5927\u5de5\u5177\u3002</p>"},{"location":"sci/minimal_code/jupyternotebook/#\u5b89\u88c5-jupyter-notebook","title":"\u5b89\u88c5 jupyter notebook","text":"<p>\u63a8\u8350\u4f7f\u7528 pip \u5b89\u88c5\u3002 \u5728\u7ec8\u7aef\u6267\u884c\uff1a <pre><code>pip install jupyter metakernel\n</code></pre></p> <p>\u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u6d4b\u8bd5\u662f\u5426\u6b63\u5e38\u8fd0\u884c\u3002 \u5728\u7ec8\u7aef\u8f93\u5165\uff1a <pre><code>jupyter-notebook\n</code></pre></p> <p>\u5b89\u88c5 root \u4e4b\u540e\uff0c\u5728\u4e2a\u4eba home \u76ee\u5f55.bashrc \u6587\u4ef6\u4e2d\u6dfb\u52a0 <pre><code>source (pathof)thisroot.sh\n</code></pre> \u8fdb\u5165\u81ea\u5df1\u7684\u9879\u76ee\u76ee\u5f55\uff0c\u5728\u7ec8\u7aef\u6267\u884c <pre><code>root --notebook\n</code></pre></p>"},{"location":"sci/minimal_code/jupyternotebook/#\u6dfb\u52a0-kernel-\u7684\u6b65\u9aa4","title":"\u6dfb\u52a0 Kernel \u7684\u6b65\u9aa4","text":"<p>\u5728 Jupyter Notebook \u4e2d\u6dfb\u52a0\u65b0\u7684 Kernel\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <p>\u8d44\u6599</p> <ol> <li> <p>\u5b89\u88c5\u6240\u9700\u7684\u7f16\u7a0b\u8bed\u8a00\u73af\u5883     \u786e\u4fdd\u5df2\u5b89\u88c5\u76ee\u6807\u7f16\u7a0b\u8bed\u8a00\u7684\u8fd0\u884c\u65f6\u73af\u5883\u3002\u4f8b\u5982\uff0c\u5b89\u88c5 Python\u3001R \u6216 Julia \u7b49\u3002</p> </li> <li> <p>\u5b89\u88c5 Jupyter Kernel     \u6839\u636e\u76ee\u6807\u8bed\u8a00\u5b89\u88c5\u76f8\u5e94\u7684 Jupyter Kernel\u3002\u4f8b\u5982\uff1a  </p> <ul> <li>\u5bf9\u4e8e Python\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ipykernel</code>\uff1a <pre><code>pip install ipykernel\n</code></pre></li> <li>\u5bf9\u4e8e R\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>IRkernel</code>\uff1a <pre><code>install.packages(\"IRkernel\")\nIRkernel::installspec()\n</code></pre></li> <li>\u5bf9\u4e8e Julia\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>IJulia</code>\uff1a <pre><code>using Pkg\nPkg.add(\"IJulia\")\n</code></pre></li> <li>\u5bf9\u4e8e C#\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>dotnet-interactive</code>\uff1a <pre><code>dotnet tool install -g Microsoft.dotnet-interactive\ndotnet interactive jupyter install\n</code></pre>     \u6216\u8005<code>clingkernel</code>: <pre><code>pip install clingkernel\nclingkernel install --sys-prefix\n</code></pre></li> </ul> </li> <li> <p>\u6ce8\u518c Kernel     \u5b89\u88c5\u5b8c\u6210\u540e\uff0cKernel \u4f1a\u81ea\u52a8\u6ce8\u518c\u5230 Jupyter Notebook\u3002\u5982\u679c\u672a\u81ea\u52a8\u6ce8\u518c\uff0c\u53ef\u4ee5\u624b\u52a8\u6267\u884c\u76f8\u5173\u547d\u4ee4\u3002\u4f8b\u5982\uff1a <pre><code>python -m ipykernel install --user --name=my_kernel_name\n</code></pre></p> </li> <li> <p>\u542f\u52a8 Jupyter Notebook     \u542f\u52a8 Jupyter Notebook \u5e76\u5728\u65b0\u5efa\u6587\u4ef6\u65f6\u9009\u62e9\u521a\u521a\u6dfb\u52a0\u7684 Kernel\u3002</p> </li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u60a8\u53ef\u4ee5\u5728 Jupyter Notebook \u4e2d\u6dfb\u52a0\u5e76\u4f7f\u7528\u65b0\u7684 Kernel\uff0c\u4ece\u800c\u652f\u6301\u66f4\u591a\u7684\u7f16\u7a0b\u8bed\u8a00\u3002</p>"},{"location":"sci/minimal_code/jupyternotebook/#\u5728-jupyter-notebook-\u4e2d\u8fd0\u884c-bash-\u811a\u672c","title":"\u5728 Jupyter Notebook \u4e2d\u8fd0\u884c Bash \u811a\u672c","text":"<p>\u5728 Jupyter Notebook \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u8fd0\u884c Bash \u811a\u672c\uff1a</p> <ol> <li> <p>\u4f7f\u7528 <code>!</code> \u547d\u4ee4     \u5728\u4ee3\u7801\u5355\u5143\u4e2d\u76f4\u63a5\u4f7f\u7528 <code>!</code> \u6765\u8fd0\u884c Bash \u547d\u4ee4\u6216\u811a\u672c\u3002\u4f8b\u5982\uff1a <pre><code>!sh script.sh\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 <code>subprocess</code> \u6a21\u5757     \u5728 Python \u4ee3\u7801\u4e2d\u4f7f\u7528 <code>subprocess</code> \u6a21\u5757\u8fd0\u884c Bash \u811a\u672c\u3002\u4f8b\u5982\uff1a <pre><code>import subprocess\nsubprocess.run(['sh', 'script.sh'])\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 <code>%%bash</code> \u9b54\u6cd5\u547d\u4ee4     \u5728\u4ee3\u7801\u5355\u5143\u4e2d\u4f7f\u7528 <code>%%bash</code> \u9b54\u6cd5\u547d\u4ee4\u8fd0\u884c Bash \u811a\u672c\u3002\u4f8b\u5982\uff1a <pre><code>%%bash\n# Bash \u811a\u672c\u5185\u5bb9\nsh script.sh\n</code></pre></p> </li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728 Jupyter Notebook \u4e2d\u65b9\u4fbf\u5730\u8fd0\u884c Bash \u811a\u672c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0e\u7cfb\u7edf\u547d\u4ee4\u7684\u4ea4\u4e92\u3002</p>"},{"location":"sci/minimal_code/jupyternotebook/#jupyter\u4f7f\u7528root","title":"jupyter\u4f7f\u7528root","text":"<p>jupyroot 1. Install ROOT6 (&gt; 6.05) 2. Install dependencies: <code>pip install jupyter metakernel</code></p>"},{"location":"sci/minimal_code/jupyternotebook/#\u5f00\u59cb\u4f7f\u7528-rootbooks","title":"\u5f00\u59cb\u4f7f\u7528 ROOTbooks","text":"<p>\u8bbe\u7f6e ROOT \u73af\u5883\uff08<code>. $ROOTSYS/bin/thisroot.[c]sh</code>\uff09\uff0c\u7136\u540e\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165\uff1a <pre><code>root --notebook\n</code></pre> \u8fd9\u5c06\u5728\u60a8\u7684\u8ba1\u7b97\u673a\u4e0a\u542f\u52a8\u4e00\u4e2a\u5e26\u6709 ROOT \u529f\u80fd\u7684 notebook \u670d\u52a1\u5668\u3002</p> <p>\u6216\u8005\uff0c\u5982\u679c\u60a8\u5e0c\u671b\u76f4\u63a5\u4f7f\u7528 Jupyter \u547d\u4ee4\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a <pre><code>jupyter kernelspec install $ROOTSYS/etc/root/notebook/kernels/root --user\n</code></pre></p> <p>\u670d\u52a1\u5668\u542f\u52a8\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ROOT \u63d0\u4f9b\u7684\u4e24\u79cd Kernel\uff1a</p> <ol> <li>ROOT C++\uff1a\u7531 ROOT \u63d0\u4f9b\u7684\u65b0 Kernel</li> <li>Python\uff1aJupyter \u5df2\u7ecf\u63d0\u4f9b\u7684 Kernel</li> </ol>"},{"location":"sci/minimal_code/jupyternotebook/#c-rootbook","title":"C++ ROOTbook","text":"<p>ROOT \u63d0\u4f9b\u4e86\u4e00\u4e2a C++ Kernel\uff0c\u5c06 notebook \u8f6c\u53d8\u4e3a\u4e00\u4e2a ROOT \u63d0\u793a\u7b26\u3002\u8be5 Kernel \u63d0\u4f9b\u4e86\u5d4c\u5165\u5f0f\u56fe\u5f62\u3001\u8bed\u6cd5\u9ad8\u4eae\u548c\u81ea\u52a8\u8865\u5168\u7b49\u529f\u80fd\u3002</p> <p>\u4ee5\u4e0b\u662f\u5982\u4f55\u5728 C++ ROOTbook \u4e2d\u7ed8\u5236\u76f4\u65b9\u56fe\u7684\u793a\u4f8b\uff1a <pre><code>TCanvas c;\nTH1F h(\"h\",\"ROOT Histo;X;Y\",64,-4,4);\nh.FillRandom(\"gaus\");\nh.Draw();\nc.Draw();\n</code></pre></p>"},{"location":"sci/minimal_code/jupyternotebook/#python-rootbook","title":"Python ROOTbook","text":"<p>\u5982\u679c\u60a8\u66f4\u559c\u6b22\u4f7f\u7528 Python\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Python Kernel \u5e76\u5bfc\u5165 ROOT \u5e93\uff1a <pre><code>import ROOT\n</code></pre> \u7136\u540e\u60a8\u53ef\u4ee5\u7f16\u5199\u5982\u4e0b\u4ee3\u7801\uff1a <pre><code>c = ROOT.TCanvas(\"c\")\nh = ROOT.TH1F(\"h\",\"ROOT Histo;X;Y\",64,-4,4)\n</code></pre></p> <p>\u6b64\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 %%cpp \u9b54\u6cd5\u547d\u4ee4\u5728\u540c\u4e00\u4e2a notebook \u4e2d\u6df7\u5408\u4f7f\u7528 Python \u548c C++\uff1a <pre><code>%%cpp\nh-&gt;FillRandom(\"gaus\");\nh-&gt;Draw();\nc-&gt;Draw();\n</code></pre></p> <p>\u5047\u5982\u8981\u5728Jupyter\u91cc\u8c03\u7528\u5176\u4ed6\u5730\u65b9\u7684\u51fd\u6570\uff0c\u5f97: <pre><code>%%cpp\n#pragma cling add_include_path(\"include\")\n\n#include \"/data4/tbt23/smsimulator5.5/anal_D_tbt/original_data_tbt/include/get_ratio.h\"\n#include \"/data4/tbt23/smsimulator5.5/anal_D_tbt/original_data_tbt/src/get_ratio.cpp\"\n</code></pre> \u76ee\u524d\u6211\u641e\u4e0d\u6e05\u695a\u76f8\u5bf9\u8def\u5f84\u662f\u76f8\u5bf9\u7684\u4ec0\u4e48\u4e1c\u897f\u3002\u7279\u522b\u662fget_ratio.cpp\u91cc\u9762\u5e94\u8be5\u600e\u4e48\u5199.h\u6587\u4ef6\u7684\u8def\u5f84\u3002\u4f46\u5199\u7edd\u5bf9\u8def\u5f84\u80af\u5b9a\u6ca1\u9519...</p>"},{"location":"sci/minimal_code/jupyternotebook/#jupyter-\u9b54\u6cd5\u547d\u4ee4","title":"jupyter \u9b54\u6cd5\u547d\u4ee4","text":"<p>Jupyter Notebook \u63d0\u4f9b\u4e86\u8bb8\u591a\u9b54\u6cd5\u547d\u4ee4\uff08Magic Commands\uff09\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u66f4\u9ad8\u6548\u5730\u5b8c\u6210\u4efb\u52a1\u3002\u8fd9\u4e9b\u547d\u4ee4\u5206\u4e3a\u4e24\u7c7b\uff1a\u884c\u9b54\u6cd5\u547d\u4ee4\uff08\u4ee5 <code>%</code> \u5f00\u5934\uff09\u548c\u5355\u5143\u9b54\u6cd5\u547d\u4ee4\uff08\u4ee5 <code>%%</code> \u5f00\u5934\uff09\u3002</p>"},{"location":"sci/minimal_code/jupyternotebook/#\u5e38\u7528\u884c\u9b54\u6cd5\u547d\u4ee4","title":"\u5e38\u7528\u884c\u9b54\u6cd5\u547d\u4ee4","text":"<pre><code># \u5217\u51fa\u6240\u6709\u53ef\u7528\u7684\u9b54\u6cd5\u547d\u4ee4\n%lsmagic\n</code></pre> <ol> <li> <p><code>%time</code>     \u7528\u4e8e\u6d4b\u91cf\u5355\u884c\u4ee3\u7801\u7684\u6267\u884c\u65f6\u95f4\u3002\u4f8b\u5982\uff1a <pre><code>%time sum(range(1000000))\n</code></pre></p> </li> <li> <p><code>%timeit</code>     \u7528\u4e8e\u591a\u6b21\u8fd0\u884c\u4ee3\u7801\u5e76\u6d4b\u91cf\u5e73\u5747\u6267\u884c\u65f6\u95f4\u3002\u4f8b\u5982\uff1a <pre><code>%timeit sum(range(1000000))\n</code></pre></p> </li> <li> <p><code>%who</code> \u548c <code>%whos</code>     \u663e\u793a\u5f53\u524d\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u53d8\u91cf\u3002\u4f8b\u5982\uff1a <pre><code>%who\n%whos\n</code></pre></p> </li> <li> <p><code>%run</code>     \u8fd0\u884c\u5916\u90e8 Python \u811a\u672c\u3002\u4f8b\u5982\uff1a <pre><code>%run script.py\n</code></pre></p> </li> <li> <p><code>%matplotlib</code>     \u8bbe\u7f6e matplotlib \u7684\u7ed8\u56fe\u6a21\u5f0f\u3002\u4f8b\u5982\uff1a <pre><code>%matplotlib inline\n</code></pre></p> </li> </ol>"},{"location":"sci/minimal_code/jupyternotebook/#\u5e38\u7528\u5355\u5143\u9b54\u6cd5\u547d\u4ee4","title":"\u5e38\u7528\u5355\u5143\u9b54\u6cd5\u547d\u4ee4","text":"<ol> <li> <p><code>%%time</code>     \u6d4b\u91cf\u6574\u4e2a\u5355\u5143\u4ee3\u7801\u7684\u6267\u884c\u65f6\u95f4\u3002\u4f8b\u5982\uff1a <pre><code>%%time\ntotal = 0\nfor i in range(1000000):\n     total += i\n</code></pre></p> </li> <li> <p><code>%%writefile</code>     \u5c06\u5355\u5143\u5185\u5bb9\u5199\u5165\u6587\u4ef6\u3002\u4f8b\u5982\uff1a <pre><code>%%writefile script.py\nprint(\"Hello, World!\")\n</code></pre></p> </li> <li> <p><code>%%bash</code>     \u5728\u5355\u5143\u4e2d\u8fd0\u884c Bash \u811a\u672c\u3002\u4f8b\u5982\uff1a <pre><code>%%bash\necho \"Hello from Bash\"\n</code></pre></p> </li> <li> <p><code>%%capture</code>     \u6355\u83b7\u5355\u5143\u8f93\u51fa\u5e76\u5b58\u50a8\u5230\u53d8\u91cf\u4e2d\u3002\u4f8b\u5982\uff1a <pre><code>%%capture captured_output\nprint(\"This will be captured\")\n</code></pre></p> </li> </ol> <p>\u901a\u8fc7\u4f7f\u7528\u8fd9\u4e9b\u9b54\u6cd5\u547d\u4ee4\uff0c\u60a8\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u5b8c\u6210\u6570\u636e\u5206\u6790\u3001\u811a\u672c\u8fd0\u884c\u548c\u8c03\u8bd5\u7b49\u4efb\u52a1\u3002</p>"},{"location":"sci/minimal_code/jupyternotebook/#jupyter-\u5feb\u6377\u952e","title":"jupyter \u5feb\u6377\u952e","text":"<p>Jupyter Notebook \u63d0\u4f9b\u4e86\u8bb8\u591a\u5feb\u6377\u952e\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u66f4\u9ad8\u6548\u5730\u64cd\u4f5c\u548c\u7f16\u8f91 notebook\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u5feb\u6377\u952e\uff1a</p>"},{"location":"sci/minimal_code/jupyternotebook/#\u547d\u4ee4\u6a21\u5f0f\u6309-esc-\u8fdb\u5165","title":"\u547d\u4ee4\u6a21\u5f0f\uff08\u6309 <code>Esc</code> \u8fdb\u5165\uff09","text":"<ul> <li>Enter\uff1a\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f</li> <li>Shift + Enter\uff1a\u8fd0\u884c\u5f53\u524d\u5355\u5143\u5e76\u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2a\u5355\u5143</li> <li>Ctrl + Enter\uff1a\u8fd0\u884c\u5f53\u524d\u5355\u5143</li> <li>Alt + Enter\uff1a\u8fd0\u884c\u5f53\u524d\u5355\u5143\u5e76\u5728\u5176\u4e0b\u65b9\u63d2\u5165\u4e00\u4e2a\u65b0\u5355\u5143</li> <li>A\uff1a\u5728\u5f53\u524d\u5355\u5143\u4e0a\u65b9\u63d2\u5165\u4e00\u4e2a\u65b0\u5355\u5143</li> <li>B\uff1a\u5728\u5f53\u524d\u5355\u5143\u4e0b\u65b9\u63d2\u5165\u4e00\u4e2a\u65b0\u5355\u5143</li> <li>D + D\uff1a\u5220\u9664\u5f53\u524d\u5355\u5143</li> <li>Z\uff1a\u64a4\u9500\u5220\u9664\u5355\u5143</li> <li>Y\uff1a\u5c06\u5f53\u524d\u5355\u5143\u8bbe\u7f6e\u4e3a\u4ee3\u7801\u5355\u5143</li> <li>M\uff1a\u5c06\u5f53\u524d\u5355\u5143\u8bbe\u7f6e\u4e3a Markdown \u5355\u5143</li> <li>H\uff1a\u663e\u793a\u5feb\u6377\u952e\u5e2e\u52a9</li> <li>Shift + M\uff1a\u5408\u5e76\u9009\u4e2d\u7684\u5355\u5143</li> </ul>"},{"location":"sci/minimal_code/jupyternotebook/#\u7f16\u8f91\u6a21\u5f0f\u6309-enter-\u8fdb\u5165","title":"\u7f16\u8f91\u6a21\u5f0f\uff08\u6309 <code>Enter</code> \u8fdb\u5165\uff09","text":"<ul> <li>Ctrl + A\uff1a\u5168\u9009</li> <li>Ctrl + Z\uff1a\u64a4\u9500</li> <li>Ctrl + Shift + Z\uff1a\u91cd\u505a</li> <li>Ctrl + Home\uff1a\u8df3\u8f6c\u5230\u5355\u5143\u5f00\u5934</li> <li>Ctrl + End\uff1a\u8df3\u8f6c\u5230\u5355\u5143\u672b\u5c3e</li> <li>Tab\uff1a\u4ee3\u7801\u8865\u5168\u6216\u7f29\u8fdb</li> <li>Shift + Tab\uff1a\u663e\u793a\u5de5\u5177\u63d0\u793a</li> <li>Ctrl + /\uff1a\u6ce8\u91ca\u6216\u53d6\u6d88\u6ce8\u91ca\u9009\u4e2d\u7684\u4ee3\u7801</li> </ul>"},{"location":"sci/minimal_code/jupyternotebook/#\u901a\u7528\u5feb\u6377\u952e","title":"\u901a\u7528\u5feb\u6377\u952e","text":"<ul> <li>Ctrl + S\uff1a\u4fdd\u5b58 notebook</li> <li>Ctrl + Shift + P\uff1a\u6253\u5f00\u547d\u4ee4\u9762\u677f</li> <li>Shift + L\uff1a\u5207\u6362\u884c\u53f7\u663e\u793a</li> <li>O\uff1a\u5207\u6362\u5355\u5143\u8f93\u51fa\u7684\u663e\u793a/\u9690\u85cf</li> <li>Shift + O\uff1a\u5207\u6362\u5355\u5143\u8f93\u51fa\u7684\u6eda\u52a8\u6a21\u5f0f</li> </ul>"},{"location":"sci/minimal_code/jupyternotebook/#ipyplot","title":"ipyplot","text":"<pre><code>video_paths = [\"my_video.mp4\"]\nvideo_labels = [\"My Video\"]\nipyplot.plot_videos(video_paths, video_labels, width=320)\n</code></pre> <pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport ipyplot\nimport tempfile\nimport os\n\n# 1. \u4f7f\u7528 matplotlib \u7ed8\u5236\u56fe\u5f62\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nplt.plot(x, y)\nplt.xlabel(\"X\u8f74\")\nplt.ylabel(\"Y\u8f74\")\nplt.title(\"Matplotlib \u56fe\u5f62\")\n\n# 2. \u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\u6765\u4fdd\u5b58 matplotlib \u56fe\u5f62\nwith tempfile.NamedTemporaryFile(suffix=\".png\", delete=False) as tmp_file:\n    temp_filename = tmp_file.name\n    plt.savefig(temp_filename)\n\n# 3. \u4f7f\u7528 ipyplot \u663e\u793a\u4e34\u65f6\u56fe\u50cf\u6587\u4ef6\nipyplot.plot_images([temp_filename], [\"Matplotlib Plot\"], img_width=400)\n\n# 4. \u6e05\u7406\u4e34\u65f6\u6587\u4ef6\nos.remove(temp_filename)\n</code></pre>"},{"location":"sci/minimal_code/latex_graphics/","title":"latex include graphics","text":"<p>use subfloat instead of subfigure.</p> <pre><code>\\begin{figure}\n    \\centering\n    \\subfloat[The angular coverage of the detectors. \\label{polarimeter_angcove}]{\n        \\includegraphics[width=0.23\\textwidth]{tbt_new_img/Pol_angcover.pdf}\n    }\n    \\hfill\n    \\subfloat[The relationship between the energy and scattering angle. \\label{polarimeter_angcover}]{\n        \\includegraphics[width=0.23\\textwidth]{tbt_new_img/Energy_vs_ThetaDc_deg.pdf}\n    }\n    \\caption{detector setting.}\n    \\label{fig:comparison1}\n\\end{figure}\n</code></pre>"},{"location":"sci/minimal_code/root_plot/","title":"root_plot","text":""},{"location":"sci/minimal_code/root_plot/#multi-picture-layout","title":"multi-picture layout","text":"<p>CanvasPartition is helpful for you to draw a multi-picture layout, instead of using canvas-&gt;Divide().</p> <p>code The Divide() method is not appropriate to divide a Canvas. Because of the left and right margins, all the pads do not have the same width and height.</p> <pre><code>void CanvasPartition(TCanvas *C,const Int_t Nx,const Int_t Ny,\n                     Float_t lMargin, Float_t rMargin,\n                     Float_t bMargin, Float_t tMargin)\n{\n   if (!C) return;\n\n   // Setup Pad layout:\n   Float_t vSpacing = 0.0;\n   Float_t vStep  = (1.- bMargin - tMargin - (Ny-1) * vSpacing) / Ny;\n\n   Float_t hSpacing = 0.0;\n   Float_t hStep  = (1.- lMargin - rMargin - (Nx-1) * hSpacing) / Nx;\n\n   Float_t vposd,vposu,vmard,vmaru,vfactor;\n   Float_t hposl,hposr,hmarl,hmarr,hfactor;\n\n   for (Int_t i=0;i&lt;Nx;i++) {\n\n      if (i==0) {\n         hposl = 0.0;\n         hposr = lMargin + hStep;\n         hfactor = hposr-hposl;\n         hmarl = lMargin / hfactor;\n         hmarr = 0.0;\n      } else if (i == Nx-1) {\n         hposl = hposr + hSpacing;\n         hposr = hposl + hStep + rMargin;\n         hfactor = hposr-hposl;\n         hmarl = 0.0;\n         hmarr = rMargin / (hposr-hposl);\n      } else {\n         hposl = hposr + hSpacing;\n         hposr = hposl + hStep;\n         hfactor = hposr-hposl;\n         hmarl = 0.0;\n         hmarr = 0.0;\n      }\n\n      for (Int_t j=0;j&lt;Ny;j++) {\n\n         if (j==0) {\n            vposd = 0.0;\n            vposu = bMargin + vStep;\n            vfactor = vposu-vposd;\n            vmard = bMargin / vfactor;\n            vmaru = 0.0;\n         } else if (j == Ny-1) {\n            vposd = vposu + vSpacing;\n            vposu = vposd + vStep + tMargin;\n            vfactor = vposu-vposd;\n            vmard = 0.0;\n            vmaru = tMargin / (vposu-vposd);\n         } else {\n            vposd = vposu + vSpacing;\n            vposu = vposd + vStep;\n            vfactor = vposu-vposd;\n            vmard = 0.0;\n            vmaru = 0.0;\n         }\n\n         C-&gt;cd(0);\n\n         auto name = TString::Format(\"pad_%d_%d\",i,j);\n         auto pad = (TPad*) C-&gt;FindObject(name.Data());\n         if (pad) delete pad;\n         pad = new TPad(name.Data(),\"\",hposl,vposd,hposr,vposu);\n         pad-&gt;SetLeftMargin(hmarl);\n         pad-&gt;SetRightMargin(hmarr);\n         pad-&gt;SetBottomMargin(vmard);\n         pad-&gt;SetTopMargin(vmaru);\n\n         pad-&gt;SetFrameBorderMode(0);\n         pad-&gt;SetBorderMode(0);\n         pad-&gt;SetBorderSize(0);\n\n         pad-&gt;Draw();\n      }\n   }\n}\n\ndouble XtoPad(double x)\n{\n   double xl,yl,xu,yu;\n   gPad-&gt;GetPadPar(xl,yl,xu,yu);\n   double pw = xu-xl;\n   double lm = gPad-&gt;GetLeftMargin();\n   double rm = gPad-&gt;GetRightMargin();\n   double fw = pw-pw*lm-pw*rm;\n   return (x*fw+pw*lm)/pw;\n}\n\ndouble YtoPad(double y)\n{\n   double xl,yl,xu,yu;\n   gPad-&gt;GetPadPar(xl,yl,xu,yu);\n   double ph = yu-yl;\n   double tm = gPad-&gt;GetTopMargin();\n   double bm = gPad-&gt;GetBottomMargin();\n   double fh = ph-ph*bm-ph*tm;\n   return (y*fh+bm*ph)/ph;\n}\n</code></pre>"},{"location":"sci/minimal_code/vim_neovim/","title":"Vim neovim","text":"<p>title\uff1avim neovim</p>"},{"location":"sci/minimal_code/vim_neovim/#\u5b89\u88c5\u6b65\u9aa4","title":"\u5b89\u88c5\u6b65\u9aa4","text":"<ol> <li> <p>\u4e0b\u8f7d Homebrew </p> <p>apt\u4e0b\u8f7d\u7684neovim\u7248\u672c\u53ef\u80fd\u8fc7\u4e8e\u8001\u65e7\uff0c\u65e0\u6cd5\u5b89\u88c5lazyvim.</p> <p>\u6253\u5f00\u7ec8\u7aef\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Homebrew\uff1a <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre></p> </li> <li> <p>\u4e0b\u8f7d Neovim     \u4f7f\u7528 Homebrew \u5b89\u88c5 Neovim\uff1a <pre><code>brew install neovim\n</code></pre></p> </li> <li> <p>\u4e0b\u8f7d LazyVim     \u514b\u9686 LazyVim \u914d\u7f6e\u5230 Neovim \u7684\u914d\u7f6e\u76ee\u5f55\uff1a <pre><code>git clone https://github.com/LazyVim/starter ~/.config/nvim\n</code></pre></p> </li> <li> <p>\u542f\u52a8 Neovim     \u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Neovim\uff1a <pre><code>nvim\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u63d2\u4ef6     \u542f\u52a8 Neovim \u540e\uff0cLazyVim \u4f1a\u81ea\u52a8\u5b89\u88c5\u6240\u9700\u63d2\u4ef6\u3002\u7b49\u5f85\u5b89\u88c5\u5b8c\u6210\u5373\u53ef\u5f00\u59cb\u4f7f\u7528\u3002</p> </li> </ol>"},{"location":"sci/minimal_code/vim_neovim/#lazyvim-\u81ea\u5e26\u7684\u5feb\u6377\u952e","title":"lazyvim \u81ea\u5e26\u7684\u5feb\u6377\u952e","text":""},{"location":"sci/minimal_code/%E5%BE%85%E8%A7%A3%E5%86%B3%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/","title":"to be solved","text":"<p>vscode\u5173\u4e8epdf\u9605\u8bfb\u6709\u4e2a\u795e\u5947\u7684\u7279\u6027\u3002  \u6211\u5e0c\u671b\u80fd\u591f\u5728\u5149\u6807\u805a\u7126\u5728pdf\u4e0a\u65f6\u4f7f\u7528ctrl+p\u4f9d\u7136\u662f\u6253\u5f00\u6587\u4ef6\uff0c\u800c\u975e\u4e00\u4e9bpdf\u7f16\u8f91\u5668\u7684\u6253\u5370\u529f\u80fd\u3002 \u4e14\u8fd9\u4e2a\u6253\u5370\u529f\u80fd\u65e0\u6cd5\u5728vscode\u7684\u5feb\u6377\u952e\u7ed1\u5b9a(ctrl + k, ctrl + s)\u91cc\u9762\u627e\u5230\u3002 \u5f88\u53ef\u80fd\u6b64\u529f\u80fd\u662f\u5916\u94fe\u5230\u4e86\u7cfb\u7edf\u91cc\u3002\u6240\u4ee5\u4e0d\u592a\u80fd\u4fee\u6539\u3002 \u4e8e\u662f\u6362pdf\u7684\u63d2\u4ef6\u3002 \u5012\u662f\u627e\u5230\u4e00\u4e9bctrl+p\u53ef\u4ee5\u6b63\u5e38\u6253\u5f00\u6587\u4ef6\u7684\u3002 \u4f46\u662f\u95ee\u9898\u53c8\u6765\u4e86\uff0c \u6253\u5f00\u67d0\u4e2apdf\u540e\u65e0\u6cd5\u5728vscode\u4fa7\u8fb9\u680f\u805a\u7126\u5230\u8be5\u6587\u4ef6\u3002 \u8fd9\u5bfc\u81f4\u6211\u65e0\u6cd5\u5feb\u901f\u5730\u4ece\u4e00\u4e2avscode\u7a97\u53e3\uff08\u5199\u7a0b\u5e8f\uff09\u590d\u5236\u5230\u53e6\u5916\u4e00\u4e2avscode\u7a97\u53e3(\u5199\u6587\u6863) \u3002 \u5341\u5206\u70e6\u4eba\u3002 \u73b0\u5728\u7684\u65b9\u6848\u662f\u753b\u56fe\u7684\u65f6\u5019\u4fdd\u5b58png \u548cpdf\u4e24\u79cd\u683c\u5f0f\u3002 \u7136\u540e\u6253\u5f00pnd\u6587\u4ef6\uff0c\u8d44\u6e90\u7ba1\u7406\u5668\u5c31\u4f1a\u805a\u7126\u4e8e\u8be5png\u3002\u7136\u540epdf\u6587\u4ef6\u5c31\u5728\u4ed6\u4e0b\u9762\u3002</p> <p></p>"},{"location":"sci/minimal_theory/scatering_theory/","title":"\u6563\u5c04\u7406\u8bba","text":""},{"location":"sci/minimal_theory/scatering_theory/#_1","title":"\u6563\u5c04\u7406\u8bba","text":""},{"location":"sci/project/example/","title":"hello world","text":""},{"location":"sci/project/D_polar_exp/riken_web_source/","title":"riken \u5e38\u89c1\u8d44\u6e90","text":""},{"location":"sci/project/D_polar_exp/riken_web_source/#\u5149\u5b66\u4fe1\u606f","title":"\u5149\u5b66\u4fe1\u606f","text":"<p>samuirai\u4fe1\u606f</p> <p>https://www.nishina.riken.jp/ribf/BigRIPS/intensity.html</p> <p>\u675f\u6d41\u4f20\u8f93\u77e9\u9635</p> <p>https://ribf.riken.jp/BigRIPSInfo/optics/fig/mDefault.txt</p> <p>https://ribf.riken.jp/BigRIPSInfo/optics/optics.html</p> <p>https://accelconf.web.cern.ch/p91/PDF/PAC1991_0354.PDF</p> <p>https://www.bmtdynamics.org/cosy/</p> <p>https://indico.ictp.it/event/8728/session/6/contribution/21/material/slides/0.pdf</p>"},{"location":"sci/project/D_polar_exp/scintillator/","title":"\u95ea\u70c1\u4f53\u5149\u4ea7\u989d","text":"<p>\u95ea\u70c1\u4f53\u53ef\u4ee5\u6839\u636e\u5176\u5316\u5b66\u6210\u5206\u4e3b\u8981\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a\u65e0\u673a\u95ea\u70c1\u4f53\u548c\u6709\u673a\u95ea\u70c1\u4f53.(\u6765\u6e90)[https://www.ebsco.com/research-starters/physics/scintillators]</p> <p>\u95ea\u70c1\u4f53\u7684\u5149\u4ea7\u989d\u53d7\u591a\u79cd\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u5305\u62ec\u5165\u5c04\u7c92\u5b50\u7684\u79cd\u7c7b\u548c\u80fd\u91cf \u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u7c92\u5b50\uff08\u5982\u7535\u5b50\u3001\u963f\u5c14\u6cd5\u7c92\u5b50\uff09\uff0c\u540c\u4e00\u95ea\u70c1\u4f53\u7684\u5149\u4ea7\u989d\u53ef\u80fd\u4e0d\u540c\u3002 \u6307\u51fa\uff0c\u5149\u4ea7\u989d\u901a\u5e38\u4ee5\u7535\u5b50\u4f5c\u4e3a\u5165\u5c04\u7c92\u5b50\u8fdb\u884c\u91cf\u5316\u3002\u6e29\u5ea6\u4e5f\u4f1a\u5f71\u54cd\u67d0\u4e9b\u95ea\u70c1\u4f53\u7684\u5149\u8f93\u51fa \u3002 \u63d0\u5230\uff0c\u7531\u4e8e\u8f90\u5c04\u8dc3\u8fc1\u548c\u975e\u8f90\u5c04\u8dc3\u8fc1\u4e4b\u95f4\u7684\u7ade\u4e89\uff0c\u5927\u591a\u6570\u95ea\u70c1\u4f53\u7684\u5149\u8f93\u51fa\u90fd\u4e0e\u6e29\u5ea6\u6709\u5173\u3002\u5bf9\u4e8e\u65e0\u673a\u95ea\u70c1\u4f53\uff0c\u63ba\u6742\u5242\u7684\u79cd\u7c7b\u548c\u6d53\u5ea6\u662f\u5f71\u54cd\u5149\u4ea7\u989d\u7684\u5173\u952e\u56e0\u7d20 \u3002\u4f8b\u5982\uff0cNaI \u548c CsI \u4e2d\u63ba\u6742\u7684\u94ca\uff08Tl\uff09\u663e\u8457\u63d0\u9ad8\u4e86\u5b83\u4eec\u7684\u5149\u4ea7\u989d\u3002\u6b64\u5916\uff0c\u5728\u9ad8\u7535\u79bb\u5bc6\u5ea6\u4e0b\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u731d\u706d\u6548\u5e94\uff0c\u4ece\u800c\u964d\u4f4e\u5149\u4ea7\u989d \u3002(\u6587\u732e)[https://pmc.ncbi.nlm.nih.gov/articles/PMC5843761/] \u89e3\u91ca\u4e86\u9ad8\u80fd\u5e26\u7535\u7c92\u5b50\u4ea7\u751f\u4e8c\u6b21\u7535\u5b50\u7684\u8fc7\u7a0b\uff0c\u9ad8\u5bc6\u5ea6\u7684\u4e8c\u6b21\u7535\u5b50\u53ef\u80fd\u5bfc\u81f4\u731d\u706d\u3002  (\u8d44\u6599)[https://luxiumsolutions.com/files/886/download] (\u8d44\u6599)[https://www.berkeleynucleonics.com/nai-sodium-iodide]</p> \u95ea\u70c1\u4f53\u6750\u6599 \u7c7b\u578b \u5316\u5b66\u5f0f \u5bc6\u5ea6 (g/cm\u00b3) \u53d1\u5c04\u5cf0\u503c (nm) \u8870\u51cf\u65f6\u95f4 (ns/\u03bcs) \u5149\u4ea7\u989d (\u5149\u5b50/MeV) \u662f\u5426\u6f6e\u89e3 \u7898\u5316\u94a0 (NaI(Tl)) \u65e0\u673a NaI:Tl 3.67 415 230-250 ns 55,000 \u662f \u7898\u5316\u94ef (CsI(Tl)) \u65e0\u673a CsI:Tl 4.51 550 0.6 / 3.4 \u03bcs 54,000 \u8f7b\u5fae \u6b63\u7845\u9178\u9565\u9487 (LYSO) \u65e0\u673a Lu\u2082SiO\u2085:Ce 7.20 420 33-50 ns 30,000 \u5426 \u9517\u9178\u94cb (BGO) \u65e0\u673a Bi\u2084Ge\u2083O\u2081\u2082 7.13 480 300 ns 9,000 \u5426 \u5851\u6599\u95ea\u70c1\u4f53 (EJ-204) \u6709\u673a (\u4e59\u70ef\u57fa\u7532\u82ef\u57fa) \u22481.023 \u2248425 \u22482 ns 9,100 \u5426"},{"location":"sci/project/D_polar_exp/scintillator/#\u5e26\u7535\u7c92\u5b50\u5728\u7269\u8d28\u4e2d\u7684\u80fd\u91cf\u635f\u5931","title":"\u5e26\u7535\u7c92\u5b50\u5728\u7269\u8d28\u4e2d\u7684\u80fd\u91cf\u635f\u5931**","text":"<p>A. \u7406\u8bba\u6846\u67b6 \u5e26\u7535\u7c92\u5b50\u5728\u7269\u8d28\u4e2d\u7a7f\u884c\u65f6\uff0c\u4f1a\u901a\u8fc7\u4e0e\u7269\u8d28\u539f\u5b50\u53d1\u751f\u7535\u78c1\u76f8\u4e92\u4f5c\u7528\u800c\u635f\u5931\u80fd\u91cf\u3002\u63cf\u8ff0\u5e26\u7535\u7c92\u5b50\u5e73\u5747\u80fd\u91cf\u635f\u5931\u4e0e\u7a7f\u884c\u8ddd\u79bb\u5173\u7cfb\u7684\u7269\u7406\u91cf\u88ab\u79f0\u4e3a\u963b\u6b62\u672c\u9886\uff08stopping power\uff09\uff0c\u901a\u5e38\u7528 -dE/dx \u8868\u793a \u3002\u5b83\u4e5f\u5e38\u88ab\u79f0\u4e3a\u7ebf\u6027\u80fd\u91cf\u8f6c\u79fb\uff08LET\uff09\u3002 \u63cf\u8ff0\u963b\u6b62\u672c\u9886\u7684\u8457\u540d\u7406\u8bba\u662f\u8d1d\u7279\u516c\u5f0f\uff08Bethe formula\uff09\u3002\u5bf9\u4e8e\u901f\u5ea6\u4e3a v\u3001\u7535\u8377\u4e3a z\uff08\u4ee5\u7535\u5b50\u7535\u8377\u4e3a\u5355\u4f4d\uff09\u3001\u80fd\u91cf\u4e3a E \u7684\u7c92\u5b50\u7a7f\u8fc7\u7535\u5b50\u6570\u5bc6\u5ea6\u4e3a n\u3001\u5e73\u5747\u6fc0\u53d1\u80fd\u4e3a I \u7684\u7269\u8d28\u65f6\uff0c\u76f8\u5bf9\u8bba\u5f62\u5f0f\u7684\u8d1d\u7279\u516c\u5f0f\u4e3a \uff1a -dE/dx = (4\u03c0(ze)\u00b2 / (m\u2091v\u00b2)) * n * [ln(2m\u2091v\u00b2\u03b3\u00b2 / I) - \u03b2\u00b2 - \u03b4/2] \u5176\u4e2d\uff1a</p> <ul> <li>e \u662f\u7535\u5b50\u7535\u8377  </li> <li>m\u2091 \u662f\u7535\u5b50\u9759\u6b62\u8d28\u91cf  </li> <li>v \u662f\u7c92\u5b50\u7684\u901f\u5ea6  </li> <li>\u03b2 = v/c \u662f\u7c92\u5b50\u7684\u76f8\u5bf9\u901f\u5ea6\uff08c \u662f\u5149\u901f\uff09  </li> <li>\u03b3 = 1 / \u221a(1 - \u03b2\u00b2) \u662f\u6d1b\u4f26\u5179\u56e0\u5b50  </li> <li>n \u662f\u7269\u8d28\u7684\u7535\u5b50\u6570\u5bc6\u5ea6  </li> <li>I \u662f\u7269\u8d28\u7684\u5e73\u5747\u6fc0\u53d1\u80fd  </li> <li>\u03b4 \u662f\u5bc6\u5ea6\u6548\u5e94\u4fee\u6b63\u9879</li> </ul> <p>\u8d1d\u7279\u516c\u5f0f\u8868\u660e\uff0c\u963b\u6b62\u672c\u9886\u4e0e\u5165\u5c04\u7c92\u5b50\u7535\u8377\u7684\u5e73\u65b9\u6210\u6b63\u6bd4\uff0c\u5728\u8f83\u4f4e\u80fd\u91cf\u4e0b\u4e0e\u7c92\u5b50\u901f\u5ea6\u7684\u5e73\u65b9\u6210\u53cd\u6bd4 \u3002\u7269\u8d28\u7684\u7535\u5b50\u6570\u5bc6\u5ea6 n \u548c\u5e73\u5747\u6fc0\u53d1\u80fd I \u662f\u5f71\u54cd\u963b\u6b62\u672c\u9886\u7684\u5173\u952e\u6750\u6599\u53c2\u6570 \u3002\u5e73\u5747\u6fc0\u53d1\u80fd I \u53cd\u6620\u4e86\u963b\u6b62\u7269\u8d28\u539f\u5b50\u7684\u7535\u5b50\u7ed3\u6784\u7279\u6027 \u3002 \u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u8d1d\u7279\u516c\u5f0f\u5728\u4f4e\u80fd\u91cf\u533a\u57df\u6216\u9700\u8981\u66f4\u9ad8\u7cbe\u5ea6\u65f6\u9700\u8981\u8fdb\u884c\u4fee\u6b63\uff0c\u4f8b\u5982\u8003\u8651\u7535\u5b50\u58f3\u5c42\u6548\u5e94\uff08shell correction\uff09\u3001\u5df4\u514b\u65af-\u5b89\u5fb7\u68ee\u6548\u5e94\uff08Barkas-Andersen effect\uff09\u548c\u5bc6\u5ea6\u6548\u5e94\uff08density effect\uff09\u7b49 \u3002\u8fd9\u4e9b\u4fee\u6b63\u9879\u5728\u8bf8\u5982 PSTAR \u548c ASTAR \u7b49\u8ba1\u7b97\u7a0b\u5e8f\u4e2d\u5df2\u88ab\u8003\u8651\u5728\u5185 \u3002 \u8d28\u91cf\u963b\u6b62\u672c\u9886\uff08-dE/\u03c1dx\uff09\u662f\u963b\u6b62\u672c\u9886\u9664\u4ee5\u7269\u8d28\u5bc6\u5ea6 \u03c1 \u5f97\u5230\u7684\u7269\u7406\u91cf \u3002\u8d28\u91cf\u963b\u6b62\u672c\u9886\u5728\u63cf\u8ff0\u4e0d\u540c\u5bc6\u5ea6\u4f46\u539f\u5b50\u7ec4\u6210\u76f8\u4f3c\u7684\u6750\u6599\u65f6\u975e\u5e38\u6709\u7528\uff0c\u4f8b\u5982\u5728\u6c14\u4f53\u4e2d\uff0c\u963b\u6b62\u672c\u9886\u968f\u538b\u529b\u53d8\u5316\uff0c\u4f46\u8d28\u91cf\u963b\u6b62\u672c\u9886\u5219\u76f8\u5bf9\u7a33\u5b9a \u3002  </p> <p>C. 1\u5398\u7c73\u539a\u5ea6\u5185\u7684\u80fd\u91cf\u6c89\u79ef\u4f30\u7b97 \u5728\u786e\u5b9a\u4e86\u963b\u6b62\u672c\u9886\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u516c\u5f0f \u0394E = \u963b\u6b62\u672c\u9886 \u00d7 \u539a\u5ea6 \u00d7 \u5bc6\u5ea6 \u6765\u8ba1\u7b97\u7c92\u5b50\u5728 1 \u5398\u7c73\u539a\u95ea\u70c1\u4f53\u4e2d\u6c89\u79ef\u7684\u80fd\u91cf\u3002\u9700\u8981\u4f7f\u7528\u4e00\u81f4\u7684\u5355\u4f4d\uff0c\u5e76\u4e14\u963b\u6b62\u672c\u9886\u901a\u5e38\u4ee5 MeV cm\u00b2/g \u4e3a\u5355\u4f4d\uff0c\u56e0\u6b64\u9700\u8981\u6750\u6599\u7684\u5bc6\u5ea6\u3002</p> <ul> <li>\u5851\u6599\u95ea\u70c1\u4f53\uff08\u57fa\u4e8e\u4e59\u70ef\u57fa\u7532\u82ef\uff09\uff1a\u5bc6\u5ea6 \u2248 1.023 g/cm\u00b3 33\u3002  </li> <li>\u8d28\u5b50\uff1a\u0394E = 4.57 MeV cm\u00b2/g \u00d7 1 cm \u00d7 1.023 g/cm\u00b3 \u2248 4.67 MeV\u3002  </li> <li>\u6c18\u6838\uff1a\u0394E = 2.29 MeV cm\u00b2/g \u00d7 1 cm \u00d7 1.023 g/cm\u00b3 \u2248 2.34 MeV\u3002  </li> <li>\u7898\u5316\u94a0\uff1a\u5bc6\u5ea6 \u2248 3.67 g/cm\u00b3 6\u3002  </li> <li>\u8d28\u5b50\uff1a\u0394E = 2.30 MeV cm\u00b2/g \u00d7 1 cm \u00d7 3.67 g/cm\u00b3 \u2248 8.44 MeV\u3002  </li> <li>\u6c18\u6838\uff1a\u0394E = 1.15 MeV cm\u00b2/g \u00d7 1 cm \u00d7 3.67 g/cm\u00b3 \u2248 4.22 MeV\u3002  </li> <li>\u7898\u5316\u94ef\uff1a\u5bc6\u5ea6 \u2248 4.51 g/cm\u00b3 6\u3002  </li> <li>\u8d28\u5b50\uff1a\u0394E = 2.04 MeV cm\u00b2/g \u00d7 1 cm \u00d7 4.51 g/cm\u00b3 \u2248 9.20 MeV\u3002  </li> <li>\u6c18\u6838\uff1a\u0394E = 1.02 MeV cm\u00b2/g \u00d7 1 cm \u00d7 4.51 g/cm\u00b3 \u2248 4.60 MeV\u3002  </li> <li>LYSO\uff1a\u5bc6\u5ea6 \u2248 7.20 g/cm\u00b3 6\u3002\u5047\u8bbe\u5176\u963b\u6b62\u672c\u9886\u4e0e\u5176\u4ed6\u9ad8\u5bc6\u5ea6\u65e0\u673a\u95ea\u70c1\u4f53\u8fd1\u4f3c\uff1a  </li> <li>\u8d28\u5b50\uff08\u8fd1\u4f3c\uff09\uff1a\u0394E \u2248 2.1 MeV cm\u00b2/g \u00d7 1 cm \u00d7 7.20 g/cm\u00b3 \u2248 15.12 MeV\u3002  </li> <li>\u6c18\u6838\uff08\u8fd1\u4f3c\uff09\uff1a\u0394E \u2248 1.05 MeV cm\u00b2/g \u00d7 1 cm \u00d7 7.20 g/cm\u00b3 \u2248 7.56 MeV\u3002  </li> <li>BGO\uff1a\u5bc6\u5ea6 \u2248 7.13 g/cm\u00b3 6\u3002\u5047\u8bbe\u5176\u963b\u6b62\u672c\u9886\u4e0e\u5176\u4ed6\u9ad8\u5bc6\u5ea6\u65e0\u673a\u95ea\u70c1\u4f53\u8fd1\u4f3c\uff1a  </li> <li>\u8d28\u5b50\uff08\u8fd1\u4f3c\uff09\uff1a\u0394E \u2248 2.2 MeV cm\u00b2/g \u00d7 1 cm \u00d7 7.13 g/cm\u00b3 \u2248 15.69 MeV\u3002  </li> <li>\u6c18\u6838\uff08\u8fd1\u4f3c\uff09\uff1a\u0394E \u2248 1.1 MeV cm\u00b2/g \u00d7 1 cm \u00d7 7.13 g/cm\u00b3 \u2248 7.84 MeV\u3002</li> </ul> <p>D. \u6c89\u79ef\u80fd\u91cf\u4e0e\u539a\u5ea6\u7684\u5173\u7cfb \u5bf9\u4e8e\u7ed9\u5b9a\u7684\u5165\u5c04\u7c92\u5b50\u80fd\u91cf\uff0c\u80fd\u91cf\u635f\u5931\u968f\u7740\u95ea\u70c1\u4f53\u539a\u5ea6\u7684\u589e\u52a0\u800c\u589e\u52a0\uff0c\u76f4\u5230\u8fbe\u5230\u7c92\u5b50\u7684\u5c04\u7a0b\u3002\u5bf9\u4e8e\u9ad8\u80fd\u7c92\u5b50\uff0c\u4f8b\u5982 300 MeV \u7684\u8d28\u5b50\u548c\u6c18\u6838\uff0c\u5728\u6750\u6599\u7684\u521d\u59cb\u7a7f\u884c\u9636\u6bb5\uff0c\u80fd\u91cf\u635f\u5931\u53ef\u80fd\u76f8\u5bf9\u5747\u5300\u3002\u5728\u7c92\u5b50\u5c04\u7a0b\u7684\u672b\u7aef\uff0c\u963b\u6b62\u672c\u9886\u4f1a\u663e\u8457\u589e\u52a0\uff0c\u5f62\u6210\u6240\u8c13\u7684\u5e03\u62c9\u683c\u5cf0 \u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u9ad8\u80fd\u7c92\u5b50\uff0c1 \u5398\u7c73\u7684\u539a\u5ea6\u8fdc\u5c0f\u4e8e\u5b83\u4eec\u5728\u8fd9\u4e9b\u6750\u6599\u4e2d\u7684\u5c04\u7a0b\u3002\u56e0\u6b64\uff0c\u5728\u8f83\u5c0f\u7684\u539a\u5ea6\u8303\u56f4\u5185\uff0c\u80fd\u91cf\u6c89\u79ef\u4e0e\u539a\u5ea6\u8fd1\u4f3c\u6210\u6b63\u6bd4\u3002\u8981\u83b7\u5f97\u66f4\u5b8c\u6574\u7684\u5173\u7cfb\uff0c\u9700\u8981\u8ba1\u7b97\u4e0d\u540c\u80fd\u91cf\u4e0b\u7684\u963b\u6b62\u672c\u9886\u5e76\u8fdb\u884c\u79ef\u5206\u3002  </p> <p>E. \u963b\u6b62\u672c\u9886\u548c\u80fd\u91cf\u6c89\u79ef\u8ba1\u7b97\u7ed3\u679c\u603b\u7ed3</p> \u95ea\u70c1\u4f53\u6750\u6599 \u5bc6\u5ea6 (g/cm\u00b3) 300 MeV \u8d28\u5b50\u963b\u6b62\u672c\u9886 (MeV cm\u00b2/g) 300 MeV \u8d28\u5b50\u5728 1 cm \u4e2d\u6c89\u79ef\u80fd\u91cf (MeV) 300 MeV \u6c18\u6838\u963b\u6b62\u672c\u9886 (MeV cm\u00b2/g) 300 MeV \u6c18\u6838\u5728 1 cm \u4e2d\u6c89\u79ef\u80fd\u91cf (MeV) \u5851\u6599\u95ea\u70c1\u4f53 (\u4e59\u70ef\u57fa\u7532\u82ef) \u22481.023 4.57 4.67 2.29 2.34 \u7898\u5316\u94a0 3.67 2.30 8.44 1.15 4.22 \u7898\u5316\u94ef 4.51 2.04 9.20 1.02 4.60 LYSO 7.20 \u22482.1 \u224815.12 \u22481.05 \u22487.56 BGO 7.13 \u22482.2 \u224815.69 \u22481.1 \u22487.84 <p>\u53c2\u8003\u8d44\u6599</p> <p>1</p> <p>2</p>"},{"location":"sci/project/D_polar_exp/smsimulator/","title":"smsimultor","text":""},{"location":"sci/project/D_polar_exp/smsimulator/#_1","title":"smsimultor","text":"<p>read_me</p> <p>readme.txt 2019\u5e7410\u670816\u65e5 \u2014 \u7248\u672c 5.0\uff08\u4f7f\u7528 Geant4.10.05.p01 \u7f16\u8bd1\uff09 2017\u5e7412\u670828\u65e5 \u2014 \u7248\u672c 4.0\uff08\u4f7f\u7528 Geant4.9.6.p04 \u7f16\u8bd1\uff09 2014\u5e747\u670818\u65e5 \u2014 \u7248\u672c 3.2\uff08\u4f7f\u7528 Geant4.9.6.p02 \u7f16\u8bd1\uff09</p>"},{"location":"sci/project/D_polar_exp/smsimulator/#\u6458\u8981","title":"\u6458\u8981","text":"<p>\u201csmsimulator\u201d\u7531 R. Tanaka\u3001Y. Kondo \u548c M. Yasuda \u5f00\u53d1\uff0c\u7528\u4e8e\u6a21\u62df SAMURAI \u5b9e\u9a8c\u3002\u4ece 5.0 \u7248\u672c\u8d77\uff0c\u517c\u5bb9 Geant4.10.X\u30024.X \u53ca\u66f4\u65e9\u7248\u672c\u517c\u5bb9 Geant4.9.X\u3002\u4ece 3.0 \u7248\u672c\u8d77\uff0c\u5b9e\u73b0\u4e86\u4ece Geant4 \u6b65\u9aa4\u5230\u53ef\u89c2\u6d4b\u91cf\uff08\u5982 TArtNEBULAPla\uff09\u7684\u8f6c\u6362\u3002\u9700\u8981 ANAROOT \u5e93\u3002\u672c\u7248\u672c\u8fd8\u5305\u542b\u4e86 simtrace\uff0c\u53ef\u7528\u4e8e\u6a21\u62df\u5e26\u7535\u7c92\u5b50\u5728 SAMURAI \u78c1\u94c1\u4e2d\u7684\u8f68\u8ff9\u3002</p> <p>\u76ee\u524d smsimulator \u5305\u542b\uff1a  - README\uff1a\u672c\u6587\u4ef6  - setup.sh\uff1a\u5b89\u88c5\u811a\u672c  - smg4lib\uff1a\u7528\u4e8e\u521b\u5efa SAMURAI \u4eff\u771f\u5e93\u7684\u4e3b\u8981\u6587\u4ef6  - crosssection\uff1a\u521b\u5efa\u622a\u9762\u6570\u636e\u96c6\uff0c\u5e76\u7528 gnuplot \u7ed8\u56fe  - get_pdgmass\uff1a\u663e\u793a\u91cd\u79bb\u5b50 PDG \u8d28\u91cf\u7684\u7b80\u5355\u7a0b\u5e8f  - simtrace\uff1a\u68c0\u67e5 SAMURAI \u78c1\u94c1\u4e2d\u8f68\u8ff9\u7684\u7b80\u5355\u793a\u4f8b  - simdayone\uff1a\u91cd\u79bb\u5b50+\u4e2d\u5b50\u7684\u4eff\u771f\u793a\u4f8b  - sim_samurai21\uff1a\u5305\u542b NeuLAND \u7684 28O \u5b9e\u9a8c\u4eff\u771f\u793a\u4f8b  - sim_tm1510\uff1aTM1510\uff0cSAMURAI \u914d\u5408 DALI\u3001NeuLAND\u3001NEBULA  - sim_dali\uff1aDALI  - sim_s21dali\uff1aSAMURAI21 \u5b9e\u9a8c\u4e2d\u5e26 MINOS\uff08\u4f5c\u4e3a\u5bf9\u8c61\uff09\u7684 DALI  - sim_catana\uff1aCATANA</p>"},{"location":"sci/project/D_polar_exp/smsimulator/#\u4f7f\u7528\u65b9\u6cd5","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>(1) \u5b89\u88c5 Geant4 smsimulator 5.x \u517c\u5bb9 Geant4.10.x\u3002smsimulator 4.x \u517c\u5bb9 Geant4.9.x\u3002\uff08\u5efa\u8bae\u4e2d\u5b50\u6a21\u62df\u4f7f\u7528 4.9.6.p02 \u6216\u66f4\u9ad8\u7248\u672c\u3002\uff09\u5982\u7528\u65e7\u7248\u672c\uff0c\u9664 (1.a) \u5916\u8fd8\u9700\u5176\u4ed6\u4fee\u6539\u3002\u8be6\u60c5\u89c1 http://be.nucl.ap.titech.ac.jp/~ryuki/iroiro/geant4/\uff08\u65e5\u6587\uff09\u3002</p> <p>(1.a) \u4fee\u6539 G4INCLCascade.cc \u4ee5\u907f\u514d\u81f4\u547d\u4e2d\u6b62\uff0c\u5982\u4e0b\u6240\u793a\u3002\uff08smsimulator 5.x \u4e0d\u9700\u8981\u6b64\u64cd\u4f5c\uff09</p> <p>G4bool INCL::prepareReaction(const ParticleSpecies &amp;projectileSpecies, const G4double kineticEnergy, const G4int A, const G4int Z) {     if(A &lt; 0 || A &gt; 300 || Z &lt; 1 || Z &gt; 200) {       ERROR(\"Unsupported target: A = \" &lt;&lt; A &lt;&lt; \" Z = \" &lt;&lt; Z &lt;&lt; std::endl);       ERROR(\"Target configuration rejected.\" &lt;&lt; std::endl);       return false;     }</p> <pre><code>//--&gt; \u4e3a\u907f\u514d\u4e2d\u6b62\u6dfb\u52a0\nif (projectileSpecies.theA==1 &amp;&amp; A==1){\n  return false;\n}\n//&lt;--\n\n// \u521d\u59cb\u5316\u6700\u5927\u5b87\u5b99\u534a\u5f84\ninitUniverseRadius(projectileSpecies, kineticEnergy, A, Z);\n</code></pre> <p>(1.b) \u7f16\u8bd1 Geant4</p> <p>(2) \u5b89\u88c5 ANAROOT (2.a) ANAROOT \u53ef\u4ece RIBFDAQ \u7f51\u9875\u4e0b\u8f7d\u3002 http://ribf.riken.jp/RIBFDAQ/</p> <p>(3) \u7f16\u8bd1 smsimulator \u6839\u636e\u4f60\u7684\u7cfb\u7edf\u4fee\u6539 smsimulator/setup.sh\u3002</p> <p>$ . setup.sh $ cd smg4lib $ make $ cd ../simtrace $ make ...\uff08simdayone\u3001get_pdgmass\u3001crosssection \u7b49\u540c\u7406\uff09</p> <p>(4) \u8fd0\u884c Geant4 \u5c06\u5de5\u4f5c\u76ee\u5f55 \"smsimulator/work\" \u590d\u5236\u5230\u5176\u4ed6\u5730\u65b9\u3002\uff08\u4e0d\u5efa\u8bae\u76f4\u63a5\u5728 \"smsimulator/work\" \u4e0b\u5de5\u4f5c\uff0c\u4ee5\u4fbf\u5c06\u6765\u66f4\u65b0\u3002\uff09SAMURAI \u78c1\u94c1\u7684\u573a\u56fe\u53ef\u5728 http://ribf.riken.jp/SAMURAI/ \u4e0b\u8f7d\u3002\u4f60\u53ef\u4ee5\u5728 work/xxxxx/g4mac/examples/ \u4e0b\u627e\u5230 Geant4 \u5b8f\u6587\u4ef6\u793a\u4f8b\u3002</p> <ul> <li> <p>vis.mac   \u53ef\u89c6\u5316\u793a\u4f8b</p> </li> <li> <p>example_Pencil.mac   \u94c5\u7b14\u675f\u6d41\u793a\u4f8b</p> </li> <li> <p>example_Gaus.mac   \u5355\u80fd\u675f\u6d41\uff0c\u5177\u6709\u9ad8\u65af\u5206\u5e03\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\u6269\u5c55\u7684\u793a\u4f8b</p> </li> <li> <p>example_Tree.mac   \u7528\u4e8e\u4e09\u4f53\u7cfb\u7edf\u76f8\u7a7a\u95f4\u8870\u53d8\u7684 Tree \u8f93\u5165\u793a\u4f8b</p> </li> </ul> <p>(4.a) NEBULA \u7684\u63a2\u6d4b\u5668\u51e0\u4f55\u7531 smsimulator/simdayone/geometry/ \u4e0b\u7684\u4e24\u4e2a csv \u6587\u4ef6\u7ed9\u51fa\u3002   - NEBULADetectors_xxx.csv \uff1a\u6bcf\u4e2a\u63a2\u6d4b\u5668\u7684\u4f4d\u7f6e   - NEBULA_xxx.csv \uff1a\u6574\u4e2a NEBULA \u7cfb\u7edf\u7684\u51e0\u4f55</p> <p>\u8fd8\u5305\u542b\u7528\u4e8e\u751f\u6210\u53c2\u6570\u6587\u4ef6\u7684 perl \u811a\u672c\u793a\u4f8b\u3002\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p>$ ./CreatePara_NEBULAFull.pl &gt; NEBULADetector_Full.csv</p> <p>(4.b) \u8f93\u51fa root \u6587\u4ef6 \u8f93\u51fa\u7684 root \u6587\u4ef6\u5305\u542b\u5982\u4e0b Tree\uff1a   - Geant4 \u6b65\u9aa4   - \u53c2\u6570   - \u4ece Geant4 \u6b65\u9aa4\u8f6c\u6362\u800c\u6765\u7684\u53ef\u89c2\u6d4b\u91cf \u7531\u4e8e\u5b58\u50a8 Geant4 \u6b65\u9aa4\u4f1a\u5bfc\u81f4\u6587\u4ef6\u5f88\u5927\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u8df3\u8fc7\u5b58\u50a8\uff1a   - \u5728 geant4 \u5b8f\u4e2d\u52a0\u5165 /action/data/NEBULA/StoreSteps false   - NEBULASimDatainitializer::SetDataStore(false)</p> <p>(5) \u5206\u6790 Geant4 \u8f93\u51fa \u53ef\u5728 smsimulator/xxxx/macros/examples/ \u4e0b\u627e\u5230\u7528\u4e8e\u5206\u6790 Geant4 \u8f93\u51fa\u7684 ROOT \u5b8f\u793a\u4f8b\u3002</p> <ul> <li> <p>GenerateInputTree_PhaseSpaceDecay.cc     \u7528\u4e8e\u4e09\u4f53\u76f8\u7a7a\u95f4\u8870\u53d8\u6a21\u62df\u7684\u8f93\u5165 tree \u6587\u4ef6\u751f\u6210\u793a\u4f8b\u3002</p> </li> <li> <p>analysis_example.cc     \u5206\u6790 Geant4 \u8f93\u51fa\u7684\u7b80\u5355\u793a\u4f8b\u3002</p> </li> </ul> <p>(5.a) \u4e32\u6270\u5206\u6790 \u5982\u9700\u4f7f\u7528\u4e32\u6270\u5206\u6790\u793a\u4f8b\uff0c\u8bf7\u6309\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <p>(5.a.1) \u4fee\u6539 ANAROOT \u6570\u636e\u7c7b \u5728 TArtNEBULAPla.hh\uff08ANAROOT \u7c7b\uff09\u4e2d\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\u4ee5\u652f\u6301 TClonesArray::Sort\u3002</p> <p>// \u57fa\u4e8e TAveSlw \u7684\u6392\u5e8f\u91cd\u8f7d\u51fd\u6570 public:   Bool_t IsEqual(TObject obj) const {return fTAveSlw == ((TArtNEBULAPla)obj)-&gt;fTAveSlw;}   Bool_t IsSortable() const {return kTRUE;}   Int_t Compare(const TObject obj) const{     if (fTAveSlw &lt; ((TArtNEBULAPla)obj)-&gt;fTAveSlw) return -1;     else if (fTAveSlw &gt; ((TArtNEBULAPla*)obj)-&gt;fTAveSlw) return 1;     else return 0;   }</p> <p>(5.a.2) \u4e3a ROOT \u751f\u6210\u5e93\u6587\u4ef6 \u5728 smsimulator/work/smanalib/ \u4e0b\u751f\u6210\u5e93\u6587\u4ef6\u3002 $ cd smsimulator/work/smanalib/ $ ./auto.sh $ make $ make install</p> <p>\u4fee\u6539 rootlogon.C \u4ee5\u52a0\u8f7d\u5e93\u5e76\u6dfb\u52a0 include \u8def\u5f84\u3002\u53ef\u5728 smsimulator/work/sim_samurai21/macros/examples/analysis_crosstalk_example.cc \u4e2d\u627e\u5230 TArtCrosstalk_XXX \u7c7b\u7684\u4f7f\u7528\u793a\u4f8b\u3002</p>"},{"location":"sci/project/D_polar_exp/smsimulator/#\u66f4\u65b0\u4fe1\u606f","title":"\u66f4\u65b0\u4fe1\u606f","text":"<ul> <li>\u7248\u672c 4.2</li> <li> <p>TFragSimData \u4e2d\u589e\u52a0\u4e86 TargetThickness</p> </li> <li> <p>\u7248\u672c 3.2</p> </li> <li>\u5b9e\u73b0\u4e86 NeuLAND</li> <li> <p>\u5b9e\u73b0\u4e86\u4e32\u6270\u5206\u6790\u793a\u4f8b</p> </li> <li> <p>\u7248\u672c 3.0</p> </li> <li>\u5408\u5e76\u4e86 simtrace</li> <li>\u5b9e\u73b0\u4e86\u4ece Geant4 \u6b65\u9aa4\u6570\u636e\u5230 TArtNEBULAPla \u7684\u8f6c\u6362</li> <li>\u4fee\u6539\u4e86\u6570\u636e\u7c7b\u5b9a\u4e49</li> <li>\u652f\u6301\u5b9e\u9a8c\u5ba4\u5145\u6c14</li> <li>\u6574\u7406\u4e86 Messenger \u7684\u547d\u4ee4\u540d\u79f0</li> <li>\u79fb\u9664\u4e86 BeamTypeDemocraticDecay\uff08\u53ef\u901a\u8fc7 BeamTypeTree \u5b9e\u73b0\uff09</li> <li>\u4e3a\u6bcf\u4e2a\u5143\u7d20\u51c6\u5907\u4e86 DetectorConstruction\uff0c\u4fbf\u4e8e\u5c06\u6765\u4f7f\u7528</li> </ul>"},{"location":"sci/project/D_polar_exp/smsimulator/#\u63d0\u793a","title":"\u63d0\u793a","text":"<ul> <li> <p>\u5927\u91cf\u4e8b\u4ef6\u6a21\u62df   \u4e3a\u907f\u514d\u4e2d\u6b62\uff0c\u5728 g4mac/xxx.mac \u4e2d\u52a0\u5165\u5982\u4e0b\u884c\uff1a   /control/suppressAbortion 1   \u5728 Geant4.10.x \u4e2d\u5df2\u6539\u8fdb\u3002</p> </li> <li> <p>\u5347\u7ea7\u5230 smsimulator 5.x + Geant4.10.x \u65f6   \u4f7f\u7528\u5355\u4f4d\u65f6\u9700\u6dfb\u52a0 \"#include \\\"G4SystemOfUnits.hh\\\"\"\u3002</p> </li> <li> <p>\u901a\u8fc7 messenger \u547d\u4ee4   \u5728 Geant4 \u4ea4\u4e92\u6a21\u5f0f\u4e0b\u53ef\u7528\u5982\u4e0b\u65b9\u5f0f\u67e5\u770b\u5df2\u5b9e\u73b0\u547d\u4ee4\uff1a   Idle&gt; ls /action/   Idle&gt; ls /samurai/</p> </li> <li> <p>\u4e8b\u4ef6\u751f\u6210\u5668</p> </li> <li> <p>\u53ef\u901a\u8fc7 tree \u5411 smsimulator \u8f93\u5165\u4efb\u610f\u5206\u5e03\u3002get_pdgmass \u53ef\u7528\u4e8e\u83b7\u53d6\u91cd\u79bb\u5b50\u7684\u8d28\u91cf\u503c\u3002</p> </li> <li> <p>NeuLAND \u5b9e\u9a8c\u4eff\u771f</p> </li> <li> <p>smsimulator3.2/sim_samurai21 \u662f\u4f7f\u7528 NEBULA+NeuLAND \u914d\u7f6e\u7684 28O \u5b9e\u9a8c\u793a\u4f8b\u3002\u4f60\u53ef\u4ee5\u590d\u5236\u8be5\u76ee\u5f55\u4e3a sim_samuraiXX\uff0c\u5e76\u6839\u636e\u4f60\u7684\u5b9e\u9a8c\u8bbe\u7f6e\u8fdb\u884c\u4fee\u6539\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u4e32\u6270\u7b97\u6cd5</p> </li> <li> <p>\u4f60\u53ef\u4ee5\u5f00\u53d1\u81ea\u5df1\u7684\u4e32\u6270\u7b97\u6cd5\u3002TArtCrosstalkAnalysis \u57fa\u7c7b\u53ef\u7528\u4e8e\u6b64\u76ee\u7684\u3002\u590d\u5236 TArtCrosstalkAnalysis_XXX.cc \u548c .hh \u5e76\u4fee\u6539\u3002\u522b\u5fd8\u4e86\u5728 smanalib/sources/smana_linkdef.hh \u4e2d\u6dfb\u52a0\u4e00\u884c\uff0c\u4ee5\u4fbf\u5728 ROOT \u4e2d\u4f7f\u7528\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b   \u5982\u9700\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\uff0c\u8bf7\u521b\u5efa\u5982\u4e0b\u7c7b\uff1a</p> </li> <li>TXXXSimData \uff1a\u7528\u4e8e\u5b58\u50a8 Geant4 \u6b65\u9aa4\u7684\u6570\u636e\u7c7b</li> <li>XXXSimDataInitializer \uff1a\u521d\u59cb\u5316\u5668\uff08\u7ee7\u627f\u81ea SimDataInitializer\uff09</li> <li>XXXSimDataConverter \uff1a\u4ece Geant4 \u6b65\u9aa4\u5230\u53ef\u89c2\u6d4b\u91cf\u7684\u8f6c\u6362\u5668\uff08\u7ee7\u627f\u81ea SimDataConverter\uff09</li> <li>XXXSD \uff1a\u7075\u654f\u63a2\u6d4b\u5668\u7c7b\uff08\u7ee7\u627f\u81ea G4VSensitiveDetector\uff09</li> </ul> <p>\u7136\u540e\u53ef\u901a\u8fc7 SimDataManager \u63a7\u5236\u5b83\u4eec\u3002</p>"},{"location":"sci/project/D_polar_exp/smsimulator/#\u5f85\u529e\u4e8b\u9879","title":"\u5f85\u529e\u4e8b\u9879","text":"<ul> <li>\u5c1a\u672a\u5305\u542b\u7684\u5185\u5bb9</li> <li>\u91cd\u79bb\u5b50\u7684\u5206\u8fa8\u7387</li> <li> <p>\u9776\u6750\u4e2d\u7684\u80fd\u91cf\u635f\u5931\u5dee\u5f02\uff08\u5bf9 Erel \u5206\u8fa8\u7387\u6709\u91cd\u8981\u5f71\u54cd\uff09</p> </li> <li> <p>\u6709\u5173\u6a21\u62df\u5668\u6709\u6548\u6027/\u8bc4\u4f30\u7684\u6587\u6863\u3002</p> </li> </ul>"},{"location":"sci/project/D_polar_exp/spherical_operator/","title":"To show some relation","text":""},{"location":"sci/project/D_polar_exp/spherical_operator/#density-matirx","title":"density matirx","text":"S_x = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 0 &amp; 1 &amp; 0 \\\\ 1 &amp; 0 &amp; 1 \\\\ 0 &amp; 1 &amp; 0 \\end{pmatrix}   S_y = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 0 &amp; -i &amp; 0 \\\\ i &amp; 0 &amp; -i \\\\ 0 &amp; i &amp; 0 \\end{pmatrix}   S_y = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 0 &amp; -i &amp; 0 \\\\ i &amp; 0 &amp; -i \\\\ 0 &amp; i &amp; 0 \\end{pmatrix}   S_z = \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; -1 \\end{pmatrix}   S_z = \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; -1 \\end{pmatrix}   \\mathscr{P}_x = S_x =\\begin{pmatrix} 0 &amp; \\frac{1}{\\sqrt{2}} &amp; 0 \\\\ \\frac{1}{\\sqrt{2}} &amp; 0 &amp; \\frac{1}{\\sqrt{2}} \\\\ 0 &amp; \\frac{1}{\\sqrt{2}} &amp; 0 \\end{pmatrix}   \\mathscr{P}_x = S_x =\\begin{pmatrix} 0 &amp; \\frac{1}{\\sqrt{2}} &amp; 0 \\\\ \\frac{1}{\\sqrt{2}} &amp; 0 &amp; \\frac{1}{\\sqrt{2}} \\\\ 0 &amp; \\frac{1}{\\sqrt{2}} &amp; 0 \\end{pmatrix}   \\mathscr{P}_y = S_y =\\begin{pmatrix} 0 &amp; -\\frac{i}{\\sqrt{2}} &amp; 0 \\\\ \\frac{i}{\\sqrt{2}} &amp; 0 &amp; -\\frac{i}{\\sqrt{2}} \\\\ 0 &amp; \\frac{i}{\\sqrt{2}} &amp; 0 \\end{pmatrix}   \\mathscr{P}_y = S_y =\\begin{pmatrix} 0 &amp; -\\frac{i}{\\sqrt{2}} &amp; 0 \\\\ \\frac{i}{\\sqrt{2}} &amp; 0 &amp; -\\frac{i}{\\sqrt{2}} \\\\ 0 &amp; \\frac{i}{\\sqrt{2}} &amp; 0 \\end{pmatrix}   \\mathscr{P}_z = S_z =\\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; -1 \\end{pmatrix}   \\mathscr{P}_z = S_z =\\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; -1 \\end{pmatrix}   \\mathscr{P}_{xy} = 3 S_x \\cdot S_y =\\begin{pmatrix} \\frac{3i}{2} &amp; 0 &amp; -\\frac{3i}{2} \\\\ 0 &amp; 0 &amp; 0 \\\\ \\frac{3i}{2} &amp; 0 &amp; -\\frac{3i}{2} \\end{pmatrix}   \\mathscr{P}_{xy} = 3 S_x \\cdot S_y =\\begin{pmatrix} \\frac{3i}{2} &amp; 0 &amp; -\\frac{3i}{2} \\\\ 0 &amp; 0 &amp; 0 \\\\ \\frac{3i}{2} &amp; 0 &amp; -\\frac{3i}{2} \\end{pmatrix}   \\mathscr{P}_{yx} = 3 S_y \\cdot S_z= \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ \\frac{3i}{\\sqrt{2}} &amp; 0 &amp; \\frac{3i}{\\sqrt{2}} \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}   \\mathscr{P}_{yx} = 3 S_y \\cdot S_z= \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ \\frac{3i}{\\sqrt{2}} &amp; 0 &amp; \\frac{3i}{\\sqrt{2}} \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}   \\mathscr{P}_{xz} = 3 S_x \\cdot S_z =\\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ \\frac{3}{\\sqrt{2}} &amp; 0 &amp; -\\frac{3}{\\sqrt{2}} \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}   \\mathscr{P}_{xz} = 3 S_x \\cdot S_z =\\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ \\frac{3}{\\sqrt{2}} &amp; 0 &amp; -\\frac{3}{\\sqrt{2}} \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}   \\mathscr{P}_{xx} = 3 S_x \\cdot S_x - 2 I= \\begin{pmatrix} -\\frac{1}{2} &amp; 0 &amp; \\frac{3}{2} \\\\ 0 &amp; 1 &amp; 0 \\\\ \\frac{3}{2} &amp; 0 &amp; -\\frac{1}{2} \\end{pmatrix}   \\mathscr{P}_{xx} = 3 S_x \\cdot S_x - 2 I= \\begin{pmatrix} -\\frac{1}{2} &amp; 0 &amp; \\frac{3}{2} \\\\ 0 &amp; 1 &amp; 0 \\\\ \\frac{3}{2} &amp; 0 &amp; -\\frac{1}{2} \\end{pmatrix}   \\mathscr{P}_{yy} = 3 S_y \\cdot S_y - 2 I =\\begin{pmatrix} -\\frac{1}{2} &amp; 0 &amp; -\\frac{3}{2} \\\\ 0 &amp; 1 &amp; 0 \\\\ -\\frac{3}{2} &amp; 0 &amp; -\\frac{1}{2} \\end{pmatrix}   \\mathscr{P}_{yy} = 3 S_y \\cdot S_y - 2 I =\\begin{pmatrix} -\\frac{1}{2} &amp; 0 &amp; -\\frac{3}{2} \\\\ 0 &amp; 1 &amp; 0 \\\\ -\\frac{3}{2} &amp; 0 &amp; -\\frac{1}{2} \\end{pmatrix}   \\mathscr{P}_{zz} = 3 S_z \\cdot S_z - 2 I= \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; -2 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}   \\mathscr{P}_{zz} = 3 S_z \\cdot S_z - 2 I= \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; -2 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}   \\mathscr{P}_{xx} + \\mathscr{P}_{yy} + \\mathscr{P}_{zz} = \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}   \\mathscr{P}_{xx} + \\mathscr{P}_{yy} + \\mathscr{P}_{zz} = \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\end{pmatrix}"},{"location":"sci/project/D_polar_exp/spherical_operator/#sperical-operator-and-cartesian-operator","title":"sperical operator and cartesian operator","text":"<p>\u4e0d\u53ef\u7ea6\u5f20\u91cf\u8868\u793a\u548c\u76f4\u89d2\u57fa\u8868\u793a</p> <p>\u4e0d\u59a8\u770b\u770b\u79d1\u5927\u7684PPT \u8fd9\u91cc</p>  \\begin{aligned} \\tau_{00} &amp; =I \\quad(3 \\times 3 \\text { unit matrix }) \\\\ \\tau_{1 \\pm 1} &amp; =\\mp \\frac{\\sqrt{3}}{2}\\left(\\mathscr{P}_x \\pm \\mathrm{i} \\mathscr{P}_y\\right) \\\\ \\tau_{10} &amp; =\\sqrt{\\frac{3}{2}} \\mathscr{P}_z \\\\ \\tau_{2 \\pm 2} &amp; =\\frac{1}{2 \\sqrt{3}}\\left(\\mathscr{P}_{x x}-\\mathscr{P}_{y y} \\pm 2 \\mathrm{i} \\mathscr{P}_{x y}\\right) \\\\ \\tau_{2 \\pm 1} &amp; =\\mp \\frac{1}{\\sqrt{3}}\\left(\\mathscr{P}_{x z} \\pm \\mathrm{i} \\mathscr{P}_{y z}\\right) \\\\ \\tau_{20} &amp; =\\frac{1}{\\sqrt{2}} \\mathscr{P}_{z z} \\end{aligned}   \\begin{aligned} \\tau_{00} &amp; =I \\quad(3 \\times 3 \\text { unit matrix }) \\\\ \\tau_{1 \\pm 1} &amp; =\\mp \\frac{\\sqrt{3}}{2}\\left(\\mathscr{P}_x \\pm \\mathrm{i} \\mathscr{P}_y\\right) \\\\ \\tau_{10} &amp; =\\sqrt{\\frac{3}{2}} \\mathscr{P}_z \\\\ \\tau_{2 \\pm 2} &amp; =\\frac{1}{2 \\sqrt{3}}\\left(\\mathscr{P}_{x x}-\\mathscr{P}_{y y} \\pm 2 \\mathrm{i} \\mathscr{P}_{x y}\\right) \\\\ \\tau_{2 \\pm 1} &amp; =\\mp \\frac{1}{\\sqrt{3}}\\left(\\mathscr{P}_{x z} \\pm \\mathrm{i} \\mathscr{P}_{y z}\\right) \\\\ \\tau_{20} &amp; =\\frac{1}{\\sqrt{2}} \\mathscr{P}_{z z} \\end{aligned}   \\begin{aligned} &amp; \\mathscr{P}_x=\\frac{-1}{\\sqrt{3}}\\left(\\tau_{11}-\\tau_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Im} \\tau_{11} ,\\\\  &amp;\\mathscr{P}_y=\\frac{\\mathrm{i}}{\\sqrt{3}}\\left(\\tau_{11}+\\tau_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Re} \\tau_{11} ,\\\\ &amp; \\mathscr{P}_z=\\sqrt{\\frac{2}{3}} \\tau_{10} =\\sqrt{\\frac{2}{3}} \\tau_{10} ,\\\\  &amp;\\mathscr{P}_{x y}=\\frac{-\\mathrm{i} \\sqrt{3}}{2}\\left(\\tau_{22}-\\tau_{2-2}\\right) =\\sqrt{3} \\operatorname{Im} \\tau_{22} ,\\\\ &amp; \\mathscr{P}_{x z}=\\frac{-\\sqrt{3} }{2}\\left(\\tau_{21}-\\tau_{2-1}\\right) =-\\sqrt{3 }  \\operatorname{Re} \\tau_{21} ,\\\\  &amp;\\mathscr{P}_{y z}=\\frac{\\mathrm{i} \\sqrt{ 3} }{2}\\left(\\tau_{21}+\\tau_{2-1}\\right) =-\\sqrt{ 3}  \\operatorname{Im} \\tau_{21} ,\\\\ &amp; \\mathscr{P}_{x x}=\\frac{\\sqrt{3 } }{2}\\left(\\tau_{22}+\\tau_{2-2}\\right)-\\frac{1}{\\sqrt{2}} \\tau_{20}=\\sqrt{ 3} \\operatorname{Re} \\tau_{22}-\\frac{1}{\\sqrt{2}} \\tau_{20} ,\\\\ &amp; \\mathscr{P}_{y y}=-\\frac{\\sqrt{ 3} }{2}\\left(\\tau_{22}+\\tau_{2-2}\\right)-\\frac{1}{\\sqrt{2}} \\tau_{20}=-\\sqrt{3} \\operatorname{Re} \\tau_{22}-\\frac{1}{\\sqrt{2}} \\tau_{20} ,\\\\ &amp; \\mathscr{P}_{z z}=\\sqrt{ 2}  \\tau_{20} =\\sqrt{2} \\tau_{20} . \\end{aligned}   \\begin{aligned} &amp; \\mathscr{P}_x=\\frac{-1}{\\sqrt{3}}\\left(\\tau_{11}-\\tau_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Im} \\tau_{11} ,\\\\  &amp;\\mathscr{P}_y=\\frac{\\mathrm{i}}{\\sqrt{3}}\\left(\\tau_{11}+\\tau_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Re} \\tau_{11} ,\\\\ &amp; \\mathscr{P}_z=\\sqrt{\\frac{2}{3}} \\tau_{10} =\\sqrt{\\frac{2}{3}} \\tau_{10} ,\\\\  &amp;\\mathscr{P}_{x y}=\\frac{-\\mathrm{i} \\sqrt{3}}{2}\\left(\\tau_{22}-\\tau_{2-2}\\right) =\\sqrt{3} \\operatorname{Im} \\tau_{22} ,\\\\ &amp; \\mathscr{P}_{x z}=\\frac{-\\sqrt{3} }{2}\\left(\\tau_{21}-\\tau_{2-1}\\right) =-\\sqrt{3 }  \\operatorname{Re} \\tau_{21} ,\\\\  &amp;\\mathscr{P}_{y z}=\\frac{\\mathrm{i} \\sqrt{ 3} }{2}\\left(\\tau_{21}+\\tau_{2-1}\\right) =-\\sqrt{ 3}  \\operatorname{Im} \\tau_{21} ,\\\\ &amp; \\mathscr{P}_{x x}=\\frac{\\sqrt{3 } }{2}\\left(\\tau_{22}+\\tau_{2-2}\\right)-\\frac{1}{\\sqrt{2}} \\tau_{20}=\\sqrt{ 3} \\operatorname{Re} \\tau_{22}-\\frac{1}{\\sqrt{2}} \\tau_{20} ,\\\\ &amp; \\mathscr{P}_{y y}=-\\frac{\\sqrt{ 3} }{2}\\left(\\tau_{22}+\\tau_{2-2}\\right)-\\frac{1}{\\sqrt{2}} \\tau_{20}=-\\sqrt{3} \\operatorname{Re} \\tau_{22}-\\frac{1}{\\sqrt{2}} \\tau_{20} ,\\\\ &amp; \\mathscr{P}_{z z}=\\sqrt{ 2}  \\tau_{20} =\\sqrt{2} \\tau_{20} . \\end{aligned}   \\begin{aligned} &amp; A_x=\\frac{-1}{\\sqrt{3}}\\left(T_{11}-T_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Im} T_{11} ,\\\\  &amp;A_y=\\frac{\\mathrm{i}}{\\sqrt{3}}\\left(T_{11}+T_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Re} T_{11} ,\\\\ &amp; A_z=\\sqrt{\\frac{2}{3}} T_{10} =\\sqrt{\\frac{2}{3}} T_{10} ,\\\\  &amp;A_{x y}=\\frac{-\\mathrm{i} \\sqrt{3}}{2}\\left(T_{22}-T_{2-2}\\right) =\\sqrt{3} \\operatorname{Im} T_{22} ,\\\\ &amp; A_{x z}=\\frac{-\\sqrt{3} }{2}\\left(T_{21}-T_{2-1}\\right) =-\\sqrt{3 }  \\operatorname{Re} T_{21} ,\\\\  &amp;A_{y z}=\\frac{\\mathrm{i} \\sqrt{ 3} }{2}\\left(T_{21}+T_{2-1}\\right) =-\\sqrt{ 3}  \\operatorname{Im} T_{21} ,\\\\ &amp; A_{x x}=\\frac{\\sqrt{3 } }{2}\\left(T_{22}+T_{2-2}\\right)-\\frac{1}{\\sqrt{2}} T_{20}=\\sqrt{ 3} \\operatorname{Re} T_{22}-\\frac{1}{\\sqrt{2}} T_{20} ,\\\\ &amp; A_{y y}=-\\frac{\\sqrt{ 3} }{2}\\left(T_{22}+T_{2-2}\\right)-\\frac{1}{\\sqrt{2}} T_{20}=-\\sqrt{3} \\operatorname{Re} T_{22}-\\frac{1}{\\sqrt{2}} T_{20} ,\\\\ &amp; A_{z z}=\\sqrt{ 2}  T_{20} =\\sqrt{2} T_{20} . \\end{aligned}   \\begin{aligned} &amp; A_x=\\frac{-1}{\\sqrt{3}}\\left(T_{11}-T_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Im} T_{11} ,\\\\  &amp;A_y=\\frac{\\mathrm{i}}{\\sqrt{3}}\\left(T_{11}+T_{1-1}\\right) =-\\frac{2}{\\sqrt{3}} \\operatorname{Re} T_{11} ,\\\\ &amp; A_z=\\sqrt{\\frac{2}{3}} T_{10} =\\sqrt{\\frac{2}{3}} T_{10} ,\\\\  &amp;A_{x y}=\\frac{-\\mathrm{i} \\sqrt{3}}{2}\\left(T_{22}-T_{2-2}\\right) =\\sqrt{3} \\operatorname{Im} T_{22} ,\\\\ &amp; A_{x z}=\\frac{-\\sqrt{3} }{2}\\left(T_{21}-T_{2-1}\\right) =-\\sqrt{3 }  \\operatorname{Re} T_{21} ,\\\\  &amp;A_{y z}=\\frac{\\mathrm{i} \\sqrt{ 3} }{2}\\left(T_{21}+T_{2-1}\\right) =-\\sqrt{ 3}  \\operatorname{Im} T_{21} ,\\\\ &amp; A_{x x}=\\frac{\\sqrt{3 } }{2}\\left(T_{22}+T_{2-2}\\right)-\\frac{1}{\\sqrt{2}} T_{20}=\\sqrt{ 3} \\operatorname{Re} T_{22}-\\frac{1}{\\sqrt{2}} T_{20} ,\\\\ &amp; A_{y y}=-\\frac{\\sqrt{ 3} }{2}\\left(T_{22}+T_{2-2}\\right)-\\frac{1}{\\sqrt{2}} T_{20}=-\\sqrt{3} \\operatorname{Re} T_{22}-\\frac{1}{\\sqrt{2}} T_{20} ,\\\\ &amp; A_{z z}=\\sqrt{ 2}  T_{20} =\\sqrt{2} T_{20} . \\end{aligned}  <p>iT_{11} = \\text{Re } iT_{11} = \\frac{\\text{Tr} M (\\sqrt{3} \\mathscr{P}_y / 2) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{\\sqrt{3}}{2} A_yiT_{11} = \\text{Re } iT_{11} = \\frac{\\text{Tr} M (\\sqrt{3} \\mathscr{P}_y / 2) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{\\sqrt{3}}{2} A_y</p> <p>T_{20} = \\text{Re } T_{20} = \\frac{\\text{Tr} M (\\mathscr{P}_{zz} / \\sqrt{2}) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{1}{\\sqrt{2}} A_{zz}T_{20} = \\text{Re } T_{20} = \\frac{\\text{Tr} M (\\mathscr{P}_{zz} / \\sqrt{2}) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{1}{\\sqrt{2}} A_{zz}</p> <p>T_{21} = \\text{Re } T_{21} = \\frac{\\text{Tr} M (-\\mathscr{P}_{xz} / \\sqrt{3}) M^\\dagger}{\\text{Tr} MM^\\dagger} = -\\frac{1}{\\sqrt{3}} A_{xz}T_{21} = \\text{Re } T_{21} = \\frac{\\text{Tr} M (-\\mathscr{P}_{xz} / \\sqrt{3}) M^\\dagger}{\\text{Tr} MM^\\dagger} = -\\frac{1}{\\sqrt{3}} A_{xz}</p> <p>T_{22} = \\text{Re } T_{22} = \\frac{\\text{Tr} M ((\\mathscr{P}_{xx} - \\mathscr{P}_{yy}) / (2\\sqrt{3})) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{1}{2\\sqrt{3}} (A_{xx} - A_{yy})T_{22} = \\text{Re } T_{22} = \\frac{\\text{Tr} M ((\\mathscr{P}_{xx} - \\mathscr{P}_{yy}) / (2\\sqrt{3})) M^\\dagger}{\\text{Tr} MM^\\dagger} = \\frac{1}{2\\sqrt{3}} (A_{xx} - A_{yy})</p>"},{"location":"sci/project/D_polar_exp/spherical_operator/#projectail-coordinate","title":"projectail coordinate","text":"<p>coordinate transform.</p> <p>\u6781\u5316\u7406\u8bba\u4e2d\u6709\u8bb8\u591a\u5750\u6807\u8f74\u3002</p> <p>\\begin{pmatrix} P_x \\\\ P_y \\\\ P_z \\end{pmatrix} = \\begin{pmatrix} \\cos \\phi &amp; -\\sin \\phi &amp; 0 \\\\ \\sin \\phi &amp; \\cos \\phi &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\begin{pmatrix} P_{x'} \\\\ P_{y'} \\\\ P_{z'} \\end{pmatrix}\\begin{pmatrix} P_x \\\\ P_y \\\\ P_z \\end{pmatrix} = \\begin{pmatrix} \\cos \\phi &amp; -\\sin \\phi &amp; 0 \\\\ \\sin \\phi &amp; \\cos \\phi &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\begin{pmatrix} P_{x'} \\\\ P_{y'} \\\\ P_{z'} \\end{pmatrix} </p> <p>Polarization transfer and spin correlation experiments in nuclear physics </p> <p>which we write symbolically as</p> <p>\\boldsymbol{p} = U\\boldsymbol{p}'\\boldsymbol{p} = U\\boldsymbol{p}'. </p> <p>Because the analysing reaction is sensitive to p_yp_y only, the result of interest is</p> <p>P_y = P_{x'} \\sin \\phi + P_{y'} \\cos \\phiP_y = P_{x'} \\sin \\phi + P_{y'} \\cos \\phi.</p> <p>The second-rank tensor, here denoted by \\boldsymbol{pp}\\boldsymbol{pp}, transforms as</p> <p>\\boldsymbol{pp} = U\\boldsymbol{pp}'\\tilde{U}\\boldsymbol{pp} = U\\boldsymbol{pp}'\\tilde{U},</p> <p>P_{xx} = P_{x'x'} \\cos^2 \\phi - 2P_{x'y'} \\sin \\phi \\cos \\phi + P_{y'y'} \\sin^2 \\phiP_{xx} = P_{x'x'} \\cos^2 \\phi - 2P_{x'y'} \\sin \\phi \\cos \\phi + P_{y'y'} \\sin^2 \\phi</p> <p>P_{yy} = P_{x'x'} \\sin^2 \\phi + 2P_{x'y'} \\sin \\phi \\cos \\phi + P_{y'y'} \\cos^2 \\phiP_{yy} = P_{x'x'} \\sin^2 \\phi + 2P_{x'y'} \\sin \\phi \\cos \\phi + P_{y'y'} \\cos^2 \\phi</p> <p>P_{zz} = P_{z'z'}P_{zz} = P_{z'z'}</p> <p>P_{xy} = \\frac{1}{2}(P_{x'x'} - P_{y'y'}) \\sin 2\\phi + P_{x'y'} \\cos 2\\phiP_{xy} = \\frac{1}{2}(P_{x'x'} - P_{y'y'}) \\sin 2\\phi + P_{x'y'} \\cos 2\\phi</p> <p>P_{xz} = P_{x'z'} \\cos \\phi - P_{y'z'} \\sin \\phiP_{xz} = P_{x'z'} \\cos \\phi - P_{y'z'} \\sin \\phi</p> <p>P_{yz} = P_{x'z'} \\sin \\phi + P_{y'z'} \\cos \\phiP_{yz} = P_{x'z'} \\sin \\phi + P_{y'z'} \\cos \\phi</p>"},{"location":"sci/project/D_polar_exp/spherical_operator/#spin-polarization-axis","title":"spin polarization axis","text":"<p>We can write the vector components of the beam polarization in the projectile helicity frame by resolving \\hat{S}\\hat{S} into xx, yy and zz components and multiplying by the</p> <p>vector polarization magnitude, p_zp_z:</p> <p>p_x = -p_z \\sin \\beta \\sin \\phip_x = -p_z \\sin \\beta \\sin \\phi p_y = p_z \\sin \\beta \\cos \\phip_y = p_z \\sin \\beta \\cos \\phi p_z = p_z \\cos \\betap_z = p_z \\cos \\beta. </p> <p>The polarization tensor in the X, Y, Z system is</p> <p>PP_{XYZ} = \\begin{pmatrix} -\\frac{1}{2} P_{zz} &amp; 0 &amp; 0 \\\\ 0 &amp; -\\frac{1}{2} P_{zz} &amp; 0 \\\\ 0 &amp; 0 &amp; P_{zz} \\end{pmatrix}PP_{XYZ} = \\begin{pmatrix} -\\frac{1}{2} P_{zz} &amp; 0 &amp; 0 \\\\ 0 &amp; -\\frac{1}{2} P_{zz} &amp; 0 \\\\ 0 &amp; 0 &amp; P_{zz} \\end{pmatrix}.</p> <p>This may be rewritten as</p> <p>PP_{XYZ} = \\frac{3}{2} P_{zz} \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} - \\frac{1}{2} P_{zz} \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}PP_{XYZ} = \\frac{3}{2} P_{zz} \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} - \\frac{1}{2} P_{zz} \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}</p> <p>so that</p> <p>PP_{xyz} = \\frac{3}{2} P_{zz} U \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\tilde{U} - \\frac{1}{2} P_{zz} \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}PP_{xyz} = \\frac{3}{2} P_{zz} U \\begin{pmatrix} 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\tilde{U} - \\frac{1}{2} P_{zz} \\begin{pmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix}</p> <p>where we have used the fact that U\\tilde{U} = IU\\tilde{U} = I.</p> <p>Carrying out the indicated operations, we obtain</p> <p>P_{xx} = (\\frac{3}{2} U_{xz} U_{xz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\sin^2 \\beta \\sin^2 \\phi - 1) P_{zz}P_{xx} = (\\frac{3}{2} U_{xz} U_{xz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\sin^2 \\beta \\sin^2 \\phi - 1) P_{zz}</p> <p>P_{yy} = (\\frac{3}{2} U_{yz} U_{yz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\sin^2 \\beta \\cos^2 \\phi - 1) P_{zz}P_{yy} = (\\frac{3}{2} U_{yz} U_{yz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\sin^2 \\beta \\cos^2 \\phi - 1) P_{zz}</p> <p>P_{zz} = (\\frac{3}{2} U_{zz} U_{zz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\cos^2 \\beta - 1) P_{zz}P_{zz} = (\\frac{3}{2} U_{zz} U_{zz} - \\frac{1}{2}) P_{zz} = \\frac{1}{2} (3 \\cos^2 \\beta - 1) P_{zz}</p> <p>P_{xy} = U_{yx} U_{xz} P_{zz} = - \\frac{3}{2} \\sin^2 \\beta \\cos \\phi \\sin \\phi P_{zz}P_{xy} = U_{yx} U_{xz} P_{zz} = - \\frac{3}{2} \\sin^2 \\beta \\cos \\phi \\sin \\phi P_{zz}</p> <p>P_{yz} = U_{yz} U_{zz} P_{zz} = \\sin \\beta \\cos \\beta \\cos \\phi P_{zz}P_{yz} = U_{yz} U_{zz} P_{zz} = \\sin \\beta \\cos \\beta \\cos \\phi P_{zz}</p> <p>P_{xz} = U_{xz} U_{zz} P_{zz} = - \\sin \\beta \\cos \\beta \\sin \\phi P_{zz}P_{xz} = U_{xz} U_{zz} P_{zz} = - \\sin \\beta \\cos \\beta \\sin \\phi P_{zz}</p>"},{"location":"sci/project/D_polar_exp/spherical_operator/#cross-section","title":"cross section","text":"\\begin{aligned} I(\\theta, \\phi)=I_0(\\theta)[1 &amp; +\\frac{3}{2}\\left(p_{x^{\\prime}} \\sin \\phi+p_{y^{\\prime}} \\cos \\phi\\right) A_y(\\theta) \\\\ &amp;+\\frac{2}{3}\\left(p_{x^{\\prime} z^{\\prime}} \\cos \\phi-p_{y^{\\prime} z^{\\prime}} \\sin \\phi\\right) A_{x z}(\\theta) \\\\ &amp;+\\frac{1}{6}\\left\\{\\left(p_{x^{\\prime} x^{\\prime}}-p_{y^{\\prime} y^{\\prime}}\\right) \\cos 2 \\phi-2 p_{x^{\\prime} y^{\\prime}} \\sin 2 \\phi\\right\\} \\\\ &amp;\\left\\{A_{x x}(\\theta)-A_{yy}(\\theta)\\right\\} \\\\ &amp; \\left.+\\frac{1}{2} p_{z^{\\prime} z^{\\prime}} A_{z z}(\\theta)\\right] . \\end{aligned}   \\begin{aligned} I(\\theta, \\phi)=I_0(\\theta)[1 &amp; +\\frac{3}{2}\\left(p_{x^{\\prime}} \\sin \\phi+p_{y^{\\prime}} \\cos \\phi\\right) A_y(\\theta) \\\\ &amp;+\\frac{2}{3}\\left(p_{x^{\\prime} z^{\\prime}} \\cos \\phi-p_{y^{\\prime} z^{\\prime}} \\sin \\phi\\right) A_{x z}(\\theta) \\\\ &amp;+\\frac{1}{6}\\left\\{\\left(p_{x^{\\prime} x^{\\prime}}-p_{y^{\\prime} y^{\\prime}}\\right) \\cos 2 \\phi-2 p_{x^{\\prime} y^{\\prime}} \\sin 2 \\phi\\right\\} \\\\ &amp;\\left\\{A_{x x}(\\theta)-A_{yy}(\\theta)\\right\\} \\\\ &amp; \\left.+\\frac{1}{2} p_{z^{\\prime} z^{\\prime}} A_{z z}(\\theta)\\right] . \\end{aligned}"},{"location":"sci/project/D_polar_exp/spherical_operator/#put-4-detector","title":"put 4 detector","text":"<p>asymetric</p> <p>z',y'\u5e73\u9762\u5185</p> <p>\\frac{L-R}{L+R} = \\frac{\\frac{3}{2} P_z \\sin \\beta A_y}{1 + \\frac{1}{2} P_{zz}(\\sin^2 \\beta A_{yy} + \\cos^2 \\beta A_{zz})}\\frac{L-R}{L+R} = \\frac{\\frac{3}{2} P_z \\sin \\beta A_y}{1 + \\frac{1}{2} P_{zz}(\\sin^2 \\beta A_{yy} + \\cos^2 \\beta A_{zz})}</p> <p>\\frac{U-D}{U+D} = \\frac{P_{zz} \\sin \\beta \\cos \\beta A_{xz}}{1 + \\frac{1}{2} P_{zz}(\\sin^2 \\beta A_{xx} + \\cos^2 \\beta A_{zz})}\\frac{U-D}{U+D} = \\frac{P_{zz} \\sin \\beta \\cos \\beta A_{xz}}{1 + \\frac{1}{2} P_{zz}(\\sin^2 \\beta A_{xx} + \\cos^2 \\beta A_{zz})}</p> <p>\\frac{2(L-R)}{L+R+U+D} = \\frac{\\frac{3}{2} P_z \\sin \\beta A_y}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}\\frac{2(L-R)}{L+R+U+D} = \\frac{\\frac{3}{2} P_z \\sin \\beta A_y}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}</p> <p>\\frac{2(U-D)}{L+R+U+D} = \\frac{P_{zz} \\sin \\beta \\cos \\beta A_{xz}}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}\\frac{2(U-D)}{L+R+U+D} = \\frac{P_{zz} \\sin \\beta \\cos \\beta A_{xz}}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}</p> <p>\\frac{(L+R)-(U+D)}{L+R+U+D} = \\frac{-\\frac{1}{4} P_{zz} \\sin^2 \\beta (A_{xx} - A_{yy})}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}\\frac{(L+R)-(U+D)}{L+R+U+D} = \\frac{-\\frac{1}{4} P_{zz} \\sin^2 \\beta (A_{xx} - A_{yy})}{1 + \\frac{1}{2} P_{zz}(3 \\cos^2 \\beta - 1) A_{zz}}</p>"},{"location":"sci/project/D_polar_exp/stastic/","title":"\u7edf\u8ba1","text":""},{"location":"sci/project/D_polar_exp/stastic/#\u8bef\u5dee\u4f20\u9012","title":"\u8bef\u5dee\u4f20\u9012","text":"<p>\u5047\u8bbe\u6709 n \u4e2a\u968f\u673a\u53d8\u91cf \\vec{x}\\vec{x}\uff0c\u670d\u4ece\u67d0\u8054\u5408\u6982\u7387\u5206\u5e03\u3002\u82e5\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570 y = f(\\vec{x})y = f(\\vec{x})\uff0c\u5219 yy \u7684\u8bef\u5dee\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u516c\u5f0f\u4f20\u9012\uff1a</p>  \\sigma_y^2 = \\sum_{i=1}^n \\left( \\frac{\\partial f}{\\partial x_i} \\right)^2 \\sigma_{x_i}^2 + 2 \\sum_{i=1}^n \\sum_{j=i+1}^n \\frac{\\partial f}{\\partial x_i} \\frac{\\partial f}{\\partial x_j} \\text{Cov}(x_i, x_j)   \\sigma_y^2 = \\sum_{i=1}^n \\left( \\frac{\\partial f}{\\partial x_i} \\right)^2 \\sigma_{x_i}^2 + 2 \\sum_{i=1}^n \\sum_{j=i+1}^n \\frac{\\partial f}{\\partial x_i} \\frac{\\partial f}{\\partial x_j} \\text{Cov}(x_i, x_j)  <p>\u5176\u4e2d\uff1a</p> <ul> <li>\\sigma_y^2\\sigma_y^2 \u662f yy \u7684\u65b9\u5dee\uff1b</li> <li>\\sigma_{x_i}^2\\sigma_{x_i}^2 \u662f x_ix_i \u7684\u65b9\u5dee\uff1b</li> <li>\\text{Cov}(x_i, x_j)\\text{Cov}(x_i, x_j) \u662f x_ix_i \u548c x_jx_j \u7684\u534f\u65b9\u5dee\uff1b</li> <li>\\frac{\\partial f}{\\partial x_i}\\frac{\\partial f}{\\partial x_i} \u662f\u51fd\u6570 ff \u5bf9 x_ix_i \u7684\u504f\u5bfc\u6570\u3002</li> </ul> <p>\u6cf0\u52d2\u5c55\u5f00\u8fd1\u4f3c</p> <p>\u5047\u8bbe ff \u662f\u8f93\u5165\u53d8\u91cf\u7684\u5e73\u6ed1\u51fd\u6570\uff0c\u53ef\u4ee5\u5bf9 ff \u8fdb\u884c\u4e00\u9636\u6cf0\u52d2\u5c55\u5f00\u8fd1\u4f3c\uff1a</p> <p>$$ f \\approx f_0 + \\sum_{i=1}^n \\frac{\\partial f}{\\partial x_i} (x_i - x_{i,0}) $$ </p> <p>\u5176\u4e2d\uff1a</p> <p>f_0f_0 \u662f ff \u5728\u70b9 (x_{1,0}, x_{2,0}, ..., x_{n,0})(x_{1,0}, x_{2,0}, ..., x_{n,0}) \u7684\u503c\uff1b \\frac{\\partial f}{\\partial x_i}\\frac{\\partial f}{\\partial x_i} \u662f ff \u5bf9 x_ix_i \u7684\u504f\u5bfc\u6570\u3002</p> <ol> <li>\u65b9\u5dee\u7684\u5b9a\u4e49</li> </ol> <p>\u65b9\u5dee\u7684\u5b9a\u4e49\u4e3a\uff1a  $$ \\text{Var}(f) = \\mathbb{E}[(f - \\mathbb{E}[f])^2] $$   \u5c06 ff \u7684\u6cf0\u52d2\u5c55\u5f00\u4ee3\u5165\uff0c\u5ffd\u7565\u9ad8\u9636\u9879\uff0c\u5f97\u5230\uff1a </p> <p>$$ f - \\mathbb{E}[f] \\approx \\sum_{i=1}^n \\frac{\\partial f}{\\partial x_i} (x_i - \\mathbb{E}[x_i]) $$</p> <p>\u56e0\u6b64\uff0cff \u7684\u65b9\u5dee\u53ef\u4ee5\u8fd1\u4f3c\u4e3a\uff1a  $$ \\text{Var}(f) \\approx \\text{Var}\\left(\\sum_{i=1}^n \\frac{\\partial f}{\\partial x_i} (x_i - \\mathbb{E}[x_i])\\right) $$</p> <ol> <li>\u65b9\u5dee\u7684\u6027\u8d28</li> </ol> <p>\u6839\u636e\u65b9\u5dee\u7684\u6027\u8d28\uff0c\u5bf9\u4e8e\u968f\u673a\u53d8\u91cf\u7684\u7ebf\u6027\u7ec4\u5408\uff1a  $$ \\text{Var}\\left(\\sum_{i=1}^n a_i X_i\\right) = \\sum_{i=1}^n a_i^2 \\text{Var}(X_i) + 2 \\sum_{i=1}^n \\sum_{j=i+1}^n a_i a_j \\text{Cov}(X_i, X_j) $$   \u5176\u4e2d a_ia_i \u662f\u5e38\u6570\uff0cX_iX_i \u662f\u968f\u673a\u53d8\u91cf\u3002</p> <p>\u5728\u8fd9\u91cc\uff0c\u4ee4 a_i = \\frac{\\partial f}{\\partial x_i}a_i = \\frac{\\partial f}{\\partial x_i}\uff0cX_i = x_i - \\mathbb{E}[x_i]X_i = x_i - \\mathbb{E}[x_i]\uff0c\u4ee3\u5165\u540e\u5f97\u5230\uff1a </p>  \\text{Var}(f) \\approx \\sum_{i=1}^n \\left( \\frac{\\partial f}{\\partial x_i} \\right)^2 \\text{Var}(x_i) + 2 \\sum_{i=1}^n \\sum_{j=i+1}^n \\frac{\\partial f}{\\partial x_i} \\frac{\\partial f}{\\partial x_j} \\text{Cov}(x_i, x_j)   \\text{Var}(f) \\approx \\sum_{i=1}^n \\left( \\frac{\\partial f}{\\partial x_i} \\right)^2 \\text{Var}(x_i) + 2 \\sum_{i=1}^n \\sum_{j=i+1}^n \\frac{\\partial f}{\\partial x_i} \\frac{\\partial f}{\\partial x_j} \\text{Cov}(x_i, x_j)"},{"location":"sci/project/D_polar_exp/stastic/#\u591a\u9879\u5f0f\u5206\u5e03\u7684\u65b9\u5dee\u4e0e\u534f\u65b9\u5dee","title":"\u591a\u9879\u5f0f\u5206\u5e03\u7684\u65b9\u5dee\u4e0e\u534f\u65b9\u5dee","text":"<p>\u5bf9\u4e8e\u591a\u9879\u5f0f\u5206\u5e03\uff0c\u5047\u8bbe\u6709 nn \u4e2a\u7c7b\u522b\uff0c\u6bcf\u4e2a\u7c7b\u522b\u7684\u6982\u7387\u4e3a p_ip_i\uff0c\u5176\u4e2d i = 1, 2, ..., ni = 1, 2, ..., n\uff0c\u4e14 \\sum_{i=1}^n p_i = 1\\sum_{i=1}^n p_i = 1\u3002\u82e5\u8fdb\u884c NN \u6b21\u72ec\u7acb\u8bd5\u9a8c\uff0c\u8bb0\u6bcf\u4e2a\u7c7b\u522b\u7684\u8ba1\u6570\u4e3a X_iX_i\uff0c\u5219\u968f\u673a\u5411\u91cf \\vec{X} = (X_1, X_2, ..., X_n)\\vec{X} = (X_1, X_2, ..., X_n) \u670d\u4ece\u591a\u9879\u5f0f\u5206\u5e03\u3002</p>"},{"location":"sci/project/D_polar_exp/stastic/#\u65b9\u5dee","title":"\u65b9\u5dee","text":"<p>\u591a\u9879\u5f0f\u5206\u5e03\u4e2d\uff0c\u6bcf\u4e2a\u7c7b\u522b\u7684\u8ba1\u6570 X_iX_i \u7684\u65b9\u5dee\u4e3a\uff1a $$ \\text{Var}(X_i) = N p_i (1 - p_i) $$</p>"},{"location":"sci/project/D_polar_exp/stastic/#\u534f\u65b9\u5dee","title":"\u534f\u65b9\u5dee","text":"<p>\u5bf9\u4e8e\u4e0d\u540c\u7c7b\u522b ii \u548c jj\uff0c\u8ba1\u6570 X_iX_i \u548c X_jX_j \u7684\u534f\u65b9\u5dee\u4e3a\uff1a $$ \\text{Cov}(X_i, X_j) = -N p_i p_j \\quad (i \\neq j) $$</p>"},{"location":"sci/project/D_polar_exp/stastic/#\u591a\u9879\u5f0f\u5206\u5e03\u8fd1\u4f3c\u4e3a\u6cca\u677e\u5206\u5e03\u6216\u9ad8\u65af\u5206\u5e03","title":"\u591a\u9879\u5f0f\u5206\u5e03\u8fd1\u4f3c\u4e3a\u6cca\u677e\u5206\u5e03\u6216\u9ad8\u65af\u5206\u5e03","text":""},{"location":"sci/project/D_polar_exp/stastic/#\u6cca\u677e\u5206\u5e03\u8fd1\u4f3c","title":"\u6cca\u677e\u5206\u5e03\u8fd1\u4f3c","text":"<p>\u5f53\u8bd5\u9a8c\u6b21\u6570 NN \u5f88\u5927\u4e14\u6bcf\u4e2a\u7c7b\u522b\u7684\u6982\u7387 p_ip_i \u5f88\u5c0f\uff08\u6ee1\u8db3 N p_iN p_i \u4e3a\u6709\u9650\u503c\uff09\u65f6\uff0c\u591a\u9879\u5f0f\u5206\u5e03\u4e2d\u7684\u6bcf\u4e2a\u7c7b\u522b\u8ba1\u6570 X_iX_i \u53ef\u4ee5\u8fd1\u4f3c\u4e3a\u6cca\u677e\u5206\u5e03\uff0c\u5176\u53c2\u6570\u4e3a \\lambda_i = N p_i\\lambda_i = N p_i\u3002\u5373\uff1a $$ X_i \\sim \\text{Poisson}(\\lambda_i) $$</p>"},{"location":"sci/project/D_polar_exp/stastic/#\u65b9\u5dee\u4e0e\u6807\u51c6\u5dee","title":"\u65b9\u5dee\u4e0e\u6807\u51c6\u5dee","text":"<p>\u5728\u6cca\u677e\u5206\u5e03\u4e2d\uff0c\u6bcf\u4e2a\u7c7b\u522b\u8ba1\u6570 X_iX_i \u7684\u65b9\u5dee\u7b49\u4e8e\u5176\u5747\u503c \\lambda_i\\lambda_i\uff0c\u5373\uff1a $$ \\text{Var}(X_i) = \\lambda_i $$</p> <p>\u6807\u51c6\u5dee\u662f\u65b9\u5dee\u7684\u5e73\u65b9\u6839\uff0c\u56e0\u6b64\uff1a $$ \\text{Std}(X_i) = \\sqrt{\\lambda_i} $$</p> <p>\u5176\u4e2d\uff1a - \\lambda_i = N p_i\\lambda_i = N p_i \u662f\u6cca\u677e\u5206\u5e03\u7684\u53c2\u6570\uff1b - NN \u662f\u8bd5\u9a8c\u6b21\u6570\uff1b - p_ip_i \u662f\u7c7b\u522b ii \u7684\u6982\u7387\u3002</p>"},{"location":"sci/project/D_polar_exp/stastic/#\u9ad8\u65af\u5206\u5e03\u8fd1\u4f3c","title":"\u9ad8\u65af\u5206\u5e03\u8fd1\u4f3c","text":"<p>\u5f53\u8bd5\u9a8c\u6b21\u6570 NN \u5f88\u5927\u4e14\u6bcf\u4e2a\u7c7b\u522b\u7684\u6982\u7387 p_ip_i \u4e0d\u592a\u5c0f\uff08\u6ee1\u8db3 N p_i (1 - p_i)N p_i (1 - p_i) \u8f83\u5927\uff09\u65f6\uff0c\u591a\u9879\u5f0f\u5206\u5e03\u53ef\u4ee5\u8fd1\u4f3c\u4e3a\u9ad8\u65af\u5206\u5e03\u3002\u968f\u673a\u5411\u91cf \\vec{X} = (X_1, X_2, ..., X_n)\\vec{X} = (X_1, X_2, ..., X_n) \u7684\u5206\u5e03\u8fd1\u4f3c\u4e3a\u591a\u5143\u9ad8\u65af\u5206\u5e03\uff0c\u5176\u5747\u503c\u548c\u534f\u65b9\u5dee\u77e9\u9635\u5206\u522b\u4e3a\uff1a</p> <ul> <li> <p>\u5747\u503c\u5411\u91cf\uff1a $$ \\mathbb{E}[\\vec{X}] = (N p_1, N p_2, ..., N p_n) $$</p> </li> <li> <p>\u534f\u65b9\u5dee\u77e9\u9635\uff1a $$ \\text{Cov}(\\vec{X}) =  \\begin{bmatrix} N p_1 (1 - p_1) &amp; -N p_1 p_2 &amp; \\cdots &amp; -N p_1 p_n \\ -N p_2 p_1 &amp; N p_2 (1 - p_2) &amp; \\cdots &amp; -N p_2 p_n \\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\ -N p_n p_1 &amp; -N p_n p_2 &amp; \\cdots &amp; N p_n (1 - p_n) \\end{bmatrix} $$</p> </li> </ul> <p>\u8fd9\u79cd\u9ad8\u65af\u5206\u5e03\u8fd1\u4f3c\u5728\u7c7b\u522b\u6570\u8f83\u591a\u4e14\u6bcf\u4e2a\u7c7b\u522b\u7684\u6982\u7387 p_ip_i \u4e0d\u6781\u7aef\u7684\u60c5\u51b5\u4e0b\u8868\u73b0\u8f83\u597d\u3002</p>"},{"location":"sci/project/D_polar_exp/sw-api/","title":"solidworks api\u63a5\u53e3","text":""},{"location":"sci/project/D_polar_exp/sw-api/#\u65b0\u624b\u6559\u7a0b\u5982\u4f55\u8fd0\u884c\u63a7\u5236-solidworks-\u7684\u7a0b\u5e8f","title":"\u65b0\u624b\u6559\u7a0b\uff1a\u5982\u4f55\u8fd0\u884c\u63a7\u5236 SolidWorks \u7684\u7a0b\u5e8f","text":""},{"location":"sci/project/D_polar_exp/sw-api/#\u524d\u7f6e\u6761\u4ef6","title":"\u524d\u7f6e\u6761\u4ef6","text":"<p>\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u7ecf\u5177\u5907\u4ee5\u4e0b\u6761\u4ef6\uff1a 1. \u5b89\u88c5\u4e86 SolidWorks \u8f6f\u4ef6\u3002 2. \u5b89\u88c5\u4e86\u652f\u6301 VBA\uff08Visual Basic for Applications\uff09\u7684\u73af\u5883\uff0c\u6216\u8005\u51c6\u5907\u597d\u4f7f\u7528\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\uff08\u5982 C# \u6216 Python\uff09\u3002 3. \u57fa\u672c\u7684\u7f16\u7a0b\u77e5\u8bc6\u3002</p>"},{"location":"sci/project/D_polar_exp/sw-api/#\u7b2c\u4e00\u6b65\u542f\u7528-solidworks-api","title":"\u7b2c\u4e00\u6b65\uff1a\u542f\u7528 SolidWorks API","text":"<p>SolidWorks \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684 API\uff08\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff09\uff0c\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u7f16\u7a0b\u65b9\u5f0f\u63a7\u5236 SolidWorks\u3002\u4ee5\u4e0b\u662f\u542f\u7528 API \u7684\u6b65\u9aa4\uff1a 1. \u6253\u5f00 SolidWorks\u3002 2. \u786e\u4fdd\u5728\u5b89\u88c5\u65f6\u9009\u62e9\u4e86 API \u652f\u6301\u6a21\u5757\u3002 3. \u6253\u5f00 SolidWorks \u7684\u5e2e\u52a9\u6587\u6863\uff0c\u67e5\u627e <code>API Help</code>\uff0c\u4ee5\u4fbf\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"sci/project/D_polar_exp/sw-api/#\u7b2c\u4e8c\u6b65\u521b\u5efa\u7b2c\u4e00\u4e2a-vba-\u5b8f","title":"\u7b2c\u4e8c\u6b65\uff1a\u521b\u5efa\u7b2c\u4e00\u4e2a VBA \u5b8f","text":"<ol> <li>\u5728 SolidWorks \u4e2d\uff0c\u70b9\u51fb\u83dc\u5355\u680f\u7684 <code>\u5de5\u5177 &gt; \u5b8f &gt; \u65b0\u5efa</code>\u3002</li> <li>\u4fdd\u5b58\u5b8f\u6587\u4ef6\uff08\u6269\u5c55\u540d\u4e3a <code>.swp</code>\uff09\u3002</li> <li>\u5728\u5b8f\u7f16\u8f91\u5668\u4e2d\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>Dim swApp As Object\nDim swModel As Object\n\nSub main()\n     Set swApp = Application.SldWorks\n     Set swModel = swApp.ActiveDoc\n     If swModel Is Nothing Then\n          MsgBox \"\u8bf7\u5148\u6253\u5f00\u4e00\u4e2a SolidWorks \u6587\u4ef6\uff01\"\n     Else\n          MsgBox \"\u5f53\u524d\u6587\u4ef6\u540d: \" &amp; swModel.GetTitle\n     End If\nEnd Sub\n</code></pre></li> <li>\u4fdd\u5b58\u5e76\u8fd0\u884c\u5b8f\uff0c\u89c2\u5bdf\u5f39\u51fa\u7684\u6d88\u606f\u6846\u3002</li> </ol>"},{"location":"sci/project/D_polar_exp/sw-api/#\u7b2c\u4e09\u6b65\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u63a7\u5236-solidworks","title":"\u7b2c\u4e09\u6b65\uff1a\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u63a7\u5236 SolidWorks","text":"<p>\u5982\u679c\u60a8\u66f4\u719f\u6089\u5176\u4ed6\u8bed\u8a00\uff0c\u53ef\u4ee5\u901a\u8fc7 COM \u63a5\u53e3\u63a7\u5236 SolidWorks\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 Python\uff1a 1. \u5b89\u88c5 <code>pywin32</code> \u5e93\uff1a <pre><code>pip install pywin32\n</code></pre> 2. \u7f16\u5199\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>import win32com.client\n\ndef main():\n     swApp = win32com.client.Dispatch(\"SldWorks.Application\")\n     swApp.Visible = True\n     model = swApp.ActiveDoc\n     if model is None:\n          print(\"\u8bf7\u5148\u6253\u5f00\u4e00\u4e2a SolidWorks \u6587\u4ef6\uff01\")\n     else:\n          print(f\"\u5f53\u524d\u6587\u4ef6\u540d: {model.GetTitle()}\")\n\nif __name__ == \"__main__\":\n     main()\n</code></pre></p> <p>\u5982\u4e0b\u4ee3\u7801\u6240\u5c55\u793a\uff0c\u8fd9\u662f\u4e00\u4e2a\u7ed8\u5236\u957f\u65b9\u4f53\u7684\u547d\u4ee4\u3002</p> <p>\u5728 SolidWorks \u7684 API \u4e2d\uff0c\u6240\u6709\u5c3a\u5bf8\u53c2\u6570\u90fd\u4ee5\u300c\u7c73\uff08m\uff09\u300d\u4e3a\u5355\u4f4d\u3002</p> <pre><code>import win32com.client\nimport os\nimport sys\nimport pythoncom\nfrom win32com.client import pywintypes  # \u6dfb\u52a0\u6b64\u884c\n\ntry:\n    # \u542f\u52a8SolidWorks\u5e94\u7528\n    swApp = win32com.client.Dispatch(\"SldWorks.Application\")\n    swApp.Visible = True\n\n    # \u65b0\u5efa\u4e00\u4e2a\u96f6\u4ef6\u6587\u6863\n    part = swApp.NewDocument(\n        r\"C:\\Users\\Public\\Documents\\SOLIDWORKS\\SOLIDWORKS 2023\\samples\\tutorial\\advdrawings\\part.prtdot\",\n        0, 0.0, 0.0\n    )\n\n    if part is None:\n        print(\"\u521b\u5efa\u96f6\u4ef6\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6a21\u677f\u8def\u5f84\u3002\")\n        sys.exit(1)\n    else:\n        print(\"\u6210\u529f\u521b\u5efa\u65b0\u96f6\u4ef6\uff01\")\n\n    # \u83b7\u53d6\u6fc0\u6d3b\u6587\u6863\n    model = swApp.ActiveDoc\n\n    if model is None:\n        print(\"\u672a\u80fd\u83b7\u53d6\u6fc0\u6d3b\u7684SolidWorks\u6587\u6863\u3002\u8bf7\u786e\u4fdd\u5df2\u6210\u529f\u521b\u5efa\u96f6\u4ef6\u3002\")\n        sys.exit(1)\n\n    # \u9009\u62e9\u524d\u89c6\u57fa\u51c6\u9762\n    plane_name = \"Front Plane\"  # \u82f1\u6587\u7248SolidWorks\n\n    # \u65b0\u5efa\u8349\u56fe\n    model.SketchManager.InsertSketch(True)\n    print(\"\u5df2\u8fdb\u5165\u8349\u56fe\u7f16\u8f91\u6a21\u5f0f\u3002\")\n\n    # \u7ed8\u5236\u77e9\u5f62\n    model.SketchManager.CreateCenterRectangle(0, 0, 0, 0.05, 0.025, 0)\n    print(\"\u5df2\u7ed8\u5236\u77e9\u5f62\u3002\")\n\n    # \u9000\u51fa\u8349\u56fe\n    model.SketchManager.InsertSketch(True)\n    print(\"\u5df2\u9000\u51fa\u8349\u56fe\u3002\")\n\n    # \u9009\u62e9\u8349\u56fe\n    sketch_name = \"Sketch1\"  # \u82f1\u6587\u7248SolidWorks\n    # sketch_name = \"\u8349\u56fe1\"   # \u4e2d\u6587\u7248SolidWorks\n\n    # \u62c9\u4f38\u8349\u56fe\n    featureMgr = model.FeatureManager\n    feature = featureMgr.FeatureExtrusion2(\n        True, False, False, 0, 0, 0.03, 0.0,\n        False, False, False, False,\n        0, 0, False, False, False, False,\n        True, True, True, 0, 0, False\n    )\n\n    if feature is None:\n        print(\"\u521b\u5efa\u62c9\u4f38\u7279\u5f81\u5931\u8d25\u3002\")\n    else:\n        print(\"\u957f\u65b9\u4f53\u5df2\u521b\u5efa\u3002\")\nexcept Exception as e:\n    print(f\"\u53d1\u751f\u9519\u8bef: {type(e).__name__} - {str(e)}\")\n</code></pre> <p>\u5f85\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5e03\u5c14\u503c\u4e00\u76f4\u6709\u4e9b\u95ee\u9898\u3002\u53d1\u73b0\u4e86\u95ee\u9898\u6240\u5728\u3002 \u662f\u7531\u4e8epython\u7684\u6570\u636e\u7c7b\u578b\u548cvisual basic\u7684\u5e76\u4e0d\u4e00\u81f4\u3002\u6bd4\u5982\u8bf4visual basic\u7684\u6574\u6570\u578b\u6570\u636e0\u5728python\u8981\u7528<code>arg1 = win32com.client.VARIANT(16387, 0)</code>\u6765\u8f6c\u5316\u3002</p> <p>\u8be6\u89c1</p> <p>fancy argument</p> <p>note </p> <p>youtube</p> <p>\u5bf9\u4e8e\u6211\u6765\u8bf4\uff0c\u8fd0\u884c<code>C:\\Users\\tbt\\anaconda3\\Lib\\site-packages\\win32com\\client\\makepy.py</code>\u5904\u7684\u4ee3\u7801</p> <p>\u627e\u5230\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u4ee3\u7801\uff0c\u4fbf\u80fd\u57286DD4B124-4733-4DFF-97A8-52F70924D514x0x31x0.py\u6587\u4ef6\u91cc\u627e\u5230\u3002 \u8be5makepy\u751f\u6210\u4e86\u8981\u7528\u5230\u7684\u5b8f\u6587\u4ef6\u7684\u5b9a\u4e49</p> <pre><code>PS C:\\workspace\\D_Polarization\\sw-api&gt;  python -u \"c:\\Users\\tbt\\anaconda3\\pkgs\\pywin32-305-py310h2bbff1b_0\\Lib\\site-packages\\win32com\\client\\makepy.py\"\nGenerating to C:\\Users\\tbt\\Nutstore\\1\\physics\\nuclear\\D_nuclear_experiment\\.conda\\lib\\site-packages\\win32com\\gen_py\\6DD4B124-4733-4DFF-97A8-52F70924D514x0x31x0.py\nBuilding definitions from type library...\nGenerating...\nImporting module\n</code></pre> <pre><code>boolstatus_sketch = model.Extension.SelectByID2()\n</code></pre>"},{"location":"sci/project/D_polar_exp/todo_list/","title":"To do list","text":"<p>-[] \u8bbe\u8ba1\u9776\u5ba4    </p>"},{"location":"sci/project/samurai/RIDF/","title":"RIKEN RIDF \u6587\u4ef6\u6784\u6210\u8be6\u89e3\uff1a\u6570\u636e\u5757 (Block) \u8bf4\u660e","text":"<p>RIKEN\u7684RIDF\uff08RIBF\u6570\u636e\u683c\u5f0f\uff09\u6587\u4ef6\u662f\u4e00\u79cd**\u4e8c\u8fdb\u5236\u6587\u4ef6**\uff0c\u5176\u57fa\u672c\u6784\u6210\u5355\u5143\u662f**\u6570\u636e\u5757\uff08Block\uff09**\u3002\u6574\u4e2a\u6587\u4ef6\u5c31\u662f\u7531\u4e00\u7cfb\u5217\u8fd9\u6837\u7684\u6570\u636e\u5757\u4e32\u884c\u7ec4\u6210\u7684\u3002\u6bcf\u4e2a\u6570\u636e\u5757\u90fd\u63cf\u8ff0\u4e86\u4e00\u90e8\u5206\u7279\u5b9a\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u539f\u59cb\u63a2\u6d4b\u5668\u6570\u636e\u3001\u4e8b\u4ef6\u4fe1\u606f\u3001\u8ba1\u6570\u5668\u6570\u636e\u3001\u6ce8\u91ca\u6216\u72b6\u6001\u4fe1\u606f\u7b49\u3002</p> <p>[block[segment[data point]]]\u7684\u5d4c\u5957\u7ed3\u6784</p> <p>[\u4e8b\u4ef6 [[\u4e8b\u4ef6\u5934], [\u6570\u636e\u6bb51 [[\u6bb5\u59341], [\u6570\u636e\u70b9\u96c6\u54081]]], [\u6570\u636e\u6bb52 [[\u6bb5\u59342], [\u6570\u636e\u70b9\u96c6\u54082]]], ...]]</p>"},{"location":"sci/project/samurai/RIDF/#\u901a\u7528\u6570\u636e\u5757\u7ed3\u6784-general-block-structure","title":"\u901a\u7528\u6570\u636e\u5757\u7ed3\u6784 (General Block Structure)","text":"<p>\u6bcf\u4e2a\u6570\u636e\u5757\u90fd\u4ee5\u4e00\u4e2a\u6216\u591a\u4e2a**\u5934\u90e8\u5b57\uff08Header Word(s)\uff09**\u5f00\u59cb\uff0c\u8fd9\u4e9b\u5934\u90e8\u5b57\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u6570\u636e\u5757\u7684\u5c5e\u6027\u548c\u7c7b\u578b\u3002\u6700\u6838\u5fc3\u7684\u662f\u7b2c\u4e00\u4e2a\u5934\u90e8\u5b57\uff0c\u901a\u5e38\u4e3a32\u4f4d\uff084\u5b57\u8282\uff09\uff0c\u5176\u7ed3\u6784\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u7b2c\u4e00\u4e2a\u5934\u90e8\u5b57 (First Header Word - 32 bits):</p> <ul> <li><code>Revision</code> (2 bits): \u5757\u683c\u5f0f\u7684\u7248\u672c\u53f7\u3002\u901a\u5e38\u4e3a <code>0b00</code> (\u5373\u5341\u8fdb\u52360)\uff0c\u4ee3\u8868\u7248\u672c1\u3002</li> <li><code>Layer</code> (2 bits): \u5b9a\u4e49\u4e86\u8be5\u6570\u636e\u5757\u5728\u5c42\u7ea7\u7ed3\u6784\u4e2d\u7684\u6df1\u5ea6\u3002\u4f8b\u5982\uff0c\u9876\u5c42\u5757\u53ef\u80fd\u662fLayer 0\uff0c\u5b83\u5305\u542b\u7684\u5b50\u5757\u53ef\u80fd\u662fLayer 1\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</li> <li><code>Class ID</code> (6 bits): \u8fd9\u662f\u533a\u5206\u6570\u636e\u5757\u7c7b\u578b\u7684\u5173\u952e\u5b57\u6bb5\u3002\u4e0d\u540c\u7684 <code>Class ID</code> \u4ee3\u8868\u4e86\u4e0d\u540c\u79cd\u7c7b\u7684\u6570\u636e\u5757\uff0c\u4f8b\u5982\u4e8b\u4ef6\u6570\u636e\u3001\u539f\u59cb\u6570\u636e\u6bb5\u3001\u6ce8\u91ca\u7b49\u3002\u4e0b\u9762\u6211\u4eec\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u89c1\u7684 <code>Class ID</code>\u3002</li> <li><code>Block Size</code> (22 bits): \u5b9a\u4e49\u4e86**\u6574\u4e2a\u6570\u636e\u5757\u7684\u603b\u5927\u5c0f**\uff0c\u5355\u4f4d\u662f**\u77ed\u5b57\uff08short words, \u53732\u5b57\u8282\uff09**\u3002\u8fd9\u4e2a\u5927\u5c0f\u5305\u62ec\u4e86\u5934\u90e8\u5b57\u672c\u8eab\u4ee5\u53ca\u540e\u7eed\u7684\u6240\u6709\u6570\u636e\u3002\u901a\u8fc7\u8fd9\u4e2a\u5b57\u6bb5\uff0c\u8bfb\u53d6\u7a0b\u5e8f\u77e5\u9053\u9700\u8981\u8bfb\u53d6\u591a\u5c11\u6570\u636e\u624d\u80fd\u5b8c\u6574\u5730\u83b7\u53d6\u5f53\u524d\u5757\uff0c\u5e76\u627e\u5230\u4e0b\u4e00\u4e2a\u5757\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002</li> </ul> </li> <li> <p>\u5730\u5740\u5b57 (Address Word - 32 bits) (\u901a\u5e38\u7d27\u968f\u7b2c\u4e00\u4e2a\u5934\u90e8\u5b57\u4e4b\u540e):</p> <ul> <li>\u8fd9\u4e2a32\u4f4d\u7684\u5b57\u901a\u5e38\u7528\u4e8e\u6807\u8bc6\u6570\u636e\u7684\u6765\u6e90\u3002\u5bf9\u4e8e\u7531\u524d\u7aef\u7535\u5b50\u5b66\u6a21\u5757\uff08\u5982VME\u6a21\u5757\uff09\u4ea7\u751f\u7684\u6570\u636e\u5757\uff08\u4f8b\u5982\u4e8b\u4ef6\u7247\u6bb5\uff09\uff0c\u8fd9\u4e2a\u5730\u5740\u5b57\u901a\u5e38\u662f**\u4e8b\u4ef6\u7247\u6bb5ID (Event Fragment ID)**\uff0c\u6709\u65f6\u4e5f\u53ef\u80fd\u662f\u4ea7\u751f\u8be5\u6570\u636e\u7684\u524d\u7aef\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\u6216\u5176\u4ed6\u6807\u8bc6\u7b26\u3002</li> </ul> </li> </ol> <p>\u56e0\u6b64\uff0c\u4e00\u4e2a\u5178\u578b\u7684\u6570\u636e\u5757\u901a\u5e38\u81f3\u5c11\u5305\u542b 8 \u5b57\u8282\u7684\u5934\u90e8\u4fe1\u606f\uff08\u7b2c\u4e00\u4e2a\u5934\u90e8\u5b57 + \u5730\u5740\u5b57\uff09\u3002 \u4e4b\u540e\u7684\u5185\u5bb9\u5219\u5b8c\u5168\u7531 <code>Class ID</code> \u6765\u51b3\u5b9a\u3002</p>"},{"location":"sci/project/samurai/RIDF/#class-id-\u51b3\u5b9a\u7684\u6570\u636e\u5757\u5185\u5bb9---\u6bcf\u5757block\u662f\u4ec0\u4e48","title":"<code>Class ID</code> \u51b3\u5b9a\u7684\u6570\u636e\u5757\u5185\u5bb9 - \u201c\u6bcf\u5757block\u662f\u4ec0\u4e48\u201d","text":"<p><code>Class ID</code> \u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u6570\u636e\u5757\u91cc\u88c5\u7684\u662f\u4ec0\u4e48\u6837\u7684\u6570\u636e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5728RIDF\u4e2d\u5e38\u89c1\u4e14\u91cd\u8981\u7684 <code>Class ID</code> \u53ca\u5176\u5bf9\u5e94\u7684\u6570\u636e\u5757\u542b\u4e49\uff1a</p> <ul> <li> <p><code>Class ID = 0</code>: \u4e8b\u4ef6\u7247\u6bb5 (Event Fragment)</p> <ul> <li>\u7528\u9014: \u4ee3\u8868\u4ece\u4e00\u4e2a\u72ec\u7acb\u7684\u6570\u636e\u6e90\uff08\u4f8b\u5982\u4e00\u4e2a\u91c7\u96c6\u5361\u3001\u4e00\u4e2a\u524d\u7aef\u8ba1\u7b97\u673a\u6216\u4e00\u4e2a\u5b50\u7cfb\u7edf\uff09\u53d1\u9001\u8fc7\u6765\u7684\u5173\u4e8e\u4e00\u4e2a\u201c\u4e8b\u4ef6\u201d\u7684\u6570\u636e\u5305\u3002</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\uff08\u5730\u5740\u5b57\u901a\u5e38\u662f\u6b64\u7247\u6bb5\u7684\u552f\u4e00ID\uff09\u3002</li> <li>\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u6b64\u7247\u6bb5\u7279\u6709\u7684\u5934\u90e8\uff0c\u4f8b\u5982\u5305\u542b\u65f6\u95f4\u6233\u6216\u89e6\u53d1\u4fe1\u606f\u3002</li> <li>\u6838\u5fc3\u5185\u5bb9: \u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a**\u6570\u636e\u6bb5\u5757 (Segment Block, <code>Class ID = 4</code>)**\uff0c\u8fd9\u4e9b\u6570\u636e\u6bb5\u5757\u91cc\u88c5\u7740\u6765\u81ea\u4e0d\u540c\u63a2\u6d4b\u5668\u6216\u7535\u5b50\u5b66\u6a21\u5757\u7684\u539f\u59cb\u6570\u636e\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 1</code>: \u4e8b\u4ef6\u6c47\u7f16 (Event Assembly)</p> <ul> <li>\u7528\u9014: \u5c06\u6765\u81ea\u4e0d\u540c\u6570\u636e\u6e90\uff08\u5373\u591a\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u7247\u6bb5\uff0c<code>Class ID = 0</code>\uff09\u7684\u3001\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7269\u7406\u4e8b\u4ef6\u7684\u6570\u636e\u7ec4\u5408\u5728\u4e00\u8d77\u3002\u8fd9\u662f\u4e8b\u4ef6\u91cd\u5efa\uff08event building\uff09\u8fc7\u7a0b\u7684\u4ea7\u7269\u3002</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\u3002</li> <li>\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u5168\u5c40\u4e8b\u4ef6\u5934\u90e8\uff0c\u4f8b\u5982\u5168\u5c40\u4e8b\u4ef6\u53f7\u3001\u5168\u5c40\u65f6\u95f4\u6233\u7b49\u3002</li> <li>\u5305\u542b\u591a\u4e2a\u4e4b\u524d\u63cf\u8ff0\u7684**\u4e8b\u4ef6\u7247\u6bb5\u5757 (Event Fragment)**\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 4</code>: \u6570\u636e\u6bb5 (Segment)</p> <ul> <li>\u7528\u9014: \u8fd9\u662f\u5305\u542b\u5b9e\u9645\u539f\u59cb\u63a2\u6d4b\u5668\u6570\u636e\u7684\u6700\u57fa\u672c\u5355\u4f4d\uff0c\u975e\u5e38\u91cd\u8981\uff01</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\uff08\u5730\u5740\u5b57\u53ef\u80fd\u5728\u6b64\u5c42\u7ea7\u6709\u7279\u5b9a\u542b\u4e49\uff0c\u6216\u7ee7\u627f\u81ea\u7236\u5757\uff09\u3002</li> <li>\u6bb5\u5934\u90e8 (Segment Header): \u8fd9\u662f\u4e00\u4e2a\u6b64\u6570\u636e\u6bb5\u7279\u6709\u7684\u5934\u90e8\uff0c\u901a\u5e38\u5305\u542b\uff1a<ul> <li><code>Segment ID</code> (\u6bb5\u6807\u8bc6\u7b26): \u4e00\u4e2a\u6574\u6570\uff0c\u552f\u4e00\u6807\u8bc6\u4e86\u8fd9\u4e2a\u6570\u636e\u6bb5\u7684\u6765\u6e90\uff08\u4f8b\u5982\uff0c\u54ea\u4e2a\u63a2\u6d4b\u5668\u3001\u54ea\u4e2a\u6a21\u5757\uff09\u3002<code>Segment ID</code> \u672c\u8eab\u5e38\u5e38\u53c8\u88ab\u7ed3\u6784\u5316\u5730\u5b9a\u4e49\uff0c\u5305\u542b\u8bbe\u5907\u3001\u7126\u5e73\u9762\u3001\u63a2\u6d4b\u5668\u7c7b\u578b\u548c\u6a21\u5757\u53f7\u7b49\u4fe1\u606f\u3002</li> <li>\u6570\u636e\u7c7b\u578b\u6307\u793a\u7b26\uff1a\u6307\u660e\u540e\u7eed\u6570\u636e\u7684\u5177\u4f53\u683c\u5f0f\uff08\u4f8b\u5982\uff0c\u662fADC\u6570\u636e\u3001TDC\u6570\u636e\u3001\u6a21\u5f0f\u5b57\u7b49\uff09\u3002</li> <li>\u901a\u9053\u6570\u6216\u6570\u636e\u5b57\u8ba1\u6570\u7b49\u3002</li> </ul> </li> <li>\u6570\u636e\u8d1f\u8f7d (Data Payload): \u5b9e\u9645\u7684\u539f\u59cb\u6570\u636e\u503c\uff08\u4f8b\u5982\uff0cADC\u7684\u8f6c\u6362\u7ed3\u679c\u5217\u8868\u3001TDC\u7684\u65f6\u95f4\u6d4b\u91cf\u503c\u5217\u8868\u7b49\uff09\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 5</code>: \u6ce8\u91ca\u5757 (Comment Block)</p> <ul> <li>\u7528\u9014: \u7528\u4e8e\u5728\u6570\u636e\u6587\u4ef6\u4e2d\u5d4c\u5165\u6587\u672c\u6ce8\u91ca\uff0c\u4f8b\u5982\u8fd0\u884c\u7f16\u53f7\u3001\u5b9e\u9a8c\u6761\u4ef6\u3001\u64cd\u4f5c\u5458\u7b14\u8bb0\u7b49\u3002</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\u3002</li> <li>\u4e00\u4e2a\u6307\u5b9a\u6ce8\u91ca\u957f\u5ea6\u7684\u5b57\u6bb5\u3002</li> <li>\u5b9e\u9645\u7684ASCII\u6216UTF-8\u6587\u672c\u5b57\u7b26\u4e32\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 11, 12, 13</code>: \u8ba1\u6570\u5668\u5757 (Scaler Block)</p> <ul> <li>\u7528\u9014: \u5b58\u50a8\u5404\u79cd\u8ba1\u6570\u5668\u7684\u503c\uff08\u4f8b\u5982\uff0c\u675f\u6d41\u5f3a\u5ea6\u8ba1\u6570\u3001\u89e6\u53d1\u7387\u8ba1\u6570\u7b49\uff09\u3002</li> <li><code>Class ID = 11</code>: \u975e\u6e05\u96f6\u8ba1\u6570\u5668 (24\u4f4d)</li> <li><code>Class ID = 12</code>: \u6e05\u96f6\u8ba1\u6570\u5668 (24\u4f4d)</li> <li><code>Class ID = 13</code>: \u975e\u6e05\u96f6\u8ba1\u6570\u5668 (32\u4f4d)</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\u3002</li> <li>\u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6307\u793a\u8ba1\u6570\u5668\u901a\u9053\u6570\u91cf\u7684\u5b57\u6bb5\u3002</li> <li>\u4e00\u7cfb\u5217\u8ba1\u6570\u5668\u7684\u503c\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 16</code>: \u65f6\u95f4\u6233\u5757 (Timestamp Block)</p> <ul> <li>\u7528\u9014: \u8bb0\u5f55\u65f6\u95f4\u6233\u4fe1\u606f\uff0c\u5e38\u7528\u4e8e\u4e8b\u4ef6\u540c\u6b65\u3001\u6b7b\u65f6\u95f4\u8ba1\u7b97\u7b49\u3002</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\u3002</li> <li>\u4e00\u4e2a\u6216\u591a\u4e2a\u9ad8\u7cbe\u5ea6\u7684\u65f6\u95f4\u6233\u503c\u3002</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 21</code>: \u72b6\u6001\u5757 (Status Block)</p> <ul> <li>\u7528\u9014: \u8bb0\u5f55DAQ\u7cfb\u7edf\u6216\u5b9e\u9a8c\u7684\u72b6\u6001\u4fe1\u606f\u3002</li> <li>\u5178\u578b\u5185\u5bb9:<ul> <li>\u6807\u51c6\u7684\u5934\u90e8\u5b57\u548c\u5730\u5740\u5b57\u3002</li> <li><code>Status ID</code>: \u8fdb\u4e00\u6b65\u7ec6\u5206\u72b6\u6001\u7c7b\u578b\u3002<ul> <li><code>Status ID = 11</code>: \u8fd0\u884c\u5f00\u59cb\u72b6\u6001 (Run start status)\uff0c\u5176\u5185\u5bb9\u901a\u5e38\u662f**XML\u683c\u5f0f\u7684\u6587\u672c**\uff0c\u63cf\u8ff0\u4e86\u8fd0\u884c\u5f00\u59cb\u65f6\u7684\u5404\u79cd\u914d\u7f6e\u548c\u53c2\u6570\u3002</li> <li><code>Status ID = 12</code>: \u8fd0\u884c\u7ed3\u675f\u72b6\u6001 (Run end status)\uff0c\u5185\u5bb9\u4e5f\u662f**XML\u683c\u5f0f\u7684\u6587\u672c**\uff0c\u8bb0\u5f55\u8fd0\u884c\u7ed3\u675f\u65f6\u7684\u4fe1\u606f\u3002</li> </ul> </li> <li>\u72b6\u6001\u6570\u636e\u672c\u8eab\uff08\u4f8b\u5982\uff0cXML\u6587\u672c\u5185\u5bb9\uff09\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"sci/project/samurai/RIDF/#\u5c42\u7ea7\u7ed3\u6784-hierarchical-nature","title":"\u5c42\u7ea7\u7ed3\u6784 (Hierarchical Nature)","text":"<p>\u91cd\u8981\u7684\u662f\u8981\u7406\u89e3RIDF\u7684\u5c42\u7ea7\u7ed3\u6784\u3002\u4e00\u4e2a\u9ad8\u5c42\u7684\u6570\u636e\u5757\uff08\u4f8b\u5982 <code>Class ID = 1</code> \u7684\u4e8b\u4ef6\u6c47\u7f16\u5757\uff09\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u4f4e\u5c42\u7684\u6570\u636e\u5757\uff08\u4f8b\u5982\u591a\u4e2a <code>Class ID = 0</code> \u7684\u4e8b\u4ef6\u7247\u6bb5\u5757\uff09\uff0c\u800c\u4e00\u4e2a\u4e8b\u4ef6\u7247\u6bb5\u5757\u53c8\u53ef\u4ee5\u5305\u542b\u591a\u4e2a <code>Class ID = 4</code> \u7684\u6570\u636e\u6bb5\u5757\u3002<code>Block Size</code> \u5b57\u6bb5\u786e\u4fdd\u4e86\u89e3\u7801\u8f6f\u4ef6\u53ef\u4ee5\u6b63\u786e\u5730\u8df3\u8fc7\u6216\u8fdb\u5165\u8fd9\u4e9b\u5d4c\u5957\u7684\u5757\u3002</p> <p>\u8fd9\u79cd\u7ed3\u6784\u4f7f\u5f97\u6570\u636e\u65e2\u6709\u7ec4\u7ec7\u6027\uff0c\u53c8\u975e\u5e38\u7075\u6d3b\uff0c\u80fd\u591f\u9002\u5e94RIKEN\u5404\u79cd\u590d\u6742\u6838\u7269\u7406\u5b9e\u9a8c\u7684\u9700\u6c42\u3002\u89e3\u7801RIDF\u6587\u4ef6\u7684\u8f6f\u4ef6\uff08\u5982ANAROOT\uff09\u5c31\u662f\u901a\u8fc7\u9010\u4e2a\u89e3\u6790\u8fd9\u4e9b\u6570\u636e\u5757\u7684\u5934\u90e8\u4fe1\u606f\uff0c\u8bc6\u522b\u5176 <code>Class ID</code>\uff0c\u7136\u540e\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u5757\u7684\u5b9a\u4e49\u6765\u63d0\u53d6\u6709\u6548\u6570\u636e\u3002</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5b8f\u6765\u628aridf\u8f6c\u6210\u4eba\u7c7b\u53ef\u8bfb\u7684\u7ed3\u6784\u6765\u4e86\u89e3\u5176\u662f\u4ec0\u4e48\u3002 <pre><code>#include &lt;fstream&gt; // Add file stream header\n#include &lt;iostream&gt; // Add to use std::cerr\n\nvoid convertRIDFtoReadable(const char* ridfFile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0013.ridf\") {\n    // Load necessary libraries\n    gSystem-&gt;Load(\"libanacore.so\");\n\n    // Open RIDF file\n    TArtEventStore *estore = new TArtEventStore();\n    if (!estore-&gt;Open(ridfFile)) {\n        std::cerr &lt;&lt; \"Error: Failed to open RIDF file: \" &lt;&lt; ridfFile &lt;&lt; std::endl;\n        return;\n    }\n\n    TArtRawEventObject *rawevent = estore-&gt;GetRawEventObject();\n\n    // Open output file\n    std::ofstream outFile(\"readable.txt\");\n    if (!outFile.is_open()) {\n        std::cerr &lt;&lt; \"Error: Failed to open output file: readable.txt\" &lt;&lt; std::endl;\n        return;\n    }\n\n    int neve = 0; // Event counter\n    while (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 10) { // Only process the first 10 blocks\n        outFile &lt;&lt; \"==================== Event \" &lt;&lt; neve + 1 &lt;&lt; \" ====================\" &lt;&lt; std::endl;\n\n        // Iterate over all segments in the current event\n        for (int i = 0; i &lt; rawevent-&gt;GetNumSeg(); i++) {\n            TArtRawSegmentObject *seg = rawevent-&gt;GetSegment(i);\n            outFile &lt;&lt; \"Segment \" &lt;&lt; i + 1 &lt;&lt; \":\" &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Device: \" &lt;&lt; seg-&gt;GetDevice() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  FP: \" &lt;&lt; seg-&gt;GetFP() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Detector: \" &lt;&lt; seg-&gt;GetDetector() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Module: \" &lt;&lt; seg-&gt;GetModule() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  NumData: \" &lt;&lt; seg-&gt;GetNumData() &lt;&lt; std::endl;\n\n            // Iterate over all data points in the segment\n            for (int j = 0; j &lt; seg-&gt;GetNumData(); j++) {\n                TArtRawDataObject *d = seg-&gt;GetData(j);\n                int geo = d-&gt;GetGeo();\n                int ch = d-&gt;GetCh();\n                int val = d-&gt;GetVal();\n                int cat = d-&gt;GetCategoryID();\n                int det = d-&gt;GetDetectorID();\n                int id = d-&gt;GetDatatypeID();\n\n                outFile &lt;&lt; \"    Data \" &lt;&lt; j + 1 &lt;&lt; \":\" &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Geo: \" &lt;&lt; geo &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Channel: \" &lt;&lt; ch &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Value: \" &lt;&lt; val &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Category ID: \" &lt;&lt; cat &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Detector ID: \" &lt;&lt; det &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Datatype ID: \" &lt;&lt; id &lt;&lt; std::endl;\n            }\n        }\n\n        estore-&gt;ClearData(); // Clear current event data\n        neve++;\n    }\n\n    outFile &lt;&lt; \"Conversion completed. Processed \" &lt;&lt; neve &lt;&lt; \" blocks.\" &lt;&lt; std::endl;\n\n    // Close output file\n    outFile.close();\n\n    std::cout &lt;&lt; \"Conversion completed. Results saved to readable.txt\" &lt;&lt; std::endl;\n}\n</code></pre></p> <p>source:</p> <p>https://www-nh.scphys.kyoto-u.ac.jp/~yano/ws/en/docs/documents/daq/dataformat/ridf/</p> <p>https://ribf.riken.jp/RIBFDAQ/index.php?plugin=attach&amp;refer=DAQ%2FManual%2FDataformat&amp;openfile=dataformat_101112e.pdf</p>"},{"location":"sci/project/samurai/anaroot/","title":"**ANAROOT \u7efc\u5408\u5206\u6790\u6846\u67b6\uff1a","text":"<p>\u8be5\u6587\u53ef\u80fd\u6709\u8bf8\u591a\u9519\u8bef\uff0c\u8bf7\u770banaroot2version.zh</p> <p>https://tianbaiting.github.io/sci/project/samurai/anaroot2version/</p> <p>https://tianbaiting.github.io/en/sci/project/samurai/anaroot2version/</p> <p>\u867d\u7136\u8fd9\u4e9b\u5f88\u53ef\u80fd\u4e5f\u6709\u3002</p>"},{"location":"sci/project/samurai/anaroot/#\u524d\u8a00","title":"\u524d\u8a00","text":"<p>ANAROOT \u662f\u4e00\u4e2a\u57fa\u4e8e ROOT \u5f00\u53d1\u7684\u7efc\u5408\u6027\u6570\u636e\u5206\u6790\u6846\u67b6\uff0c\u4e3b\u8981\u670d\u52a1\u4e8e\u65e5\u672c\u7406\u5316\u5b66\u7814\u7a76\u6240\u4ec1\u79d1\u52a0\u901f\u5668\u79d1\u5b66\u7814\u7a76\u4e2d\u5fc3 (RIKEN Nishina Center) \u7684\u653e\u5c04\u6027\u540c\u4f4d\u7d20\u675f\u5de5\u5382 (Radioactive Isotope Beam Factory, RIBF) \u7684\u5404\u9879\u6838\u7269\u7406\u5b9e\u9a8c\u3002\u672c\u62a5\u544a\u65e8\u5728\u4e3a ANAROOT \u7528\u6237\u63d0\u4f9b\u4e00\u4efd\u8be6\u5c3d\u7684\u4e2d\u6587\u6587\u6863\uff0c\u4ece\u8f6f\u4ef6\u7684\u57fa\u672c\u6982\u5ff5\u3001\u5b89\u88c5\u914d\u7f6e\uff0c\u5230\u6838\u5fc3\u529f\u80fd\u7684\u4f7f\u7528\uff0c\u6700\u7ec8\u5e2e\u52a9\u7528\u6237\u8fbe\u5230\u80fd\u591f\u719f\u7ec3\u8fd0\u7528 ANAROOT \u8fdb\u884c\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u7684\u6c34\u5e73\u3002\u62a5\u544a\u5c06\u7279\u522b\u8be6\u7ec6\u5730\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 ANAROOT \u5206\u6790 BigRIPS \u4e2d\u7684\u5e73\u884c\u677f\u96ea\u5d29\u8ba1\u6570\u5668 (Parallel Plate Avalanche Counter, PPAC)\uff08\u901a\u5e38\u79f0\u4e3a PDC\uff09\u4ee5\u53ca SAMURAI \u8c31\u4eea\u4e2d\u7684 NEBULA (NEutron Detectors for Breakup of Unstable Nuclei with Large Acceptance) \u4e2d\u5b50\u63a2\u6d4b\u5668\u9635\u5217\u7684\u6570\u636e\u3002 \u7b2c\u4e00\u7ae0\uff1aANAROOT \u7b80\u4ecb \u672c\u7ae0\u5c06\u5bf9 ANAROOT \u8f6f\u4ef6\u8fdb\u884c\u6982\u8ff0\uff0c\u5305\u62ec\u5176\u5b9a\u4e49\u3001\u8bbe\u8ba1\u76ee\u7684\u3001\u6838\u5fc3\u529f\u80fd\u3001\u8f6f\u4ef6\u67b6\u6784\u53ca\u5176\u4e0e ROOT \u6846\u67b6\u7684\u5173\u7cfb\uff0c\u540c\u65f6\u63a2\u8ba8\u5176\u5f00\u53d1\u80cc\u666f\u548c\u4e3b\u8981\u5e94\u7528\u573a\u666f\u3002 1.1 ANAROOT \u662f\u4ec0\u4e48 ANAROOT \u662f\u4e00\u4e2a\u4e13\u4e3a\u6838\u7269\u7406\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u8bbe\u8ba1\u7684\u8f6f\u4ef6\u5305\uff0c\u7531 RIBF \u6570\u636e\u91c7\u96c6\u7ec4 (RIBFDAQ group) \u5f00\u53d1\u548c\u7ef4\u62a4 1\u3002\u5b83\u7684\u5e95\u5c42\u5b8c\u5168\u6784\u5efa\u4e8e CERN \u5f00\u53d1\u7684 ROOT \u6570\u636e\u5206\u6790\u6846\u67b6\u4e4b\u4e0a\uff0c\u65e8\u5728\u4e3a RIBF \u7684\u5b9e\u9a8c\u6570\u636e\u5904\u7406\u63d0\u4f9b\u4e00\u5957\u6807\u51c6\u5316\u3001\u9ad8\u6548\u7387\u7684\u5de5\u5177\u96c6 \u3002ANAROOT \u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5904\u7406\u7531 RIBF \u6570\u636e\u91c7\u96c6\u7cfb\u7edf (Babirl)\u4ea7\u751f\u7684 RIDF (RIKEN Data Format) \u539f\u59cb\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u4ece\u6570\u636e\u89e3\u7801\u3001\u523b\u5ea6\u3001\u91cd\u5efa\u5230\u6700\u7ec8\u7269\u7406\u7ed3\u679c\u5206\u6790\u7684\u5168\u5957\u89e3\u51b3\u65b9\u6848\u3002 1.2 \u6838\u5fc3\u529f\u80fd ANAROOT \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5f3a\u5927\u7684\u529f\u80fd\u4ee5\u6ee1\u8db3\u590d\u6742\u6838\u7269\u7406\u5b9e\u9a8c\u7684\u9700\u6c42 1\uff1a</p> <ul> <li>\u6570\u636e\u89e3\u7801 (Data Decoding): \u96c6\u6210\u4e86\u591a\u79cd\u786c\u4ef6\u6a21\u5757\u7684\u89e3\u7801\u5668\uff0c\u4f8b\u5982 MDPP16\u3001A3400\u3001VME-Easyroc\u3001MQDC32/MTDC32 \u7b49\uff0c\u80fd\u591f\u76f4\u63a5\u5904\u7406 RIDF \u683c\u5f0f\u7684\u539f\u59cb\u6570\u636e\u3002  </li> <li>\u6570\u636e\u91cd\u5efa (Reconstruction): \u5305\u542b\u4e86\u9488\u5bf9\u4e0d\u540c\u63a2\u6d4b\u5668\u7684\u91cd\u5efa\u7b97\u6cd5\uff0c\u5982 NeuLAND\u3001BigRIPS \u7684\u5851\u6599\u95ea\u70c1\u4f53 (Plastic) \u548c PPAC\u3001SAMURAI \u5f84\u8ff9\u63a2\u6d4b\u5668\u4ee5\u53ca BigRIPS-Ge \u5206\u6790\u7b49\u3002  </li> <li>\u6570\u636e\u523b\u5ea6 (Calibration): \u63d0\u4f9b\u4e86\u9488\u5bf9\u7279\u5b9a\u63a2\u6d4b\u5668\uff08\u5982 TKE\u3001SAMURAI-TED\u3001SAMURAI-ICF\uff09\u7684\u523b\u5ea6\u7a0b\u5e8f\u3002  </li> <li>\u6570\u636e\u5904\u7406 (Data Handling): \u652f\u6301\u4ece RIDF \u6570\u636e\u5934\u4e2d\u83b7\u53d6\u8fd0\u884c\u4fe1\u606f (RunInfo)\uff0c\u4f7f\u7528 Plastic \u7c7b\u5904\u7406 RF \u4fe1\u53f7\uff0c\u7ba1\u7406 FADC \u7684\u539f\u59cb\u6570\u636e\u5bb9\u5668\u7b49\u3002  </li> <li>\u5728\u7ebf\u76d1\u63a7 (Online Monitoring): \u5b9e\u73b0\u4e86 AnaLoop \u4f8b\u7a0b\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9e\u9a8c\u8fc7\u7a0b\u4e2d\u7684\u5728\u7ebf\u6570\u636e\u76d1\u63a7\u3002  </li> <li>\u4e8b\u4ef6\u5904\u7406 (Event Processing): \u5728 push() \u51fd\u6570\u4e2d\u5177\u5907\u4e8b\u4ef6\u8df3\u8fc7\u529f\u80fd\u3002</li> </ul> <p>1.3 \u8f6f\u4ef6\u67b6\u6784\u4e0e ROOT \u6846\u67b6\u7684\u5173\u7cfb ANAROOT \u7684\u8f6f\u4ef6\u67b6\u6784\u6df1\u5ea6\u4f9d\u8d56\u4e8e ROOT \u6846\u67b6 \u3002ROOT \u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u4f9d\u8d56\u5e93\uff0c\u66f4\u662f ANAROOT \u529f\u80fd\u5b9e\u73b0\u7684\u57fa\u7840\u3002</p> <ul> <li>\u57fa\u7840\u5e93\u4f9d\u8d56: ANAROOT \u7684\u7f16\u8bd1\u548c\u8fd0\u884c\u90fd\u79bb\u4e0d\u5f00 ROOT \u7684\u6838\u5fc3\u5e93\u548c\u7c7b\u3002  </li> <li>\u73af\u5883\u96c6\u6210: ANAROOT \u4f1a\u751f\u6210 ROOT \u767b\u5f55\u5b8f (rootlogon.C) \u548c\u914d\u7f6e\u6587\u4ef6 (.rootrc)\uff0c\u4ee5\u4fbf\u5728 ROOT \u73af\u5883\u4e2d\u6b63\u786e\u52a0\u8f7d\u548c\u4f7f\u7528\u5176\u81ea\u8eab\u7684\u5e93\u548c\u7c7b\u3002  </li> <li>\u7248\u672c\u517c\u5bb9\u6027: ANAROOT \u7684\u5f00\u53d1\u7248\u672c\u901a\u5e38\u4e0e\u7279\u5b9a\u7684 ROOT \u7248\u672c\u76f8\u5bf9\u5e94\uff08\u4f8b\u5982\uff0c\u67d0\u4e9b\u7248\u672c\u57fa\u4e8e ROOT 6.28.04 \u6216 ROOT 5.34.21 \u5f00\u53d1\uff09\u3002\u56e0\u6b64\uff0c\u7528\u6237\u5728\u5b89\u88c5\u548c\u4f7f\u7528 ANAROOT \u65f6\uff0c\u5fc5\u987b\u786e\u4fdd ROOT \u73af\u5883\u7684\u517c\u5bb9\u6027\u3002</li> </ul> <p>\u8fd9\u79cd\u7d27\u5bc6\u7684\u96c6\u6210\u5173\u7cfb\u610f\u5473\u7740\u7528\u6237\u4e0d\u4ec5\u9700\u8981\u638c\u63e1 ANAROOT \u672c\u8eab\uff0c\u8fd8\u9700\u8981\u5bf9 ROOT \u7684\u57fa\u672c\u64cd\u4f5c\u548c\u7f16\u7a0b\u6709\u4e00\u5b9a\u4e86\u89e3\u3002 1.4 \u5f00\u53d1\u80cc\u666f\u4e0e\u4e3b\u8981\u5e94\u7528\u573a\u666f ANAROOT \u7531 RIBFDAQ \u5c0f\u7ec4\u5f00\u53d1\uff0c\u8fd9\u76f4\u63a5\u8868\u660e\u5176\u4e3b\u8981\u670d\u52a1\u4e8e RIKEN \u7684 RIBF \u8bbe\u65bd \u3002\u5176\u66f4\u65b0\u65e5\u5fd7\u9891\u7e41\u63d0\u53ca\u5728 RIBF \u7684\u5404\u79cd\u5b9e\u9a8c\u548c\u8fd0\u884c\u4e2d\u7684\u5f00\u53d1\u4e0e\u5e94\u7528\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>SAMURAI 2024 \u5e74 4 \u6708\u5b9e\u9a8c  </li> <li>2017 \u5e74\u6625\u5b63 S009 \u5b9e\u9a8c  </li> <li>2016 \u5e74\u79cb\u5b63\u5b9e\u9a8c  </li> <li>SAMURAI s021 \u5b9e\u9a8c  </li> <li>2015 \u5e74\u5b17\u53d8\u5b9e\u9a8c  </li> <li>2012 \u5e74 EURICA \u5b9e\u9a8c  </li> <li>SAMURAI \u548c EURICA \u8c03\u8bd5\u8fd0\u884c</li> </ul> <p>\u8fd9\u4e9b\u5e94\u7528\u5b9e\u4f8b\u51f8\u663e\u4e86 ANAROOT \u5728 RIBF \u6838\u7269\u7406\u5b9e\u9a8c\u6570\u636e\u91c7\u96c6\u4e0e\u5206\u6790\u6d41\u7a0b\u4e2d\u7684\u6838\u5fc3\u5730\u4f4d\uff0c\u7279\u522b\u662f\u5728\u6d89\u53ca BigRIPS \u6b21\u7ea7\u675f\u6d41\u5206\u79bb\u5668\u3001SAMURAI \u5927\u578b\u5f3a\u5b50\u8c31\u4eea\u3001NeuLAND \u4e2d\u5b50\u5899\u3001DALI2 gamma \u5c04\u7ebf\u9635\u5217\u7b49\u5927\u578b\u63a2\u6d4b\u88c5\u7f6e\u7684\u5b9e\u9a8c\u4e2d \u3002ANAROOT \u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u901a\u7528\u7684\u5206\u6790\u5de5\u5177\uff0c\u66f4\u662f\u9488\u5bf9 RIBF \u7279\u5b9a\u5b9e\u9a8c\u9700\u6c42\uff08\u5c24\u5176\u662f\u5176\u72ec\u7279\u7684 RIDF \u6570\u636e\u683c\u5f0f\u548c\u590d\u6742\u7684\u63a2\u6d4b\u5668\u7cfb\u7edf\uff09\u6df1\u5ea6\u5b9a\u5236\u548c\u4f18\u5316\u7684\u4e13\u4e1a\u8f6f\u4ef6\u3002\u8fd9\u79cd\u6df1\u5ea6\u96c6\u6210\u4f7f\u5f97 ANAROOT \u6210\u4e3a RIBF \u7528\u6237\u8fdb\u884c\u6570\u636e\u5206\u6790\u7684\u9996\u9009\u6846\u67b6\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u5904\u7406\u7684\u4e00\u81f4\u6027\u548c\u9ad8\u6548\u6027\u3002 \u7b2c\u4e8c\u7ae0\uff1aANAROOT \u7684\u5b89\u88c5\u4e0e\u73af\u5883\u914d\u7f6e \u672c\u7ae0\u8be6\u7ec6\u4ecb\u7ecd ANAROOT \u7684\u5b89\u88c5\u8fc7\u7a0b\u548c\u73af\u5883\u914d\u7f6e\uff0c\u5305\u62ec\u7cfb\u7edf\u9700\u6c42\u3001\u4f9d\u8d56\u9879\u3001\u4e0d\u540c\u7248\u672c\u7684\u5b89\u88c5\u6b65\u9aa4\u4ee5\u53ca\u5e38\u89c1\u95ee\u9898\u7684\u89e3\u51b3\u3002 2.1 \u7cfb\u7edf\u9700\u6c42\u4e0e\u4f9d\u8d56 \u6210\u529f\u5b89\u88c5\u548c\u8fd0\u884c ANAROOT \u9700\u8981\u6ee1\u8db3\u7279\u5b9a\u7684\u8f6f\u786c\u4ef6\u73af\u5883\uff1a</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf: \u4e3b\u8981\u5728 Linux \u73af\u5883\u4e0b\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002\u867d\u7136\u5728 macOS \u4e0a\u4e5f\u6709\u6210\u529f\u6848\u4f8b\uff0c\u4f46 Linux \u662f\u9996\u9009\u5e73\u53f0 \u3002  </li> <li>ROOT: ANAROOT \u7684\u6838\u5fc3\u4f9d\u8d56\uff0c\u5fc5\u987b\u9884\u5148\u5b89\u88c5\u5e76\u6b63\u786e\u914d\u7f6e\u3002\u4e0d\u540c ANAROOT \u7248\u672c\u53ef\u80fd\u9700\u8981\u7279\u5b9a\u8303\u56f4\u7684 ROOT \u7248\u672c \u3002  </li> <li>\u7f16\u8bd1\u5de5\u5177: \u6807\u51c6\u7684 C++ \u7f16\u8bd1\u5668 (\u5982 GCC)\u3001make \u5de5\u5177\u3002  </li> <li>\u7279\u5b9a\u7248\u672c\u4f9d\u8d56 (v4.5 \u53ca\u66f4\u65e9\u7248\u672c) : </li> <li>libxml2-devel: XML \u89e3\u6790\u5e93\uff0c\u7528\u4e8e\u5904\u7406\u53c2\u6570\u6587\u4ef6\u3002  </li> <li>automake, autoconf, libtool: GNU \u6784\u5efa\u7cfb\u7edf\u5de5\u5177\u3002  </li> <li>libedit: \u547d\u4ee4\u884c\u7f16\u8f91\u5e93\u3002  </li> <li>\u53ef\u9009\u4f9d\u8d56: </li> <li>minos-fem library: \u82e5\u9700\u8981\u4f7f\u7528 MINOS \u76f8\u5173\u90e8\u5206\uff0c\u5219\u9700\u5b89\u88c5\u6b64\u5e93 (minos-1.1.1-minimal.tar.gz) \u3002  </li> <li>Qt: \u82e5\u8ba1\u5212\u5c06 ANAROOT \u4e0e Go4 \u56fe\u5f62\u5316\u5206\u6790\u6846\u67b6\u96c6\u6210\uff0c\u5219\u9700\u8981\u5b89\u88c5 Qt \u5e93 4\u3002</li> </ul> <p>2.2 \u5b89\u88c5 ROOT \u5728\u5b89\u88c5 ANAROOT \u4e4b\u524d\uff0c\u5fc5\u987b\u9996\u5148\u5b89\u88c5 ROOT\u3002</p> <ol> <li>\u8bbf\u95ee ROOT \u5b98\u65b9\u7f51\u7ad9 (http://root.cern.ch) \u4e0b\u8f7d\u5408\u9002\u7684 ROOT \u7248\u672c\u6e90\u4ee3\u7801\u6216\u9884\u7f16\u8bd1\u5305 \u3002  </li> <li>\u6309\u7167\u5b98\u65b9\u6587\u6863\u6307\u5f15\u5b8c\u6210 ROOT \u7684\u7f16\u8bd1\u548c\u5b89\u88c5\u3002  </li> <li>\u8bbe\u7f6e ROOT \u73af\u5883\u53d8\u91cf\u3002\u901a\u5e38\uff0c\u8fd9\u901a\u8fc7\u5728 shell \u4e2d\u6267\u884c ROOT \u5b89\u88c5\u76ee\u5f55\u4e0b bin/thisroot.sh (\u6216 .csh, .fish \u7b49\uff0c\u53d6\u51b3\u4e8e\u6240\u7528 shell) \u811a\u672c\u6765\u5b8c\u6210 \u3002\u4f8b\u5982\uff1a    Bash    source $HOME/root/bin/thisroot.sh    \u5176\u4e2d $HOME/root \u662f ROOT \u7684\u5b89\u88c5\u8def\u5f84\u3002\u5efa\u8bae\u5c06\u6b64\u547d\u4ee4\u6dfb\u52a0\u5230 shell \u7684\u914d\u7f6e\u6587\u4ef6 (\u5982 .bashrc, .zshrc) \u4e2d\uff0c\u4ee5\u4fbf\u81ea\u52a8\u52a0\u8f7d\u3002</li> </ol> <p>2.3 \u5b89\u88c5 ANAROOT ANAROOT \u7684\u5b89\u88c5\u65b9\u6cd5\u56e0\u7248\u672c\u800c\u5f02\u3002 2.3.1 \u83b7\u53d6\u6e90\u4ee3\u7801 ANAROOT \u7684\u6e90\u4ee3\u7801\u901a\u5e38\u4ee5 .tgz \u538b\u7f29\u5305\u7684\u5f62\u5f0f\u53d1\u5e03\u3002\u53ef\u4ee5\u4ece RIBFDAQ \u76f8\u5173\u7f51\u7ad9\u6216\u901a\u8fc7\u5185\u90e8\u6e20\u9053\u83b7\u53d6\uff0c\u4f8b\u5982 anaroot_v4.6.1.tgz \u3002 2.3.2 CMake \u5b89\u88c5\u65b9\u6cd5 (v4.6.1 \u53ca\u4ee5\u540e\u7248\u672c) \u8f83\u65b0\u7248\u672c\u7684 ANAROOT\uff08\u5982 v4.6.1 \u8d77\uff09\u91c7\u7528 CMake \u4f5c\u4e3a\u6784\u5efa\u7cfb\u7edf \u3002</p> <ol> <li> <p>\u89e3\u538b\u6e90\u4ee3\u7801\u5305\uff1a    Bash    tar zxvf anaroot_vX.Y.Z.tgz    cd anaroot</p> </li> <li> <p>\u521b\u5efa\u6784\u5efa\u548c\u5b89\u88c5\u76ee\u5f55\uff1a    Bash    mkdir build install    cd build</p> </li> <li> <p>\u4f7f\u7528 CMake \u914d\u7f6e\u7f16\u8bd1\u9009\u9879\u3002-DCMAKE_INSTALL_PREFIX \u6307\u5b9a\u5b89\u88c5\u8def\u5f84\uff1a    Bash    cmake -DCMAKE_INSTALL_PREFIX=$PWD/../install..</p> </li> <li> <p>\u7f16\u8bd1\u6e90\u4ee3\u7801\uff1a    Bash    make -jN  # N \u4e3a\u5e76\u884c\u7f16\u8bd1\u7684\u7ebf\u7a0b\u6570\uff0c\u4f8b\u5982 make -j8</p> </li> <li> <p>\u5b89\u88c5\u5230\u6307\u5b9a\u76ee\u5f55\uff1a    Bash    make install    ANAROOT \u7684\u5e93\u6587\u4ef6\u548c\u5934\u6587\u4ef6\u7b49\u5c06\u88ab\u5b89\u88c5\u5230 anaroot/install \u76ee\u5f55\u4e0b\u3002</p> </li> </ol> <p>2.3.3 Autotools \u5b89\u88c5\u65b9\u6cd5 (v4.5 \u53ca\u66f4\u65e9\u7248\u672c) \u65e9\u671f\u7248\u672c\u7684 ANAROOT\uff08\u76f4\u81f3 v4.5.x\uff09\u4f7f\u7528 Autotools (automake, autoconf, libtool) \u6784\u5efa\u7cfb\u7edf \u3002</p> <ol> <li> <p>\u5b89\u88c5\u7b2c\u4e09\u65b9\u4f9d\u8d56\u8f6f\u4ef6: \u786e\u4fdd\u5df2\u5b89\u88c5 libxml2-devel, automake, autoconf, libtool, libedit\u3002\u5728\u57fa\u4e8e RPM \u7684\u7cfb\u7edf (\u5982 CentOS, Fedora) \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 yum \u6216 dnf \u5b89\u88c5\uff1a    Bash    sudo yum install libxml2-devel automake autoconf libtool libedit-devel    \u5728\u57fa\u4e8e Debian \u7684\u7cfb\u7edf (\u5982 Ubuntu) \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 apt-get\uff1a    Bash    sudo apt-get install libxml2-dev automake autoconf libtool libedit-dev</p> </li> <li> <p>(\u53ef\u9009) \u5b89\u88c5 MINOS \u5e93: \u5982\u679c\u9700\u8981 MINOS \u529f\u80fd\uff0c\u4e0b\u8f7d minos-1.1.1-minimal.tar.gz \u5e76\u7f16\u8bd1\u5b89\u88c5\uff1a    Bash    tar zxvf minos-1.1.1-minimal.tar.gz    cd minos-1.1.1-minimal    make all    # \u5047\u8bbe\u5b89\u88c5\u5230\u67d0\u4e2a\u81ea\u5b9a\u4e49\u8def\u5f84 [minos_install_path]    # \u9700\u8981\u8bbe\u7f6e PKG_CONFIG_PATH \u4ee5\u4fbf ANAROOT \u914d\u7f6e\u65f6\u80fd\u627e\u5230\u5b83    export PKG_CONFIG_PATH=[minos_install_path]/install/lib/pkgconfig:$PKG_CONFIG_PATH    cd..</p> </li> <li> <p>\u5b89\u88c5 ANAROOT: \u89e3\u538b\u6e90\u4ee3\u7801\u5305\uff1a    Bash    tar zxvf anaroot_v4.5.X.tgz    cd anaroot    \u8fd0\u884c\u914d\u7f6e\u811a\u672c\u3002--prefix \u6307\u5b9a\u5b89\u88c5\u8def\u5f84\u3002\u5982\u679c\u542f\u7528\u4e86 MINOS\uff0c\u6dfb\u52a0 --enable-minos=yes\uff1a</p> </li> </ol> <p>./autogen.sh --prefix=$PWD [--enable-minos=yes] \u7f16\u8bd1\u5e76\u5b89\u88c5\uff1abash make -jN install # N \u4e3a\u5e76\u884c\u7f16\u8bd1\u7684\u7ebf\u7a0b\u6570 ``` 2.4 \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e \u6b63\u786e\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u662f\u6210\u529f\u4f7f\u7528 ANAROOT \u7684\u5173\u952e\u3002</p> <ul> <li>ROOTSYS: ROOT \u7684\u5b89\u88c5\u8def\u5f84\uff0c\u7531 thisroot.sh \u8bbe\u7f6e\u3002  </li> <li>LD_LIBRARY_PATH (\u6216 DYLD_LIBRARY_PATH for macOS): \u9700\u8981\u5305\u542b ANAROOT \u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u3002  </li> <li>\u5bf9\u4e8e CMake \u5b89\u88c5 (v4.6.1+): anaroot/install/lib  </li> <li>\u5bf9\u4e8e Autotools \u5b89\u88c5 (v4.5-): anaroot/lib (\u5982\u679c --prefix \u6307\u5411 anaroot \u76ee\u5f55\u672c\u8eab) \u6216 --prefix \u6307\u5b9a\u7684\u5b89\u88c5\u8def\u5f84\u4e0b\u7684 lib \u76ee\u5f55\u3002 \u4f8b\u5982 (Autotools, \u5b89\u88c5\u5230 anaroot \u76ee\u5f55\u5185)\uff1a</li> </ul> <p>Bash export LD_LIBRARY_PATH=LD\\_LIBRARY\\_PATH:PWD/lib</p> <ul> <li>PKG_CONFIG_PATH: \u5982\u679c\u5b89\u88c5\u4e86\u53ef\u9009\u7684 minos-fem \u5e93\u5230\u975e\u6807\u51c6\u4f4d\u7f6e\uff0c\u9700\u8981\u5305\u542b\u5176 pkgconfig \u76ee\u5f55\u7684\u8def\u5f84\uff0c\u4ee5\u4fbf ANAROOT \u7684 ./autogen.sh \u80fd\u591f\u627e\u5230\u5b83 \u3002  </li> <li>anaroot/setup.sh \u811a\u672c: \u6210\u529f\u5b89\u88c5 ANAROOT \u540e\uff0c\u901a\u5e38\u4f1a\u5728\u5176\u9876\u5c42\u76ee\u5f55\u751f\u6210\u4e00\u4e2a setup.sh (\u6216\u7c7b\u4f3c\u540d\u79f0\u7684) \u811a\u672c \u3002\u5728\u65b0\u7684\u7ec8\u7aef\u4f1a\u8bdd\u4e2d\uff0c\u901a\u8fc7 source \u547d\u4ee4\u6267\u884c\u6b64\u811a\u672c\uff0c\u53ef\u4ee5\u4fbf\u6377\u5730\u8bbe\u7f6e\u597d\u6240\u6709\u5fc5\u8981\u7684 ANAROOT \u76f8\u5173\u73af\u5883\u53d8\u91cf\uff1a   Bash   source /path/to/anaroot/setup.sh   \u5efa\u8bae\u5c06\u6b64\u884c\u4e5f\u6dfb\u52a0\u5230 shell \u914d\u7f6e\u6587\u4ef6\u4e2d\u3002  </li> <li>ROOT \u767b\u5f55\u5b8f: ANAROOT \u901a\u5e38\u4f1a\u63d0\u4f9b rootlogon.C \u548c .rootrc \u6587\u4ef6\uff0c\u4f4d\u4e8e ANAROOT \u7684\u6839\u76ee\u5f55\u6216\u5b89\u88c5\u76ee\u5f55\u7684 etc (\u6216\u7c7b\u4f3c) \u76ee\u5f55\u4e0b\u3002\u5c06\u5b83\u4eec\u590d\u5236\u6216\u94fe\u63a5\u5230\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u6216\u5de5\u4f5c\u76ee\u5f55\uff0c\u53ef\u4ee5\u5728\u542f\u52a8 ROOT \u65f6\u81ea\u52a8\u52a0\u8f7d ANAROOT \u5e93\u548c\u8bbe\u7f6e \u3002</li> </ul> <p>2.5 \u5e38\u89c1\u5b89\u88c5\u95ee\u9898\u4e0e\u6545\u969c\u6392\u9664 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848 \uff1a</p> <ul> <li>\u4ece\u5176\u4ed6PC\u590d\u5236\u6587\u4ef6\u540e\u542f\u52a8ROOT\u65f6\u51fa\u9519: </li> <li>\u5728\u8fd0\u884c ./autogen.sh --prefix=$PWD (\u9488\u5bf9 Autotools \u7248\u672c) \u4e4b\u524d\uff0c\u5c1d\u8bd5\u6267\u884c make distclean \u6e05\u7406\u65e7\u7684\u6784\u5efa\u6587\u4ef6\u3002  </li> <li>macOS \u7279\u5b9a\u95ee\u9898: </li> <li>libtoolize \u672a\u5b89\u88c5: macOS \u901a\u5e38\u4f7f\u7528 glibtoolize\u3002\u9700\u8981\u76f8\u5e94\u4fee\u6539 autogen.sh \u811a\u672c\u3002  </li> <li>\u5171\u4eab\u5e93\u6269\u5c55\u540d: macOS \u4e0a\u7684\u5171\u4eab\u5e93\u540d\u4e3a *.dylib \u800c\u975e *.so\u3002\u82e5\u8981\u5728 ROOT \u4e2d\u4f7f\u7528 gSystem-&gt;Load(\"...\") \u52a0\u8f7d\uff0c\u53ef\u80fd\u9700\u8981\u5c06 .dylib \u6269\u5c55\u540d\u66f4\u6539\u4e3a .so\uff0c\u6216\u8005\u786e\u4fdd ROOT \u80fd\u591f\u8bc6\u522b .dylib\u3002  </li> <li>Genie Jhang \u7f16\u5199\u4e86\u4e00\u4efd\u8be6\u7ec6\u7684 ANAROOT Mac \u5b89\u88c5\u6307\u5357\uff0c\u53ef\u4f9b\u53c2\u8003: ANAROOTonMAC.html (\u901a\u5e38\u4f4d\u4e8e ANAROOT \u6587\u6863\u6216\u6e90\u7801\u5305\u4e2d)\u3002  </li> <li>\u72ec\u7acb\u52a0\u8f7d analoop \u5e93: </li> <li>\u5982\u679c\u5355\u72ec\u52a0\u8f7d analoop \u5e93\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 rootlogon.C \u4ee5\u52a0\u8f7d libanaloop.so, libanaloopexample.so, \u548c libanaloopencexample.so\uff0c\u800c\u4e0d\u662f libanaanaloop.so (\u6ce8\u610f\u5e93\u540d\u79f0\u7684\u7ec6\u5fae\u5dee\u522b)\u3002  </li> <li>\u4f9d\u8d56\u5e93\u7f3a\u5931: </li> <li>\u7f16\u8bd1\u65f6\u63d0\u793a\u627e\u4e0d\u5230\u5934\u6587\u4ef6\u6216\u5e93\u6587\u4ef6\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u76f8\u5173\u7684 devel \u5305\u672a\u5b89\u88c5 (\u5982 libxml2-devel, gsl-devel \u7b49)\u3002\u6839\u636e\u9519\u8bef\u4fe1\u606f\u5b89\u88c5\u76f8\u5e94\u7684\u5f00\u53d1\u5305\u3002  </li> <li>ROOT \u7248\u672c\u4e0d\u517c\u5bb9: </li> <li>\u7f16\u8bd1\u9519\u8bef\u53ef\u80fd\u6e90\u4e8e ANAROOT \u7248\u672c\u4e0e\u5f53\u524d ROOT \u7248\u672c\u4e0d\u517c\u5bb9\u3002\u68c0\u67e5 ANAROOT \u6587\u6863\u63a8\u8350\u7684 ROOT \u7248\u672c\uff0c\u5e76\u8003\u8651\u5347\u7ea7\u6216\u964d\u7ea7 ROOT\u3002</li> </ul> <p>2.6 ANAROOT \u76ee\u5f55\u7ed3\u6784\u5206\u6790 ANAROOT \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5176\u76ee\u5f55\u7ed3\u6784\u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u90e8\u5206\uff0c\u8fd9\u6709\u52a9\u4e8e\u7528\u6237\u7406\u89e3\u548c\u5b9a\u4f4d\u6240\u9700\u6587\u4ef6 1\uff1a</p> <ul> <li>\u9876\u5c42\u76ee\u5f55 (anaroot/):  </li> <li>setup.sh: \u7528\u4e8e\u8bbe\u7f6e ANAROOT \u73af\u5883\u53d8\u91cf\u7684\u811a\u672c 1\u3002  </li> <li>rootlogon.C, .rootrc: ROOT \u767b\u5f55\u5b8f\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u5728 ROOT \u542f\u52a8\u65f6\u81ea\u52a8\u52a0\u8f7d ANAROOT \u5e93\u548c\u8bbe\u7f6e 1\u3002  </li> <li>source/: \u5305\u542b ANAROOT \u6838\u5fc3\u6e90\u4ee3\u7801\u548c\u5404\u6a21\u5757\u6e90\u4ee3\u7801\u3002  <ul> <li>Core/: \u5305\u542b ANAROOT \u7684\u6838\u5fc3\u5e93\uff0c\u5982 RIDF \u6570\u636e\u89e3\u7801\u3001\u4e8b\u4ef6\u6784\u5efa\u3001\u4ee5\u53ca\u57fa\u7840\u7c7b TArtStoreManager \u7b49 5\u3002  </li> <li>Reconstruction/: \u5305\u542b\u5404\u63a2\u6d4b\u5668\u6570\u636e\u91cd\u5efa\u76f8\u5173\u7684\u5e93 5\u3002  </li> <li>BigRIPS/: BigRIPS \u63a2\u6d4b\u5668\uff08PPAC, Plastic, IC, Ge\uff09\u7684\u523b\u5ea6\u4e0e\u91cd\u5efa\u4ee3\u7801 5\u3002  </li> <li>SAMURAI/: SAMURAI \u63a2\u6d4b\u5668\uff08BDC, FDC, HODF, ICF, NEBULA\uff09\u7684\u523b\u5ea6\u4e0e\u91cd\u5efa\u4ee3\u7801 5\u3002  </li> <li>DALI/: DALI2 NaI \u63a2\u6d4b\u5668\u7684\u523b\u5ea6\u4e0e\u91cd\u5efa\u4ee3\u7801 5\u3002  </li> <li>EURICA/: EURICA gamma \u5c04\u7ebf\u9635\u5217\u7684\u523b\u5ea6\u4e0e\u91cd\u5efa\u4ee3\u7801 5\u3002  </li> <li>AnaLoop/: \u5305\u542b TArtAnaLoop \u57fa\u7c7b\u53ca\u5176\u6d3e\u751f\u7c7b\u7684\u5b9e\u73b0 6\u3002  </li> <li>include/: \u5934\u6587\u4ef6\u3002  </li> <li>src/: \u6e90\u6587\u4ef6\u3002  </li> </ul> </li> <li>lib/ (\u901a\u5e38\u5728 Autotools \u5b89\u88c5\u6216 CMake \u5b89\u88c5\u540e\u7684 install/lib/): \u5b58\u653e\u7f16\u8bd1\u751f\u6210\u7684\u5171\u4eab\u5e93\u6587\u4ef6 (.so \u6216 .dylib) 1\u3002  </li> <li>include/ (\u901a\u5e38\u5728 CMake \u5b89\u88c5\u540e\u7684 install/include/anaroot/): \u5b58\u653e ANAROOT \u7684\u5934\u6587\u4ef6 1\u3002  </li> <li>build/ (CMake \u5b89\u88c5): \u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u4e2d\u95f4\u6587\u4ef6 1\u3002  </li> <li>install/ (CMake \u5b89\u88c5): CMake \u5b89\u88c5\u7684\u76ee\u6807\u8def\u5f84\uff0c\u5305\u542b lib/, include/, bin/ \u7b49\u5b50\u76ee\u5f55 1\u3002  </li> <li>example/ \u6216 macros/: \u5305\u542b\u793a\u4f8b\u5206\u6790\u5b8f\u548c\u811a\u672c 10\u3002  <ul> <li>Macros/BigRIPS/: \u9488\u5bf9 BigRIPS \u5206\u6790\u7684\u793a\u4f8b\u5b8f\uff0c\u5982 RecoPID.C 10\u3002  </li> <li>Macros/Online/: \u5728\u7ebf\u5206\u6790\u76f8\u5173\u7684\u793a\u4f8b\u5b8f\uff0c\u5982 ShowModule.C 10\u3002  </li> <li>Macros/RIDF2Tree.C: \u5c06 RIDF \u6570\u636e\u8f6c\u6362\u4e3a ROOT TTree \u7684\u793a\u4f8b\u5b8f 10\u3002  </li> </ul> </li> <li>run/ \u6216 db/: \u901a\u5e38\u7528\u4e8e\u5b58\u653e\u7528\u6237\u5206\u6790\u65f6\u6240\u9700\u7684\u53c2\u6570\u6587\u4ef6\uff08\u5982 XML \u6587\u4ef6\uff09\u548c\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5206\u6790\u5b8f 3\u3002  </li> <li>doc/ \u6216\u7c7b\u4f3c\u76ee\u5f55: \u53ef\u80fd\u5305\u542b ANAROOT \u7684\u6587\u6863\u3001\u6559\u7a0b\u6216\u7279\u5b9a\u5b89\u88c5\u8bf4\u660e (\u5982 ANAROOTonMAC.html) 1\u3002</li> </ul> <p>\u4e86\u89e3\u8fd9\u4e9b\u76ee\u5f55\u7ed3\u6784\u6709\u52a9\u4e8e\u7528\u6237\u67e5\u627e\u5e93\u6587\u4ef6\u3001\u5934\u6587\u4ef6\u3001\u793a\u4f8b\u4ee3\u7801\u548c\u53c2\u6570\u6587\u4ef6\uff0c\u4ece\u800c\u66f4\u6709\u6548\u5730\u8fdb\u884c ANAROOT \u7684\u914d\u7f6e\u548c\u4f7f\u7528\u3002 \u7b2c\u4e09\u7ae0\uff1aANAROOT \u6838\u5fc3\u6982\u5ff5\u4e0e\u7ec4\u4ef6 \u672c\u7ae0\u5c06\u6df1\u5165\u63a2\u8ba8 ANAROOT \u7684\u5185\u90e8\u7ed3\u6784\u3001\u5173\u952e\u7c7b\u3001\u6570\u636e\u6d41\u4ee5\u53ca\u53c2\u6570\u7ba1\u7406\u673a\u5236\uff0c\u4e3a\u540e\u7eed\u7684\u5b9e\u9645\u5e94\u7528\u6253\u4e0b\u575a\u5b9e\u57fa\u7840\u3002 3.1 ANAROOT \u5e93\u7ed3\u6784 ANAROOT \u7684\u6e90\u4ee3\u7801\u548c\u5e93\u6587\u4ef6\u7ec4\u7ec7\u6709\u5e8f\uff0c\u53cd\u6620\u4e86\u5176\u6a21\u5757\u5316\u7684\u8bbe\u8ba1\u601d\u60f3\u3002\u5176\u4e3b\u8981\u76ee\u5f55\u7ed3\u6784\u901a\u5e38\u5982\u4e0b 5\uff1a</p> <ul> <li>source/Core: \u5305\u542b ANAROOT \u7684\u6838\u5fc3\u5e93\u3002\u8fd9\u4e9b\u5e93\u8d1f\u8d23\u57fa\u7840\u529f\u80fd\uff0c\u5982 RIDF \u6570\u636e\u7684\u89e3\u7801\u3001\u4e8b\u4ef6\u7684\u6784\u5efa\uff0c\u4ee5\u53ca\u4e00\u4e9b\u57fa\u7840\u7c7b\uff0c\u4f8b\u5982 TArtStoreManager\uff08\u7528\u4e8e\u7ba1\u7406\u6570\u636e\u5bf9\u8c61\u548c\u53c2\u6570\uff09\u3002  </li> <li>source/Reconstruction: \u5305\u542b\u7528\u4e8e\u4ece\u5404\u4e2a\u63a2\u6d4b\u5668\u539f\u59cb\u6570\u636e\u4e2d\u91cd\u5efa\u7269\u7406\u4fe1\u606f\u7684\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u9876\u5c42\u76ee\u5f55\uff0c\u5176\u4e0b\u901a\u5e38\u6309\u63a2\u6d4b\u5668\u7cfb\u7edf\u6216\u5b9e\u9a8c\u88c5\u7f6e\u5212\u5206\u5b50\u76ee\u5f55\uff1a  </li> <li>source/Reconstruction/BigRIPS: \u5305\u542b\u4e86\u7528\u4e8e\u523b\u5ea6\u548c\u91cd\u5efa BigRIPS \u63a2\u6d4b\u5668\uff08\u5982 PPAC\u3001Plastic\u3001IC\u3001Ge \u63a2\u6d4b\u5668\uff09\u6570\u636e\u7684\u5e93\uff0c\u4ee5\u53ca\u7528\u4e8e\u91cd\u5efa\u675f\u6d41\u7c92\u5b50 A/Q (\u8d28\u8377\u6bd4) \u548c Z (\u7535\u8377\u6570) \u7684\u5e93\u3002  </li> <li>source/Reconstruction/DALI: \u5305\u542b\u4e86\u7528\u4e8e\u523b\u5ea6 DALI2 NaI \u63a2\u6d4b\u5668\u539f\u59cb\u6570\u636e\u7684\u5e93\u3002  </li> <li>source/Reconstruction/SAMURAI: \u5305\u542b\u4e86\u7528\u4e8e\u523b\u5ea6 SAMURAI \u63a2\u6d4b\u5668\uff08\u5982 BDC\u00bd\u3001FDC\u00bd\u3001HODF/P\u3001ICF\u3001NEBULA\uff09\u539f\u59cb\u6570\u636e\u7684\u5e93\u3002  </li> <li>source/Reconstruction/EURICA: \u5305\u542b\u4e86\u7528\u4e8e\u523b\u5ea6 EURICA gamma \u5c04\u7ebf\u63a2\u6d4b\u5668\u9635\u5217\u539f\u59cb\u6570\u636e\u7684\u5e93\u3002</li> </ul> <p>\u8fd9\u79cd\u6a21\u5757\u5316\u7684\u7ed3\u6784\u4f7f\u5f97\u9488\u5bf9\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u5206\u6790\u4ee3\u7801\u53ef\u4ee5\u72ec\u7acb\u5f00\u53d1\u548c\u7ef4\u62a4\uff0c\u540c\u65f6\u4e5f\u4fbf\u4e8e\u7528\u6237\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9a8c\u9700\u6c42\u9009\u62e9\u6027\u5730\u52a0\u8f7d\u548c\u4f7f\u7528\u76f8\u5173\u6a21\u5757\u3002 3.2 \u5173\u952e\u7c7b\u6982\u89c8 ANAROOT \u4e2d\u6709\u8bb8\u591a\u6838\u5fc3\u7c7b\uff0c\u5b83\u4eec\u534f\u540c\u5de5\u4f5c\u4ee5\u5b9e\u73b0\u590d\u6742\u7684\u6570\u636e\u5206\u6790\u6d41\u7a0b\u3002</p> <ul> <li>TArtStoreManager: \u8fd9\u662f\u4e00\u4e2a\u81f3\u5173\u91cd\u8981\u7684\u5355\u4f8b\u7c7b\uff0c\u626e\u6f14\u7740\u6570\u636e\u548c\u53c2\u6570\u7684\u4e2d\u592e\u7ba1\u5bb6\u89d2\u8272 5\u3002\u5b83\u8d1f\u8d23\u7ba1\u7406\u5206\u6790\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u6240\u6709\u6570\u636e\u5bb9\u5668\uff08\u901a\u5e38\u662f TClonesArray \u5bf9\u8c61\uff09\u7684\u8f93\u5165/\u8f93\u51fa\uff0c\u4ee5\u53ca\u5206\u6790\u53c2\u6570\u7684\u8f93\u5165/\u8f93\u51fa\u3002\u5404\u79cd\u5206\u6790\u6a21\u5757\u901a\u8fc7 TArtStoreManager \u6ce8\u518c\u548c\u83b7\u53d6\u5b83\u4eec\u9700\u8981\u7684\u5bf9\u8c61\u3002\u8fd9\u79cd\u8bbe\u8ba1\u4fc3\u8fdb\u4e86\u4e0d\u540c\u5206\u6790\u6a21\u5757\u95f4\u7684\u89e3\u8026\u548c\u6570\u636e\u5171\u4eab\uff0c\u4f7f\u5f97\u590d\u6742\u7684\u5206\u6790\u6d41\u7a0b\u5f97\u4ee5\u6e05\u6670\u5730\u7ec4\u7ec7\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u523b\u5ea6\u6a21\u5757\u53ef\u4ee5\u5c06\u523b\u5ea6\u540e\u7684\u6570\u636e\u5bf9\u8c61\u6ce8\u518c\u5230 TArtStoreManager\uff0c\u540e\u7eed\u7684\u91cd\u5efa\u6a21\u5757\u5219\u53ef\u4ee5\u4ece\u4e2d\u6309\u540d\u79f0\u68c0\u7d22\u8fd9\u4e9b\u5bf9\u8c61\u3002  </li> <li>TArtEventStore: \u8be5\u7c7b\u8d1f\u8d23\u5904\u7406 RIDF \u6570\u636e\u7684\u8f93\u5165\u548c\u521d\u6b65\u89e3\u7801 3\u3002\u5b83\u53ef\u4ee5\u4ece RIDF \u6587\u4ef6\uff08\u79bb\u7ebf\u6a21\u5f0f\uff09\u6216\u5728\u7ebf\u5171\u4eab\u5185\u5b58/\u6570\u636e\u6d41\uff08\u5728\u7ebf\u6a21\u5f0f\uff09\u4e2d\u8bfb\u53d6\u4e8b\u4ef6\u6570\u636e\u3002TArtEventStore \u5c06\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u6d41\u8f6c\u6362\u4e3a\u7ed3\u6784\u5316\u7684 TArtRawEventObject\u3002  </li> <li>\u539f\u59cb\u6570\u636e\u5bb9\u5668\u7c7b:  </li> <li>TArtRawEventObject: \u4ee3\u8868\u4e00\u4e2a\u89e3\u7801\u540e\u7684\u4e8b\u4ef6\uff0c\u5305\u542b\u8fd0\u884c\u53f7\u3001\u4e8b\u4ef6\u53f7\u3001\u65f6\u95f4\u6233\u4ee5\u53ca\u4e00\u4e2a TArtRawSegmentObject \u7684\u6570\u7ec4 5\u3002  </li> <li>TArtRawSegmentObject: \u4ee3\u8868 RIDF \u6570\u636e\u683c\u5f0f\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u6bb5 (segment)\uff0c\u5305\u542b\u8bbe\u5907ID\u4fe1\u606f\u548c TArtRawDataObject \u7684\u6570\u7ec4 5\u3002  </li> <li>TArtRawDataObject: \u5b58\u50a8\u4e86\u6700\u539f\u59cb\u7684\u63a2\u6d4b\u5668\u901a\u9053\u6570\u636e (\u5982 ADC, TDC \u503c) 5\u3002 \u8fd9\u4e9b\u539f\u59cb\u6570\u636e\u5bf9\u8c61\u76f4\u63a5\u6620\u5c04\u4e86 RIDF \u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u8bbf\u95ee\u6700\u5e95\u5c42\u6570\u636e\u7684\u63a5\u53e3\u3002  </li> <li>\u523b\u5ea6\u7c7b (TArtCalibXXX):   \u8fd9\u7c7b\u7c7b\uff08\u5982 TArtCalibPPAC, TArtCalibPlastic, TArtCalibNEBULA\uff09\u5c01\u88c5\u4e86\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u539f\u59cb\u6570\u636e\u523b\u5ea6\u903b\u8f91 3\u3002\u5b83\u4eec\u4ece TArtRawDataObject \u4e2d\u83b7\u53d6\u539f\u59cb\u6570\u636e\uff0c\u7ed3\u5408\u4ece\u53c2\u6570\u6587\u4ef6\uff08\u901a\u5e38\u662fXML\uff09\u52a0\u8f7d\u7684\u523b\u5ea6\u5e38\u6570\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u6709\u7269\u7406\u610f\u4e49\u7684\u91cf\uff08\u5982\u65f6\u95f4\u3001\u80fd\u91cf\u3001\u4f4d\u7f6e\uff09\uff0c\u5e76\u586b\u5145\u5230\u76f8\u5e94\u7684\u523b\u5ea6\u540e\u6570\u636e\u5bb9\u5668\u4e2d\u3002  </li> <li>\u91cd\u5efa\u7c7b (TArtRecoXXX):   \u8fd9\u7c7b\u7c7b\uff08\u5982 TArtRecoTOF, TArtRecoRIPS\uff09\u5219\u5728\u523b\u5ea6\u6570\u636e\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u66f4\u9ad8\u7ea7\u7684\u7269\u7406\u91cf\u91cd\u5efa 3\u3002\u4f8b\u5982\uff0cTArtRecoTOF \u53ef\u80fd\u5229\u7528\u591a\u4e2a Plastic \u63a2\u6d4b\u5668\u7684\u523b\u5ea6\u65f6\u95f4\u4fe1\u606f\u6765\u8ba1\u7b97\u98de\u884c\u65f6\u95f4\u3002  </li> <li>\u63a2\u6d4b\u5668\u4e13\u7528\u6570\u636e\u5bb9\u5668:   ANAROOT \u4e3a\u6bcf\u79cd\u4e3b\u8981\u63a2\u6d4b\u5668\u5b9a\u4e49\u4e86\u7279\u5b9a\u7684\u6570\u636e\u5bb9\u5668\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u523b\u5ea6\u6216\u91cd\u5efa\u540e\u7684\u6570\u636e\u3002\u8fd9\u4e9b\u5bb9\u5668\u901a\u5e38\u7ee7\u627f\u81ea TObject\uff0c\u5e76\u4ee5 TClonesArray \u7684\u5f62\u5f0f\u8fdb\u884c\u7ba1\u7406\u548c\u5b58\u50a8\uff0c\u4ee5\u4fbf\u9ad8\u6548\u5904\u7406\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u591a\u4e2a\u540c\u7c7b\u63a2\u6d4b\u5668\u51fb\u4e2d\u3002\u5e38\u89c1\u7684\u4f8b\u5b50\u6709 5\uff1a  </li> <li>BigRIPS \u76f8\u5173: TArtPPAC, TArtIC, TArtPlastic, TArtFocalPlane, TArtTOF, TArtRIPS, TArtBeam\u3002  </li> <li>DALI \u76f8\u5173: TArtDALINaI\u3002  </li> <li>SAMURAI \u76f8\u5173: TArtDCHit, TArtDCTrack, TArtHODPla, TArtICF, TArtNEBULAPla, TArtNEBULAHPC\u3002  </li> <li>EURICA \u76f8\u5173: TArtNaI, TArtGeCluster, TArtSiStopper\u3002 \u8fd9\u79cd\u4ece\u539f\u59cb\u7684\u3001\u901a\u7528\u7684 TArtRawDataObject \u5230\u5177\u4f53\u7684\u3001\u7269\u7406\u610f\u4e49\u660e\u786e\u7684\u63a2\u6d4b\u5668\u5bf9\u8c61\u7684\u8f6c\u6362\uff0c\u4f53\u73b0\u4e86 ANAROOT \u6570\u636e\u5904\u7406\u7684\u5c42\u6b21\u5316\u62bd\u8c61\u3002\u7528\u6237\u5728\u5206\u6790\u7684\u540e\u671f\u9636\u6bb5\uff0c\u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u64cd\u4f5c\u8fd9\u4e9b\u9ad8\u5c42\u6570\u636e\u5bf9\u8c61\u3002  </li> <li>TArtAnaLoop: \u8fd9\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff0c\u7528\u6237\u901a\u8fc7\u7ee7\u627f\u5b83\u6765\u7f16\u5199\u81ea\u5df1\u7684\u4e8b\u4ef6\u5faa\u73af\u5206\u6790\u903b\u8f91 6\u3002TArtAnaLoop \u7684\u6d3e\u751f\u7c7b\u5b9a\u4e49\u4e86\u5728\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u6267\u884c\u7684\u5177\u4f53\u64cd\u4f5c\uff0c\u5982\u8c03\u7528\u523b\u5ea6/\u91cd\u5efa\u4f8b\u7a0b\u3001\u586b\u5145\u76f4\u65b9\u56fe\u7b49\u3002</li> </ul> <p>\u88681\uff1aANAROOT \u6838\u5fc3\u7c7b\u53ca\u5176\u529f\u80fd</p> \u7c7b\u540d (Class Name) \u4e3b\u8981\u529f\u80fd \u5173\u952e\u65b9\u6cd5/\u7279\u6027 \u6765\u6e90 TArtStoreManager \u6570\u636e\u548c\u53c2\u6570\u7684\u4e2d\u592e\u7ba1\u7406\u5668 Instance(), AddParameters(), AddDataContainer(), FindObject(), FindDataContainer() 5 TArtEventStore RIDF \u6570\u636e\u8f93\u5165 (\u6587\u4ef6/\u5728\u7ebf) \u548c\u89e3\u7801 Open(), GetNextEvent(), LoadMapConfig() 3 TArtRawEventObject \u5b58\u50a8\u89e3\u7801\u540e\u7684\u6574\u4e2a\u4e8b\u4ef6\u4fe1\u606f \u5305\u542b\u4e8b\u4ef6\u53f7\u3001\u65f6\u95f4\u6233\u3001TArtRawSegmentObject \u6570\u7ec4 5 TArtRawSegmentObject \u5b58\u50a8 RIDF \u6570\u636e\u6bb5\u4fe1\u606f \u5305\u542b\u8bbe\u5907ID\u3001TArtRawDataObject \u6570\u7ec4 5 TArtRawDataObject \u5b58\u50a8\u5355\u4e2a\u63a2\u6d4b\u5668\u901a\u9053\u7684\u539f\u59cb\u6570\u636e GetValue(), GetCategoryID(), GetDetectorID(), GetDatatypeID() 5 TArtCalibXXX (\u901a\u7528) \u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u539f\u59cb\u6570\u636e\u523b\u5ea6 ReconstructData(), ClearData(), \u901a\u5e38\u52a0\u8f7dXML\u53c2\u6570 3 TArtRecoXXX (\u901a\u7528) \u57fa\u4e8e\u523b\u5ea6\u6570\u636e\u8fdb\u884c\u7269\u7406\u91cf\u91cd\u5efa ReconstructData(), ClearData() 3 TArtPPAC, TArtNEBULAPla \u7b49 \u5b58\u50a8\u7279\u5b9a\u63a2\u6d4b\u5668\u523b\u5ea6/\u91cd\u5efa\u540e\u7684\u6570\u636e \u901a\u5e38\u4f5c\u4e3a TClonesArray \u7684\u5143\u7d20\uff0c\u63d0\u4f9b\u8bbf\u95ee\u5177\u4f53\u7269\u7406\u91cf\u7684\u65b9\u6cd5 (\u5982 GetX(), GetTOF()) 5 TArtAnaLoop \u7528\u6237\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5faa\u73af\u5206\u6790\u7684\u57fa\u7c7b \u9700\u7528\u6237\u5b9e\u73b0 Construct(), Calculate(), Destruct(), ClassName() 6 <p>3.3 \u6570\u636e\u6d41\u4e0e\u5904\u7406\u6d41\u7a0b ANAROOT \u4e2d\u7684\u6570\u636e\u5904\u7406\u9075\u5faa\u4e00\u4e2a\u6e05\u6670\u7684\u3001\u5206\u5c42\u6b21\u7684\u6d41\u7a0b\uff0c\u4ece\u539f\u59cb\u6570\u636e\u8f93\u5165\u5230\u6700\u7ec8\u7269\u7406\u91cf\u63d0\u53d6\uff0c\u53ef\u4ee5\u6982\u62ec\u4e3a 3\uff1a</p> <ol> <li>\u6570\u636e\u8f93\u5165\u4e0e\u89e3\u7801 (Extract/Decode): </li> <li>TArtEventStore \u5bf9\u8c61\u8d1f\u8d23\u6253\u5f00 RIDF \u6570\u636e\u6e90\uff08\u6587\u4ef6\u6216\u5728\u7ebf\u6d41\uff09\u3002  </li> <li>\u5728 GetNextEvent() \u8c03\u7528\u65f6\uff0cTArtEventStore \u8bfb\u53d6\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5e76\u5c06\u5176\u89e3\u7801\u586b\u5145\u5230 TArtRawEventObject \u4e2d\u3002TArtRawEventObject \u5185\u90e8\u5305\u542b\u4e00\u7cfb\u5217 TArtRawSegmentObject\uff0c\u6bcf\u4e2a TArtRawSegmentObject \u53c8\u5305\u542b\u82e5\u5e72 TArtRawDataObject\uff0c\u5206\u522b\u5bf9\u5e94\u63a2\u6d4b\u5668\u5404\u901a\u9053\u7684\u539f\u59cb\u6d4b\u91cf\u503c\uff08\u5982 TDC\u3001ADC \u503c\uff09\u3002  </li> <li>\u6570\u636e\u523b\u5ea6 (Transform/Calibrate): </li> <li>\u7528\u6237\u5728\u5206\u6790\u4ee3\u7801\u4e2d\uff08\u901a\u5e38\u662f TArtAnaLoop \u7684\u6d3e\u751f\u7c7b\u4e2d\uff09\u521b\u5efa\u5e76\u914d\u7f6e\u76f8\u5e94\u7684 TArtCalibXXX \u5bf9\u8c61\uff08\u4f8b\u5982 TArtCalibPPAC \u7528\u4e8e PPAC \u63a2\u6d4b\u5668\uff0cTArtCalibNEBULA \u7528\u4e8e NEBULA \u63a2\u6d4b\u5668\uff09\u3002  </li> <li>\u8fd9\u4e9b\u523b\u5ea6\u5bf9\u8c61\u4ece TArtStoreManager \u83b7\u53d6\u539f\u59cb\u6570\u636e\uff08\u95f4\u63a5\u901a\u8fc7 TArtEventStore \u89e3\u7801\u7684 TArtRawDataObject\uff09\uff0c\u5e76\u5229\u7528\u4ece XML \u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u7684\u523b\u5ea6\u5e38\u6570\uff08\u5982 TDC \u7684\u65f6\u95f4\u8f6c\u6362\u7cfb\u6570\u3001ADC \u7684\u80fd\u91cf\u8f6c\u6362\u7cfb\u6570\u3001\u51e0\u4f55\u4f4d\u7f6e\u53c2\u6570\u7b49\uff09\uff0c\u5c06\u539f\u59cb\u9053\u6570\u8f6c\u6362\u4e3a\u5177\u6709\u7269\u7406\u610f\u4e49\u7684\u91cf\uff08\u5982\u65f6\u95f4 ns\u3001\u80fd\u91cf MeV\u3001\u4f4d\u7f6e mm\uff09\u3002  </li> <li>\u523b\u5ea6\u540e\u7684\u6570\u636e\u88ab\u586b\u5145\u5230\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u6570\u636e\u5bb9\u5668\u4e2d\uff08\u5982 TArtPPAC \u5bf9\u8c61\u3001TArtNEBULAPla \u5bf9\u8c61\uff09\uff0c\u8fd9\u4e9b\u5bb9\u5668\u901a\u5e38\u4ee5 TClonesArray \u7684\u5f62\u5f0f\u5b58\u50a8\uff0c\u5e76\u901a\u8fc7 TArtStoreManager \u8fdb\u884c\u7ba1\u7406\u3002  </li> <li>\u6570\u636e\u91cd\u5efa (Transform/Reconstruct): </li> <li>\u5728\u523b\u5ea6\u6570\u636e\u7684\u57fa\u7840\u4e0a\uff0cTArtRecoXXX \u7c7b\u6216\u66f4\u9ad8\u7ea7\u7684 TArtCalibXXX \u7c7b\uff08\u5982 TArtCalibPID\uff09\u6267\u884c\u66f4\u590d\u6742\u7684\u7269\u7406\u91cf\u91cd\u5efa\u3002  </li> <li>\u4f8b\u5982\uff0cTArtRecoTOF \u53ef\u80fd\u7ed3\u5408\u591a\u4e2a\u5851\u6599\u95ea\u70c1\u4f53\u7684\u65f6\u95f4\u4fe1\u606f\u548c\u5b83\u4eec\u4e4b\u95f4\u7684\u8ddd\u79bb\u6765\u8ba1\u7b97\u7c92\u5b50\u7684\u98de\u884c\u65f6\u95f4 (TOF)\u3002TArtCalibPID \u5219\u53ef\u80fd\u7efc\u5408\u8fd0\u7528 PPAC \u7684\u4f4d\u7f6e\u4fe1\u606f\u3001\u5851\u6599\u95ea\u70c1\u4f53\u7684 TOF \u4fe1\u606f\u548c\u7535\u79bb\u5ba4\u7684\u80fd\u91cf\u635f\u5931\u4fe1\u606f\u6765\u91cd\u5efa\u7c92\u5b50\u7684\u8f68\u8ff9\u3001\u78c1\u521a\u5ea6 (B\u03c1)\u3001\u539f\u5b50\u5e8f\u6570 (Z) \u548c\u8d28\u8377\u6bd4 (A/Q)\u3002  </li> <li>\u91cd\u5efa\u5f97\u5230\u7684\u7269\u7406\u91cf\u540c\u6837\u88ab\u5b58\u50a8\u5728\u7279\u5b9a\u7684\u6570\u636e\u5bb9\u5668\u4e2d\uff08\u5982 TArtTOF, TArtRIPS, TArtBeam\uff09\uff0c\u5e76\u7531 TArtStoreManager \u7ba1\u7406\u3002  </li> <li>\u7528\u6237\u5206\u6790\u4e0e\u8f93\u51fa (Load/Analyze): </li> <li>\u7528\u6237\u5728 TArtAnaLoop \u7684 Calculate() \u65b9\u6cd5\u4e2d\uff0c\u901a\u8fc7 TArtStoreManager \u83b7\u53d6\u6240\u9700\u7684\u523b\u5ea6\u6216\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bb9\u5668\u3002  </li> <li>\u5229\u7528\u8fd9\u4e9b\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u7269\u7406\u5206\u6790\uff0c\u5982\u586b\u5145\u76f4\u65b9\u56fe\u3001\u5e94\u7528\u7269\u7406\u5224\u9009\u6761\u4ef6 (cuts)\u3001\u8ba1\u7b97\u4e0d\u53d8\u8d28\u91cf\u7b49\u3002  </li> <li>\u6700\u7ec8\u7684\u5206\u6790\u7ed3\u679c\uff08\u5982\u76f4\u65b9\u56fe\u3001N\u5143\u7ec4\uff09\u53ef\u4ee5\u901a\u8fc7 ROOT \u7684\u6807\u51c6\u673a\u5236\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\u3002</li> </ol> <p>\u8fd9\u4e2a\u6d41\u7a0b\u4f53\u73b0\u4e86\u5178\u578b\u7684 ETL (Extract, Transform, Load) \u6570\u636e\u5904\u7406\u6a21\u5f0f 8\u3002ANAROOT \u7684\u5206\u5c42\u62bd\u8c61\u8bbe\u8ba1\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u5728\u6570\u636e\u5904\u7406\u7684\u4e0d\u540c\u9636\u6bb5\u4ecb\u5165\uff0c\u65e2\u53ef\u4ee5\u8bbf\u95ee\u6700\u5e95\u5c42\u7684\u539f\u59cb\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u5730\u4f7f\u7528\u7ecf\u8fc7\u523b\u5ea6\u548c\u91cd\u5efa\u7684\u9ad8\u7ea7\u7269\u7406\u5bf9\u8c61\u3002\u6bcf\u4e2a TArtCalibXXX \u548c TArtRecoXXX \u5bf9\u8c61\u90fd\u4e13\u6ce8\u4e8e\u7279\u5b9a\u7684\u4efb\u52a1\uff0c\u8fd9\u589e\u5f3a\u4e86\u4ee3\u7801\u7684\u6a21\u5757\u5316\u548c\u53ef\u7ef4\u62a4\u6027\u3002 3.4 \u53c2\u6570\u7ba1\u7406\uff1aXML \u6587\u4ef6\u4e0e TArtEventStore::LoadMapConfig ANAROOT \u5e7f\u6cdb\u4f7f\u7528 XML \u6587\u4ef6\u6765\u7ba1\u7406\u5b9e\u9a8c\u53c2\u6570\uff0c\u8fd9\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u6781\u5927\u7684\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u5728\u4e0d\u91cd\u65b0\u7f16\u8bd1\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u4fee\u6539\u63a2\u6d4b\u5668\u8bbe\u7f6e\u3001\u523b\u5ea6\u5e38\u6570\u7b49 3\u3002</p> <ul> <li>XML \u53c2\u6570\u6587\u4ef6: </li> <li>\u7528\u6237\u5b9a\u4e49\u7684\u53c2\u6570\uff0c\u5982\u63a2\u6d4b\u5668\u51e0\u4f55\u4f4d\u7f6e\u3001\u7535\u5b50\u5b66\u6a21\u5757\u7684\u901a\u9053\u6620\u5c04\u3001TDC/ADC \u8f6c\u6362\u7cfb\u6570\u3001\u65f6\u95f4\u504f\u79fb\u3001\u80fd\u91cf\u523b\u5ea6\u66f2\u7ebf\u53c2\u6570\u7b49\uff0c\u90fd\u5b58\u50a8\u5728 XML \u683c\u5f0f\u7684\u6587\u4ef6\u4e2d 5\u3002  </li> <li>\u8fd9\u4e9b XML \u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u8f6f\u4ef6\u751f\u6210\u548c\u7f16\u8f91\uff0c\u4f8b\u5982 Microsoft Access\u3001Excel\u3001Open Office\u3001Google Spreadsheets\uff0c\u751a\u81f3\u7eaf\u6587\u672c\u7f16\u8f91\u5668 5\u3002  </li> <li>\u5728\u5206\u6790\u7a0b\u5e8f\u4e2d\uff0c\u901a\u5e38\u7531 TArtBigRIPSParameters (\u9488\u5bf9 BigRIPS) \u6216\u5404\u4e2a TArtCalibXXX \u7c7b\u8d1f\u8d23\u52a0\u8f7d\u548c\u89e3\u6790\u8fd9\u4e9b XML \u6587\u4ef6\uff0c\u5e76\u5c06\u53c2\u6570\u5e94\u7528\u5230\u540e\u7eed\u7684\u8ba1\u7b97\u4e2d\u3002  </li> <li>\u8fd9\u79cd\u65b9\u5f0f\u4f7f\u5f97\u53c2\u6570\u7ba1\u7406\u4e0e\u5206\u6790\u903b\u8f91\u5206\u79bb\uff0c\u4fbf\u4e8e\u53c2\u6570\u7684\u8c03\u6574\u3001\u7248\u672c\u63a7\u5236\u548c\u5171\u4eab\u3002  </li> <li>TArtEventStore::LoadMapConfig(char *mapfilename): </li> <li>ANAROOT \u4e5f\u652f\u6301\u52a0\u8f7d ANAPAW\uff08\u4e00\u79cd\u8f83\u65e9\u7684\u5206\u6790\u8f6f\u4ef6\uff09\u98ce\u683c\u7684 Map \u6587\u4ef6\uff0c\u7528\u4e8e\u7528\u6237\u5206\u6790\u4e2d\u7684\u6570\u636e\u6620\u5c04 5\u3002  </li> <li>\u901a\u8fc7\u8c03\u7528 TArtEventStore::LoadMapConfig() \u51fd\u6570\u52a0\u8f7d Map \u6587\u4ef6\u540e\uff0c\u5728\u626b\u63cf\u6570\u636e\u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 TArtRawDataObject \u7684\u6210\u5458\u51fd\u6570\u83b7\u53d6\u63a2\u6d4b\u5668\u7c7b\u522b\u53f7 (Category ID)\u3001\u63a2\u6d4b\u5668\u53f7 (Detector ID) \u548c\u6570\u636e\u7c7b\u578b\u53f7 (Datatype ID)\uff0c\u4f8b\u5982\uff1a  <ul> <li>TArtRawDataObject::GetCategoryID()  </li> <li>TArtRawDataObject::GetDetectorID()  </li> <li>TArtRawDataObject::GetDatatypeID()  </li> </ul> </li> <li>\u8fd9\u4e9b ID \u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u8bc6\u522b\u548c\u7b5b\u9009\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u7279\u5b9a\u7c7b\u578b\u6570\u636e\uff08\u5982 PPAC \u7684 Tx1 \u4fe1\u53f7\u3001Plastic \u7684 TA \u4fe1\u53f7\u7b49\uff09\u3002  </li> <li>ANAROOT \u793a\u4f8b\u4e2d\u53ef\u80fd\u5305\u542b\u5982 CheckBLDet.C \u8fd9\u6837\u7684\u5b8f\uff0c\u7528\u4e8e\u68c0\u67e5 BigRIPS \u675f\u6d41\u7ebf\u63a2\u6d4b\u5668\u7684\u6570\u636e\u7c7b\u522b\u53f7\u5e76\u544a\u77e5\u7528\u6237\u4fdd\u5b58\u4e86\u54ea\u4e9b\u7c7b\u578b\u7684\u6570\u636e 5\u3002</li> </ul> <p>3.5 \u5750\u6807\u7cfb\u5b9a\u4e49 \u4e3a\u4e86\u786e\u4fdd\u6570\u636e\u5206\u6790\u7684\u4e00\u81f4\u6027\u548c\u7ed3\u679c\u7684\u53ef\u6bd4\u6027\uff0cANAROOT \u63a8\u8350\u5728\u5b9e\u9a8c\u548c\u5206\u6790\u4e2d\u4f7f\u7528\u7edf\u4e00\u7684\u5750\u6807\u7cfb\u5b9a\u4e49 5\u3002\u867d\u7136\u5177\u4f53\u7684\u5b9a\u4e49\u7ec6\u8282\uff08\u5982\u539f\u70b9\u4f4d\u7f6e\u3001\u5404\u8f74\u6307\u5411\uff09\u9700\u8981\u53c2\u8003\u76f8\u5e94\u5b9e\u9a8c\u7684\u7ea6\u5b9a\u6216 ANAROOT \u63d0\u4f9b\u7684\u793a\u4f8b\u56fe\u793a\uff0c\u4f46\u9075\u5faa\u5171\u540c\u7684\u5750\u6807\u7cfb\u5bf9\u4e8e\u6b63\u786e\u89e3\u91ca\u7c92\u5b50\u8f68\u8ff9\u3001\u89d2\u5ea6\u7b49\u7269\u7406\u91cf\u81f3\u5173\u91cd\u8981\u3002\u7528\u6237\u5e94\u67e5\u9605\u5176\u5408\u4f5c\u7ec4\u6216 ANAROOT \u7684\u76f8\u5173\u6587\u6863\u4ee5\u83b7\u53d6\u63a8\u8350\u7684\u5750\u6807\u7cfb\u6807\u51c6\u3002 \u7b2c\u56db\u7ae0\uff1aANAROOT \u57fa\u672c\u4f7f\u7528\u65b9\u6cd5 \u672c\u7ae0\u4ecb\u7ecd ANAROOT \u7684\u57fa\u672c\u64cd\u4f5c\u65b9\u5f0f\uff0c\u5305\u62ec\u547d\u4ee4\u884c\u754c\u9762\u3001\u7528\u6237\u5206\u6790\u5b8f TArtAnaLoop \u7684\u7f16\u5199\u548c\u4f7f\u7528\uff0c\u4ee5\u53ca\u5982\u4f55\u8c03\u7528\u6570\u636e\u89e3\u7801\u3001\u523b\u5ea6\u548c\u91cd\u5efa\u4f8b\u7a0b\u3002 4.1 ANAROOT \u547d\u4ee4\u884c\u754c\u9762\u4e0e\u57fa\u672c\u64cd\u4f5c ANAROOT \u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u4e8e\u547d\u4ee4\u884c\u7684\u7528\u6237\u754c\u9762 (CUI)\uff0c\u5176\u90e8\u5206\u547d\u4ee4\u98ce\u683c\u7c7b\u4f3c\u4e8e\u65e9\u671f\u7684 ANAPAW \u5206\u6790\u8f6f\u4ef6\uff0c\u8fd9\u662f\u901a\u8fc7\u96c6\u6210\u7684 Nadeko \u5e93\u5b9e\u73b0\u7684 \u3002\u8fd9\u4e2a\u754c\u9762\u5141\u8bb8\u7528\u6237\u4ee5\u4ea4\u4e92\u65b9\u5f0f\u63a7\u5236\u5206\u6790\u6d41\u7a0b\u3001\u7ba1\u7406\u6570\u636e\u6587\u4ef6\u548c\u76f4\u65b9\u56fe\u3002 \u5206\u6790\u7ba1\u7406\u547d\u4ee4 7:</p> <ul> <li>book(TArtAnaLoop* analoop, const char* anafilename = 0): \u6ce8\u518c\u7528\u6237\u5b9a\u4e49\u7684 TArtAnaLoop \u6d3e\u751f\u7c7b\u5bf9\u8c61 (analoop) \u548c\u53ef\u9009\u7684 Anafile (anafilename) \u5230 TArtAnaLoopManager\u3002\u8fd9\u662f\u542f\u52a8\u5206\u6790\u524d\u7684\u91cd\u8981\u521d\u59cb\u5316\u6b65\u9aa4\u3002  </li> <li>push(const char* filename, int eventnumber = -1): \u5c06\u6307\u5b9a\u7684 RIDF \u6570\u636e\u6587\u4ef6 (filename) \u6dfb\u52a0\u5230\u5f85\u5904\u7406\u7684\u6587\u4ef6\u6808\u4e2d\u3002eventnumber \u53c2\u6570\u53ef\u4ee5\u9650\u5236\u5904\u7406\u7684\u4e8b\u4ef6\u6570\u3002\u5bf9\u4e8e\u5728\u7ebf\u5206\u6790\uff0c\u53ef\u4ee5\u4f7f\u7528 push(int sid = 0, int eventnumber = -1)\uff0c\u5176\u4e2d sid \u662f\u5171\u4eab\u5185\u5b58 ID\u3002  </li> <li>spush(const char* filename_start, const char* filename_end, int start, int end, int width = 4, char fill = '0'): \u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2a\u5177\u6709\u76f8\u4f3c\u547d\u540d\u89c4\u5f8b\u7684 RIDF \u6587\u4ef6\u5230\u6808\u4e2d\u3002\u4f8b\u5982\uff0cspush(\"ridf/run\", \".ridf\", 1, 11) \u4f1a\u6dfb\u52a0 ridf/run0001.ridf \u5230 ridf/run0011.ridf\u3002  </li> <li>pop(int i): \u4ece\u6587\u4ef6\u6808\u4e2d\u79fb\u9664\u6307\u5b9a\u7d22\u5f15\u7684\u6587\u4ef6\u3002  </li> <li>start(): \u542f\u52a8\u5206\u6790\u6d41\u7a0b\u3002\u9996\u6b21\u8c03\u7528\u65f6\uff0c\u4f1a\u6267\u884c\u5df2 book \u7684 TArtAnaLoop \u5bf9\u8c61\u7684 Construct() \u65b9\u6cd5\u3002  </li> <li>stop(): \u6682\u505c\u6b63\u5728\u8fdb\u884c\u7684\u5206\u6790\u3002\u53ef\u4ee5\u4f7f\u7528 start() \u547d\u4ee4\u6062\u590d\u3002  </li> <li>next(): \u8df3\u8fc7\u5f53\u524d RIDF \u6587\u4ef6\u4e2d\u5269\u4f59\u7684\u4e8b\u4ef6\uff0c\u5f00\u59cb\u5904\u7406\u6587\u4ef6\u6808\u4e2d\u7684\u4e0b\u4e00\u4e2a\u6587\u4ef6\u3002  </li> <li>join(): \u5728\u5b8f\u6a21\u5f0f\u4e0b\u4f7f\u7528\u65f6\uff0c\u6b64\u547d\u4ee4\u4f1a\u4f7f\u4e3b\u7ebf\u7a0b\u7b49\u5f85\u540e\u53f0\u8fd0\u884c\u7684\u5206\u6790\u4efb\u52a1\u5b8c\u6210\u3002\u8fd9\u8868\u660e\u5206\u6790\u8fc7\u7a0b\u53ef\u80fd\u5728\u72ec\u7acb\u7684\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u5728\u7ebf\u5206\u6790\u548c GUI \u66f4\u65b0\u3002  </li> <li>end(): \u7ed3\u675f\u5f53\u524d\u5206\u6790\u3002\u4f1a\u8c03\u7528 TArtAnaLoop \u5bf9\u8c61\u7684 Destruct() \u65b9\u6cd5\u3002  </li> <li>clear(): \u6e05\u9664\u6240\u6709\u5df2\u521b\u5efa\u7684\u76f4\u65b9\u56fe\uff0c\u5e76\u9500\u6bc1 TArtAnaLoopManager \u5bf9\u8c61\uff0c\u91cd\u7f6e\u5206\u6790\u73af\u5883\u3002  </li> <li>status(): \u6253\u5370\u5f53\u524d\u5206\u6790\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5982\u6587\u4ef6\u6808\u5185\u5bb9\u3001\u5df2\u5904\u7406\u4e8b\u4ef6\u6570\u7b49\u3002</li> </ul> <p>\u76f4\u65b9\u56fe\u7ba1\u7406\u547d\u4ee4 7: \u8fd9\u4e9b\u547d\u4ee4\u4e3b\u8981\u7528\u4e8e\u7ba1\u7406\u548c\u663e\u793a\u5df2\u7ecf\u7531\u7528\u6237\u5728 TArtAnaLoop \u903b\u8f91\u4e2d\u521b\u5efa\u548c\u586b\u5145\u7684 ROOT TH1 \u5bf9\u8c61\u3002</p> <ul> <li>fetch(char* filename): \u4ece\u6307\u5b9a\u7684 ROOT \u6587\u4ef6 (filename) \u4e2d\u8bfb\u53d6\u6240\u6709 TH1 \u5bf9\u8c61\u5230\u5f53\u524d\u7684 ROOT \u5185\u5b58\u76ee\u5f55\u3002  </li> <li>hstore(char* filename): \u5c06\u5f53\u524d ROOT \u5185\u5b58\u76ee\u5f55\u4e2d\u7684\u6240\u6709 TH1 \u5bf9\u8c61\u5199\u5165\u5230\u6307\u5b9a\u7684 ROOT \u6587\u4ef6 (filename)\u3002  </li> <li>hdel(): \u5220\u9664\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u76f4\u65b9\u56fe\u3002\u4e5f\u53ef\u4ee5\u6309 ID (hdel(int id)) \u6216 ID \u8303\u56f4 (hdel(int idstart, int idend)) \u5220\u9664\u3002  </li> <li>erase(): \u91cd\u7f6e (Reset) \u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u76f4\u65b9\u56fe\u5185\u5bb9\uff0c\u4f46\u4e0d\u5220\u9664\u5bf9\u8c61\u672c\u8eab\u3002  </li> <li>ls(): \u663e\u793a\u5f53\u524d ROOT \u76ee\u5f55\u4e2d\u76f4\u65b9\u56fe\u7684\u5217\u8868\uff08\u7c7b\u4f3c\u4e8e shell \u7684 ls \u547d\u4ee4\uff09\u3002  </li> <li>ht(int id, Option_t* option = \"\"): \u6309 ID \u7ed8\u5236\u6307\u5b9a\u7684\u76f4\u65b9\u56fe\u3002option \u53c2\u6570\u53ef\u4ee5\u4f20\u9012\u7ed9 ROOT \u7684 Draw() \u65b9\u6cd5\uff0c\u5982 \"SAME\", \"COLZ\" \u7b49\u3002\u4e5f\u53ef\u4ee5\u7528 ht(int idstart, int idend) \u7ed8\u5236\u4e00\u5b9a\u8303\u56f4\u5185\u7684\u76f4\u65b9\u56fe\u3002  </li> <li>htp(): \u7ed8\u5236\u5f53\u524d\u6d3b\u52a8\u7684\u76f4\u65b9\u56fe\u3002  </li> <li>hn(): \u7ed8\u5236\u4e0b\u4e00\u4e2a\u76f4\u65b9\u56fe\uff08\u6309\u67d0\u79cd\u5185\u90e8\u987a\u5e8f\uff09\u3002  </li> <li>hb(): \u7ed8\u5236\u4e0a\u4e00\u4e2a\u76f4\u65b9\u56fe\u3002  </li> <li>hht, hhtp, hhn, hhb: \u8fd9\u4e9b\u662f\u5bf9\u5e94 ht, htp, hn, hb \u7684 \"\u975e\u79fb\u52a8\u753b\u5e03\" \u7248\u672c\uff0c\u5373\u5728\u5f53\u524d TPad \u4e2d\u7ed8\u56fe\u800c\u4e0d\u5207\u6362 TPad\u3002  </li> <li>sh(): \u63d0\u4f9b\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7684\u76f4\u65b9\u56fe\u6d4f\u89c8\u6a21\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u952e\u76d8\u6309\u952e\uff08\u5982 'n' \u4ee3\u8868\u4e0b\u4e00\u4e2a\uff0c'p' \u4ee3\u8868\u4e0a\u4e00\u4e2a\uff09\u5207\u6362\u663e\u793a\u7684\u76f4\u65b9\u56fe\u3002</li> </ul> <p>\u8fd9\u4e9b\u547d\u4ee4\u6784\u6210\u4e86 ANAROOT \u4ea4\u4e92\u5f0f\u5206\u6790\u7684\u57fa\u7840\u3002\u7528\u6237\u901a\u8fc7 book \u6ce8\u518c\u5206\u6790\u903b\u8f91\uff0c\u901a\u8fc7 push \u6dfb\u52a0\u6570\u636e\uff0c\u901a\u8fc7 start \u8fd0\u884c\u5206\u6790\uff0c\u5e76\u901a\u8fc7 hstore \u4fdd\u5b58\u7ed3\u679c\u3002\u76f4\u65b9\u56fe\u7684\u521b\u5efa\u548c\u586b\u5145\u903b\u8f91\u5219\u5c01\u88c5\u5728\u7528\u6237\u81ea\u5b9a\u4e49\u7684 TArtAnaLoop \u7c7b\u4e2d\u3002\u5bf9\u4e8e\u5728\u7ebf\u5206\u6790\uff0cAnaLoop \u7684\u8bbe\u8ba1\u5141\u8bb8\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u7ebf\u7a0b\u4e2d\u586b\u5145\u76f4\u65b9\u56fe\u548c\u6811\uff0c\u8fd9\u6837\u7528\u6237\u53ef\u4ee5\u5728\u6570\u636e\u83b7\u53d6\u8fc7\u7a0b\u4e2d\u5b9e\u65f6\u67e5\u770b\u548c\u66f4\u65b0\u663e\u793a\uff0c\u8fd9\u5bf9\u4e8e\u76d1\u63a7\u5b9e\u9a8c\u72b6\u6001\u81f3\u5173\u91cd\u8981 10\u3002 4.2 \u7f16\u5199\u7528\u6237\u5206\u6790\u5b8f\uff1aTArtAnaLoop TArtAnaLoop \u662f ANAROOT \u4e2d\u7528\u6237\u5b9e\u73b0\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5904\u7406\u903b\u8f91\u7684\u6838\u5fc3\u673a\u5236 6\u3002\u5b83\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff0c\u7528\u6237\u9700\u8981\u901a\u8fc7\u7ee7\u627f\u5b83\u5e76\u91cd\u5199\u5176\u5b9a\u4e49\u7684\u865a\u51fd\u6570\u6765\u6784\u5efa\u81ea\u5df1\u7684\u5206\u6790\u4f8b\u7a0b\u3002 TArtAnaLoop \u7684\u4e3b\u8981\u865a\u51fd\u6570\u53ca\u5176\u4f5c\u7528 6\uff1a</p> <ul> <li>Construct(): \u6b64\u51fd\u6570\u5728\u5206\u6790\u5f00\u59cb\u65f6\uff08\u5373\u9996\u6b21\u8c03\u7528 start() \u547d\u4ee4\u540e\uff09\u88ab\u8c03\u7528\u4e00\u6b21\u3002\u4e3b\u8981\u7528\u4e8e\u6267\u884c\u5206\u6790\u524d\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u4f8b\u5982\uff1a  </li> <li>\u521b\u5efa\u548c\u914d\u7f6e\u63a2\u6d4b\u5668\u523b\u5ea6\u5bf9\u8c61 (\u5982 new TArtCalibNEBULA(), new TArtCalibPPAC())\u3002  </li> <li>\u5c06\u9700\u8981\u4ece\u53c2\u6570\u6587\u4ef6\u52a0\u8f7d\u53c2\u6570\u7684\u5bf9\u8c61\u6ce8\u518c\u5230 TArtStoreManager (\u4f8b\u5982\uff0c\u901a\u8fc7 TArtStoreManager::Instance()-&gt;AddParameters(myCalibObject))\u3002  </li> <li>\u521b\u5efa\u548c\u9884\u8ba2 (book) ROOT \u76f4\u65b9\u56fe (TH1, TH2 \u7b49) \u548c N\u5143\u7ec4 (TTree)\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u5728\u5168\u5c40\u7684 book \u51fd\u6570 (\u5982\u679c\u91cd\u5199\u7684\u8bdd) \u4e2d\u521b\u5efa\u76f4\u65b9\u56fe\uff0c\u4f46\u5728 Construct() \u4e2d\u521b\u5efa\u4e5f\u662f\u5e38\u89c1\u7684\u505a\u6cd5\uff0c\u5982 TArtAnaLoopUser.C \u6240\u793a\u4f8b\u3002  </li> <li>Calculate(): \u8fd9\u662f\u4e8b\u4ef6\u5faa\u73af\u7684\u6838\u5fc3\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u90fd\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21\u3002\u7528\u6237\u5728\u6b64\u51fd\u6570\u4e2d\u7f16\u5199\u9010\u4e8b\u4ef6\u7684\u5904\u7406\u903b\u8f91\uff0c\u4f8b\u5982\uff1a  </li> <li>\u8c03\u7528\u523b\u5ea6\u5bf9\u8c61\u7684 ClearData() \u548c ReconstructData() \u65b9\u6cd5\u3002  </li> <li>\u4ece TArtStoreManager \u83b7\u53d6\u89e3\u7801\u3001\u523b\u5ea6\u6216\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bb9\u5668\u3002  </li> <li>\u6839\u636e\u83b7\u53d6\u7684\u6570\u636e\u586b\u5145\u5728 Construct() \u4e2d\u521b\u5efa\u7684\u76f4\u65b9\u56fe\u548c N\u5143\u7ec4\u3002  </li> <li>\u6267\u884c\u7528\u6237\u7279\u5b9a\u7684\u7269\u7406\u5206\u6790\u548c\u5224\u9009\u3002 \u7531\u4e8e\u6b64\u51fd\u6570\u4f1a\u88ab\u9891\u7e41\u8c03\u7528\uff0c\u5176\u4ee3\u7801\u6548\u7387\u81f3\u5173\u91cd\u8981\u3002  </li> <li>Destruct(): \u6b64\u51fd\u6570\u5728\u5206\u6790\u7ed3\u675f\u65f6\uff08\u5373\u8c03\u7528 end() \u547d\u4ee4\u540e\uff09\u88ab\u8c03\u7528\u4e00\u6b21\u3002\u4e3b\u8981\u7528\u4e8e\u6267\u884c\u6e05\u7406\u5de5\u4f5c\uff0c\u4f8b\u5982\uff1a  </li> <li>\u91ca\u653e\uff08delete\uff09\u5728 Construct() \u4e2d\u52a8\u6001\u521b\u5efa\u7684\u5bf9\u8c61\uff08\u5982\u523b\u5ea6\u5bf9\u8c61\uff09\u3002\u8fd9\u5bf9\u4e8e\u5728\u540c\u4e00\u4e2a ROOT \u4f1a\u8bdd\u4e2d\u591a\u6b21\u8fd0\u884c\u5206\u6790\uff08\u591a\u6b21 book\uff09\u975e\u5e38\u91cd\u8981\uff0c\u4ee5\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u3002  </li> <li>ROOT \u76f4\u65b9\u56fe\u901a\u5e38\u7531 gDirectory \u7ba1\u7406\uff0c\u5982\u679c\u5b83\u4eec\u88ab\u6b63\u786e\u6dfb\u52a0\u5230\u76ee\u5f55\u4e2d\uff0c\u5219\u4e0d\u9700\u8981\u624b\u52a8\u5220\u9664\u3002\u4f46\u5982\u679c\u7528\u6237\u4f7f\u7528 new \u521b\u5efa\u4e14\u672a\u4ea4\u7531 ROOT \u7ba1\u7406\uff0c\u5219\u9700\u5728\u6b64\u5904 delete\u3002  </li> <li>ClassName() const: \u8fd9\u4e2a\u51fd\u6570\u4ec5\u7528\u4e8e\u5728 status() \u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u663e\u793a\u5f53\u524d AnaLoop \u7c7b\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u7528\u6237\u8bc6\u522b\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49 AnaLoop \u7c7b\u7684\u57fa\u672c\u9aa8\u67b6\uff1a</p> <p>C++</p> <p>#include \"TArtAnaLoop.hh\" #include \"TArtStoreManager.hh\" // \u6839\u636e\u9700\u8981\u5305\u542b\u5176\u4ed6 ANAROOT \u5934\u6587\u4ef6 (\u5982 TArtCalibNEBULA.hh, TArtNEBULAPla.hh) // \u4ee5\u53ca ROOT \u5934\u6587\u4ef6 (\u5982 TH1F.h, TFile.h)</p> <p>class MyCustomAnaLoop : public TArtAnaLoop { public:     MyCustomAnaLoop() : TArtAnaLoop() { /* \u53ef\u9009\uff1a\u521d\u59cb\u5316\u7b80\u5355\u6210\u5458 */ }     ~MyCustomAnaLoop() override { Destruct(); } // \u786e\u4fdd\u8c03\u7528 Destruct</p> <pre><code>void Construct() override {  \n    // std::cout \\&lt;\\&lt; \"Constructing MyCustomAnaLoop\" \\&lt;\\&lt; std::endl;  \n    TArtStoreManager\\* sm \\= TArtStoreManager::Instance();\n\n    // \u793a\u4f8b\uff1a\u521b\u5efa\u523b\u5ea6\u5bf9\u8c61  \n    // calibNEBULA \\= new TArtCalibNEBULA();  \n    // sm-\\&gt;AddParameters(calibNEBULA); // \u5982\u679c calibNEBULA \u9700\u8981\u4eceXML\u52a0\u8f7d\u53c2\u6570\n\n    // \u793a\u4f8b\uff1a\u9884\u8ba2\u76f4\u65b9\u56fe  \n    // h\\_neutron\\_tof \\= new TH1F(\"h\\_neutron\\_tof\", \"Neutron TOF;TOF (ns);Counts\", 1000, 0, 1000);  \n    // h\\_ppac\\_x \\= new TH1F(\"h\\_ppac\\_x\", \"PPAC X Position;X (mm);Counts\", 500, \\-250, 250);  \n}\n\nvoid Calculate() override {  \n    TArtStoreManager\\* sm \\= TArtStoreManager::Instance();  \n    // TArtEventStore\\* estore \\= (TArtEventStore\\*)sm-\\&gt;FindObject(\"EventStore\"); // \u901a\u5e38\u7531\u6846\u67b6\u7ba1\u7406\u4e8b\u4ef6\u83b7\u53d6\n\n    // \u793a\u4f8b\uff1a\u8c03\u7528\u523b\u5ea6/\u91cd\u5efa (\u5047\u8bbe calibNEBULA \u662f\u6210\u5458\u53d8\u91cf)  \n    // if (calibNEBULA) {  \n    //     calibNEBULA-\\&gt;ClearData();  \n    //     calibNEBULA-\\&gt;ReconstructData();  \n    // }\n\n    // \u793a\u4f8b\uff1a\u4ece StoreManager \u83b7\u53d6\u6570\u636e\u5bb9\u5668  \n    // TClonesArray\\* nebulaplas \\= (TClonesArray\\*)sm-\\&gt;FindDataContainer(\"NEBULAPla\");  \n    // if (nebulaplas) {  \n    //     for (int i \\= 0; i \\&lt; nebulaplas-\\&gt;GetEntriesFast(); \\++i) {  \n    //         TArtNEBULAPla\\* pla \\= (TArtNEBULAPla\\*)nebulaplas-\\&gt;At(i);  \n    //         if (pla &amp;&amp; pla-\\&gt;GetHit()) { // \u68c0\u67e5\u662f\u5426\u662f\u6709\u6548\u51fb\u4e2d  \n    //             // h\\_neutron\\_tof-\\&gt;Fill(pla-\\&gt;GetTOF()); // \u5047\u8bbe GetTOF() \u8fd4\u56de\u523b\u5ea6\u540e\u7684 TOF  \n    //         }  \n    //     }  \n    // }\n\n    // \u793a\u4f8b\uff1a\u83b7\u53d6 PPAC \u6570\u636e (\u5047\u8bbe\u5df2\u901a\u8fc7 TArtCalibPID \u6216\u7c7b\u4f3c\u8fc7\u7a0b\u5904\u7406)  \n    // TClonesArray\\* ppacs \\= (TClonesArray\\*)sm-\\&gt;FindDataContainer(\"BigRIPSPPAC\"); // \u540d\u79f0\u53d6\u51b3\u4e8e\u6ce8\u518c\u65b9\u5f0f  \n    // if (ppacs) {  \n    //     for (int i \\= 0; i \\&lt; ppacs-\\&gt;GetEntriesFast(); \\++i) {  \n    //         TArtPPAC\\* ppac \\= (TArtPPAC\\*)ppacs-\\&gt;At(i);  \n    //         // if (ppac &amp;&amp; strcmp(ppac-\\&gt;GetDetectorName()-\\&gt;Data(), \"F3PPAC1A\") \\== 0\\) {  \n    //         //     h\\_ppac\\_x-\\&gt;Fill(ppac-\\&gt;GetX());  \n    //         // }  \n    //     }  \n    // }  \n}\n\nvoid Destruct() override {  \n    // std::cout \\&lt;\\&lt; \"Destructing MyCustomAnaLoop\" \\&lt;\\&lt; std::endl;  \n    // delete calibNEBULA; calibNEBULA \\= nullptr;  \n    // \u76f4\u65b9\u56fe\u901a\u5e38\u7531 ROOT \u7684 gDirectory \u7ba1\u7406\uff0c\u9664\u975e\u7279\u6b8a\u60c5\u51b5\uff0c\u5426\u5219\u4e0d\u9700\u8981\u624b\u52a8 delete  \n}\n\nconst char\\* ClassName() const override { return \"MyCustomAnaLoop\"; }\n</code></pre> <p>private:     // \u5728\u6b64\u58f0\u660e\u6210\u5458\u53d8\u91cf\u6307\u9488\uff0c\u7528\u4e8e\u5b58\u50a8\u523b\u5ea6\u5bf9\u8c61\u3001\u76f4\u65b9\u56fe\u7b49     // TArtCalibNEBULA* calibNEBULA = nullptr;     // TH1F* h_neutron_tof = nullptr;     // TH1F* h_ppac_x = nullptr; };</p> <p>4.3 \u7f16\u5199\u81ea\u5b9a\u4e49 TArtAnaLoop \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u4e3b\u8981\u65b9\u5f0f\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 TArtAnaLoop \u6d3e\u751f\u7c7b 6\uff1a</p> <ol> <li>\u5185\u7f6e\u5230\u5e93\u4e2d (Built-in to library): </li> <li>\u5c06\u81ea\u5b9a\u4e49 AnaLoop \u7c7b\u7684\u5934\u6587\u4ef6 (.hh) \u548c\u6e90\u6587\u4ef6 (.cc \u6216 .C) \u653e\u7f6e\u5728 ANAROOT \u6e90\u4ee3\u7801\u6811\u7684\u76f8\u5e94\u76ee\u5f55\u4e0b\uff08\u901a\u5e38\u662f $ANAROOT_SYS/source/AnaLoop/include \u548c $ANAROOT_SYS/source/AnaLoop/src\uff09\u3002  </li> <li>\u4fee\u6539 ANAROOT \u7684\u6784\u5efa\u7cfb\u7edf\uff08\u5982 Makefile \u6216 CMakeLists.txt\uff09\u4ee5\u5305\u542b\u8fd9\u4e9b\u65b0\u6587\u4ef6\uff0c\u5e76\u91cd\u65b0\u7f16\u8bd1\u6574\u4e2a ANAROOT \u5e93\u3002  </li> <li>\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u4e8e\u5f00\u53d1\u7a33\u5b9a\u3001\u901a\u7528\u7684\u5206\u6790\u6a21\u5757\uff0c\u6216\u8005\u5f53\u5e0c\u671b\u5c06\u5206\u6790\u903b\u8f91\u4f5c\u4e3a\u9ed1\u76d2\u63d0\u4f9b\u7ed9\u5176\u4ed6\u7528\u6237\u65f6\u3002  </li> <li>\u5728\u5206\u6790\u76ee\u5f55\u4e2d\u521b\u5efa\u5b8f\u5e76\u52a8\u6001\u52a0\u8f7d (Create macro in analysis directory and load dynamically): </li> <li>\u8fd9\u662f\u66f4\u5e38\u7528\u548c\u7075\u6d3b\u7684\u65b9\u5f0f\uff0c\u7279\u522b\u9002\u5408\u4e8e\u7528\u6237\u9891\u7e41\u4fee\u6539\u548c\u8c03\u8bd5\u5206\u6790\u4ee3\u7801\u7684\u573a\u666f\u3002  </li> <li>\u7528\u6237\u5c06\u81ea\u5b9a\u4e49 AnaLoop \u7c7b\u7684\u4ee3\u7801\uff08\u4f8b\u5982 MyCustomAnaLoop.C\uff09\u653e\u5728\u5176\u5b9e\u9a8c\u5206\u6790\u7684\u5de5\u4f5c\u76ee\u5f55\u4e0b\u3002  </li> <li>\u5728 ROOT \u4f1a\u8bdd\u4e2d\uff0c\u4f7f\u7528 .L \u547d\u4ee4\u52a8\u6001\u52a0\u8f7d\u5e76\u7f16\u8bd1\u8fd9\u4e2a\u5b8f\uff1a      C++      root.L MyCustomAnaLoop.C+      \u6ce8\u610f\u547d\u4ee4\u672b\u5c3e\u7684 + \u53f7\u3002\u5b83\u6307\u793a ROOT \u4f7f\u7528 ACLiC (Automatic Compiler of Libraries for CINT) \u6765\u7f16\u8bd1\u8be5 C++ \u6587\u4ef6\u5e76\u751f\u6210\u4e00\u4e2a\u5171\u4eab\u5e93\uff0c\u7136\u540e\u52a0\u8f7d\u8fd9\u4e2a\u5e93\u3002\u8fd9\u5141\u8bb8\u7528\u6237\u5728\u5b8f\u4e2d\u4f7f\u7528\u5b8c\u6574\u7684 C++ \u8bed\u6cd5\uff0c\u5305\u62ec\u6a21\u677f\u3001\u7c7b\u7b49\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f CINT \u89e3\u91ca\u5668\u652f\u6301\u7684\u5b50\u96c6\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c.x MyCustomAnaLoop.C \u547d\u4ee4\u662f\u76f4\u63a5\u7531 CINT \u89e3\u91ca\u6267\u884c\uff0c\u529f\u80fd\u53d7\u9650\uff0c\u4e0d\u9002\u5408\u52a0\u8f7d\u7c7b\u5b9a\u4e49\u3002  </li> <li> <p>\u52a8\u6001\u52a0\u8f7d\u540e\uff0c\u5c31\u53ef\u4ee5\u5728 book \u547d\u4ee4\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u4e86\uff1a      C++      root book(new MyCustomAnaLoop(), \"myanalysis.ana\"); // \u53ef\u9009\u7684 anafile      root push(\"data/run0001.ridf\");      root start();</p> </li> <li> <p>ANAROOT \u63d0\u4f9b\u4e86\u4e00\u4e9b\u793a\u4f8b AnaLoop \u7c7b\uff0c\u5982 TArtAnaLoopUser.C 6 \u548c TAlRawDataExample.C 10\uff0c\u5b83\u4eec\u662f\u5b66\u4e60\u548c\u4fee\u6539\u7684\u826f\u597d\u8d77\u70b9\u3002\u7528\u6237\u751a\u81f3\u53ef\u4ee5\u901a\u8fc7 ANAROOT \u63d0\u4f9b\u7684\u811a\u672c\uff08\u5982 getAnaLoop.sh TAlRawDataExample 10\uff09\u83b7\u53d6\u8fd9\u4e9b\u793a\u4f8b\u4ee3\u7801\u7684\u526f\u672c\uff0c\u7136\u540e\u5728\u526f\u672c\u57fa\u7840\u4e0a\u8fdb\u884c\u5f00\u53d1\u3002</p> </li> </ol> <p>4.4 \u6570\u636e\u89e3\u7801\u3001\u523b\u5ea6\u4e0e\u91cd\u5efa\u7684\u8c03\u7528 \u5728\u7528\u6237\u81ea\u5b9a\u4e49\u7684 TArtAnaLoop::Calculate() \u65b9\u6cd5\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u6309\u987a\u5e8f\u8c03\u7528\u6570\u636e\u5904\u7406\u7684\u5404\u4e2a\u9636\u6bb5 3\u3002ANAROOT \u7684\u8bbe\u8ba1\u671f\u671b\u7528\u6237\u9075\u5faa\u4e00\u4e2a\u4e09\u6b65\u5206\u6790\u6d41\u7a0b\u6765\u8bbf\u95ee\u523b\u5ea6\u548c\u91cd\u5efa\u540e\u7684\u6570\u636e 5\uff1a</p> <ol> <li>\u6570\u636e\u89e3\u7801 (Decoding): </li> <li>\u8fd9\u4e00\u6b65\u901a\u5e38\u7531 TArtEventStore \u5728\u5176\u5185\u90e8\u7684 GetNextEvent() \u65b9\u6cd5\u4e2d\u9690\u5f0f\u5b8c\u6210\u3002\u5f53 GetNextEvent() \u88ab\u8c03\u7528\u65f6\uff0c\u539f\u59cb\u7684 RIDF \u6570\u636e\u88ab\u8bfb\u53d6\u5e76\u89e3\u7801\u6210 TArtRawEventObject\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u5404\u4e2a\u63a2\u6d4b\u5668\u901a\u9053\u7684\u539f\u59cb\u6570\u636e (TArtRawDataObject)\u3002\u8fd9\u4e9b\u539f\u59cb\u6570\u636e\u5bf9\u8c61\u4f1a\u88ab\u6ce8\u518c\u5230 TArtStoreManager\uff0c\u6216\u8005\u53ef\u4ee5\u76f4\u63a5\u4ece TArtEventStore \u83b7\u53d6\uff08\u5c3d\u7ba1\u540e\u8005\u4e0d\u5e38\u89c1\u4e8e\u7528\u6237\u4ee3\u7801\uff09\u3002  </li> <li>\u6570\u636e\u523b\u5ea6 (Calibration): </li> <li>\u7528\u6237\u9700\u8981\u5728 TArtAnaLoop::Construct() \u65b9\u6cd5\u4e2d\u521b\u5efa\u5176\u5b9e\u9a8c\u8bbe\u7f6e\u6240\u9700\u7684\u5404\u79cd TArtCalibXXX \u5bf9\u8c61\uff08\u4f8b\u5982 TArtCalibPPAC, TArtCalibPlastic, TArtCalibIC for BigRIPS; TArtCalibNEBULA for NEBULA\uff09\u3002  </li> <li>\u5982\u679c\u8fd9\u4e9b\u523b\u5ea6\u7c7b\u9700\u8981\u4ece XML \u6587\u4ef6\u52a0\u8f7d\u53c2\u6570\uff0c\u5b83\u4eec\u5e94\u8be5\u88ab\u6dfb\u52a0\u5230 TArtStoreManager \u7684\u53c2\u6570\u5217\u8868\u4e2d\uff08\u4f8b\u5982 sm-&gt;AddParameters(calibPPAC);\uff09\u3002  </li> <li>\u5728 TArtAnaLoop::Calculate() \u7684\u6bcf\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5f00\u59cb\u65f6\uff0c\u7528\u6237\u9700\u8981\u4e3a\u6bcf\u4e2a\u76f8\u5173\u7684\u523b\u5ea6\u5bf9\u8c61\u8c03\u7528\u5176 ClearData() \u65b9\u6cd5\uff0c\u4ee5\u6e05\u9664\u524d\u4e00\u4e2a\u4e8b\u4ef6\u7684\u6b8b\u7559\u6570\u636e\u3002  </li> <li>\u7136\u540e\uff0c\u8c03\u7528\u523b\u5ea6\u5bf9\u8c61\u7684 ReconstructData() \u65b9\u6cd5\uff08\u6ce8\u610f\uff1a\u5c3d\u7ba1\u540d\u4e3a \"ReconstructData\"\uff0c\u5bf9\u4e8e TArtCalibXXX \u7c7b\uff0c\u8fd9\u901a\u5e38\u6307\u7684\u662f\u6267\u884c\u523b\u5ea6\u8fc7\u7a0b\uff09\u3002\u6b64\u65b9\u6cd5\u4f1a\u4ece TArtStoreManager \u6216\u5176\u4ed6\u6765\u6e90\u83b7\u53d6\u539f\u59cb\u6570\u636e\uff0c\u5e94\u7528\u523b\u5ea6\u53c2\u6570\uff0c\u5e76\u5c06\u523b\u5ea6\u540e\u7684\u6570\u636e\uff08\u5982 TArtPPAC \u5bf9\u8c61\uff09\u586b\u5145\u5230\u76f8\u5e94\u7684 TClonesArray \u4e2d\uff0c\u8fd9\u4e9b\u6570\u7ec4\u4e5f\u4f1a\u88ab\u6ce8\u518c\u5230 TArtStoreManager\u3002  </li> <li>\u6570\u636e\u91cd\u5efa (Reconstruction): </li> <li>\u67d0\u4e9b\u66f4\u9ad8\u7ea7\u7684\u7269\u7406\u91cf\uff08\u5982\u7c92\u5b50\u7684\u98de\u884c\u65f6\u95f4 TOF\u3001\u5f84\u8ff9\u53c2\u6570\u3001A/Q\u3001Z \u7b49\uff09\u7684\u91cd\u5efa\uff0c\u53ef\u80fd\u7531\u4e13\u95e8\u7684 TArtRecoXXX \u7c7b\uff08\u5982 TArtRecoTOF, TArtRecoRIPS\uff09\u6216\u529f\u80fd\u66f4\u5168\u9762\u7684\u6821\u51c6/\u91cd\u5efa\u7c7b\uff08\u5982 TArtCalibPID\uff0c\u5b83\u5185\u90e8\u53ef\u80fd\u534f\u8c03\u591a\u4e2a TArtCalibXXX \u548c TArtRecoXXX \u5b50\u6a21\u5757\uff09\u6765\u5b8c\u6210\u3002  </li> <li>\u8fd9\u4e9b\u91cd\u5efa\u7c7b\u7684\u5bf9\u8c61\u540c\u6837\u5728 TArtAnaLoop::Construct() \u4e2d\u521b\u5efa\u548c\u914d\u7f6e\u3002  </li> <li>\u5728 TArtAnaLoop::Calculate() \u4e2d\uff0c\u5728\u76f8\u5e94\u7684\u523b\u5ea6\u6b65\u9aa4\u5b8c\u6210\u4e4b\u540e\uff0c\u8c03\u7528\u8fd9\u4e9b\u91cd\u5efa\u7c7b\u7684 ClearData() \u548c ReconstructData() \u65b9\u6cd5\u3002  </li> <li>\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bf9\u8c61\uff08\u5982 TArtTOF, TArtRIPS, TArtBeam\uff09\u4e5f\u4f1a\u88ab\u6ce8\u518c\u5230 TArtStoreManager\uff0c\u4f9b\u7528\u6237\u5728\u5206\u6790\u7684\u6700\u540e\u9636\u6bb5\u4f7f\u7528\u3002</li> </ol> <p>\u7528\u6237\u901a\u8fc7\u5728 AnaLoop \u4e2d\u6309\u6b63\u786e\u7684\u987a\u5e8f\u548c\u4f9d\u8d56\u5173\u7cfb\u7ec4\u7ec7\u8fd9\u4e9b\u8c03\u7528\uff0c\u6765\u6784\u5efa\u4ece\u539f\u59cb\u6570\u636e\u5230\u6700\u7ec8\u7269\u7406\u7ed3\u679c\u7684\u5b8c\u6574\u5904\u7406\u94fe\u3002TArtStoreManager \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5145\u5f53\u4e86\u4e0d\u540c\u6a21\u5757\u95f4\u6570\u636e\u4ea4\u6362\u7684\u6865\u6881\u3002 4.5 ANAROOT \u5de5\u4f5c\u6d41\u5206\u6790 ANAROOT \u7684\u5206\u6790\u5de5\u4f5c\u6d41\u901a\u5e38\u56f4\u7ed5\u7740\u7528\u6237\u5b9a\u4e49\u7684 TArtAnaLoop \u6d3e\u751f\u7c7b\u5c55\u5f00\uff0c\u5e76\u901a\u8fc7\u547d\u4ee4\u884c\u754c\u9762 (CUI) \u6216 ROOT \u5b8f\u8fdb\u884c\u63a7\u5236\u3002\u5176\u6838\u5fc3\u601d\u60f3\u662f\u5c06\u6570\u636e\u5904\u7406\u6d41\u7a0b\u6a21\u5757\u5316\uff0c\u5e76\u901a\u8fc7 TArtStoreManager \u5b9e\u73b0\u6570\u636e\u5171\u4eab 3\u3002 4.5.1 \u5178\u578b\u5206\u6790\u6d41\u7a0b \u4e00\u4e2a\u5178\u578b\u7684 ANAROOT \u5206\u6790\u4f1a\u8bdd\uff08\u65e0\u8bba\u662f\u5728\u7ebf\u8fd8\u662f\u79bb\u7ebf\uff09\u901a\u5e38\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4 3\uff1a</p> <ol> <li>\u73af\u5883\u51c6\u5907\u4e0e\u5e93\u52a0\u8f7d: </li> <li>\u542f\u52a8 ROOT \u73af\u5883\u3002  </li> <li>\u52a0\u8f7d ANAROOT \u6838\u5fc3\u5e93\u548c\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u5206\u6790\u5e93\uff08\u4f8b\u5982 libanacore.so, libanabrips.so, libanasamurai.so \u7b49\uff09\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7 gSystem-&gt;Load(\"library_name.so\") \u5728 ROOT \u5b8f\u4e2d\u5b8c\u6210\uff0c\u6216\u8005\u901a\u8fc7 rootlogon.C \u81ea\u52a8\u52a0\u8f7d\u3002  </li> <li>\u521d\u59cb\u5316\u5206\u6790\u903b\u8f91 (book \u547d\u4ee4): </li> <li>\u7528\u6237\u4f7f\u7528 book(new MyCustomAnaLoop(), \"optional_anafile.ana\") \u547d\u4ee4\u6ce8\u518c\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 TArtAnaLoop \u6d3e\u751f\u7c7b\u5b9e\u4f8b\uff08\u4f8b\u5982 MyCustomAnaLoop\uff09\u548c\u4e00\u4e2a\u53ef\u9009\u7684 Anafile \u6587\u4ef6\u5230 TArtAnaLoopManager 7\u3002  </li> <li>MyCustomAnaLoop \u7c7b\u5c01\u88c5\u4e86\u7528\u6237\u5b9a\u4e49\u7684\u5206\u6790\u903b\u8f91\uff0c\u5305\u62ec\u63a2\u6d4b\u5668\u5bf9\u8c61\u7684\u521b\u5efa\u3001\u53c2\u6570\u52a0\u8f7d\u3001\u76f4\u65b9\u56fe\u9884\u8ba2\u7b49\uff08\u5728 Construct() \u65b9\u6cd5\u4e2d\uff09\uff0c\u4ee5\u53ca\u9010\u4e8b\u4ef6\u7684\u6570\u636e\u5904\u7406\u548c\u76f4\u65b9\u56fe\u586b\u5145\uff08\u5728 Calculate() \u65b9\u6cd5\u4e2d\uff09\u3002  </li> <li>Anafile \u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u76f4\u65b9\u56fe\u3001\u5207\u5272\u6761\u4ef6 (cuts) \u548c\u6811 (trees)\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u7ebf\u5206\u6790\u573a\u666f 10\u3002  </li> <li>\u6307\u5b9a\u8f93\u5165\u6570\u636e (push \u6216 spush \u547d\u4ee4): </li> <li>\u4f7f\u7528 push(\"datafile.ridf\", nEvents) \u547d\u4ee4\u5c06\u4e00\u4e2a RIDF \u683c\u5f0f\u7684\u6570\u636e\u6587\u4ef6\u6dfb\u52a0\u5230\u5904\u7406\u961f\u5217\u4e2d\uff0c\u53ef\u4ee5\u6307\u5b9a\u5904\u7406\u7684\u4e8b\u4ef6\u6570 nEvents 7\u3002  </li> <li>\u5bf9\u4e8e\u5728\u7ebf\u5206\u6790\uff0c\u53ef\u4ee5\u4f7f\u7528 push(shared_memory_id, nEvents) \u4ece\u5171\u4eab\u5185\u5b58\u8bfb\u53d6\u6570\u636e 7\u3002  </li> <li>spush(\"prefix\", \"suffix\", start_run, end_run) \u547d\u4ee4\u53ef\u4ee5\u65b9\u4fbf\u5730\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2a\u5177\u6709\u5e8f\u5217\u53f7\u7684 RIDF \u6587\u4ef6 7\u3002  </li> <li>\u542f\u52a8\u5206\u6790 (start \u547d\u4ee4): </li> <li>\u6267\u884c start() \u547d\u4ee4\u5f00\u59cb\u4e8b\u4ef6\u5faa\u73af\u5904\u7406 7\u3002  </li> <li>\u9996\u6b21\u8c03\u7528 start() \u65f6\uff0c\u4f1a\u6267\u884c\u5df2 book \u7684 TArtAnaLoop \u5bf9\u8c61\u7684 Construct() \u65b9\u6cd5\uff0c\u8fdb\u884c\u521d\u59cb\u5316\u8bbe\u7f6e\u3002  </li> <li>\u968f\u540e\uff0c\u5bf9 push \u8fdb\u961f\u5217\u7684\u6bcf\u4e2a\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e2a\u4e8b\u4ef6\uff0c\u90fd\u4f1a\u8c03\u7528 TArtAnaLoop \u5bf9\u8c61\u7684 Calculate() \u65b9\u6cd5\u3002  </li> <li>\u5206\u6790\u8fc7\u7a0b\u63a7\u5236: </li> <li>stop(): \u6682\u505c\u5206\u6790\uff0c\u53ef\u4ee5\u4f7f\u7528 start() \u6062\u590d 7\u3002  </li> <li>next(): \u8df3\u8fc7\u5f53\u524d\u6570\u636e\u6587\u4ef6\u4e2d\u5269\u4f59\u7684\u4e8b\u4ef6\uff0c\u5904\u7406\u961f\u5217\u4e2d\u7684\u4e0b\u4e00\u4e2a\u6587\u4ef6 7\u3002  </li> <li>status(): \u663e\u793a\u5f53\u524d\u5206\u6790\u72b6\u6001\uff0c\u5982\u6587\u4ef6\u961f\u5217\u3001\u5df2\u5904\u7406\u4e8b\u4ef6\u6570\u7b49 7\u3002  </li> <li>\u7b49\u5f85\u5206\u6790\u5b8c\u6210 (\u5728\u5b8f\u6a21\u5f0f\u4e0b\u4f7f\u7528 join \u547d\u4ee4): </li> <li>\u5982\u679c\u5728 ROOT \u5b8f\u4e2d\u6267\u884c\u5206\u6790\uff0c\u901a\u5e38\u5728 start() \u4e4b\u540e\u8c03\u7528 join() \u547d\u4ee4\uff0c\u4f7f\u4e3b\u7ebf\u7a0b\u7b49\u5f85\u540e\u53f0\u5206\u6790\u4efb\u52a1\u5b8c\u6210 7\u3002  </li> <li>\u7ed3\u675f\u5206\u6790 (end \u547d\u4ee4): </li> <li>\u6267\u884c end() \u547d\u4ee4\u7ed3\u675f\u5206\u6790\u8fc7\u7a0b\u3002\u6b64\u65f6\u4f1a\u8c03\u7528 TArtAnaLoop \u5bf9\u8c61\u7684 Destruct() \u65b9\u6cd5\uff0c\u8fdb\u884c\u8d44\u6e90\u6e05\u7406 7\u3002  </li> <li>\u7ed3\u679c\u5904\u7406\u4e0e\u4fdd\u5b58: </li> <li>\u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u6216\u5206\u6790\u7ed3\u675f\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 ht() \u7cfb\u5217\u547d\u4ee4\u7ed8\u5236\u76f4\u65b9\u56fe 7\u3002  </li> <li>\u4f7f\u7528 hstore(\"output.root\") \u547d\u4ee4\u5c06\u5f53\u524d ROOT \u76ee\u5f55\u4e2d\u7684\u6240\u6709\u76f4\u65b9\u56fe\u4fdd\u5b58\u5230\u6307\u5b9a\u7684 ROOT \u6587\u4ef6\u4e2d 7\u3002  </li> <li>\u5982\u679c\u7528\u6237\u5728 TArtAnaLoop \u4e2d\u521b\u5efa\u4e86 TTree\uff0c\u5b83\u4eec\u4e5f\u4f1a\u5728\u5173\u95ed\u8f93\u51fa\u6587\u4ef6\u65f6\u88ab\u4fdd\u5b58\u3002  </li> <li>\u6e05\u7406\u73af\u5883 (clear \u547d\u4ee4): </li> <li>clear() \u547d\u4ee4\u4f1a\u5220\u9664\u6240\u6709\u76f4\u65b9\u56fe\u5e76\u9500\u6bc1 TArtAnaLoopManager\uff0c\u91cd\u7f6e\u5206\u6790\u73af\u5883\uff0c\u4ee5\u4fbf\u5f00\u59cb\u65b0\u7684\u5206\u6790\u4f1a\u8bdd 7\u3002</li> </ol> <p>4.5.2 \u6570\u636e\u5904\u7406\u7684 ETL \u6a21\u5f0f ANAROOT \u7684\u5185\u90e8\u6570\u636e\u5904\u7406\u6d41\u7a0b\u9075\u5faa\u5178\u578b\u7684\u63d0\u53d6-\u8f6c\u6362-\u52a0\u8f7d (Extract-Transform-Load, ETL) \u6a21\u5f0f 3\uff1a</p> <ul> <li>\u63d0\u53d6 (Extract): TArtEventStore \u4ece RIDF \u6587\u4ef6\u6216\u5728\u7ebf\u6570\u636e\u6d41\u4e2d\u8bfb\u53d6\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e 3\u3002  </li> <li>\u8f6c\u6362 (Transform): </li> <li>\u89e3\u7801 (Decode): TArtEventStore \u5c06\u539f\u59cb\u6570\u636e\u89e3\u7801\u4e3a TArtRawEventObject\uff0c\u5176\u4e2d\u5305\u542b TArtRawDataObject \u5f62\u5f0f\u7684\u539f\u59cb\u63a2\u6d4b\u5668\u4fe1\u53f7 3\u3002  </li> <li>\u523b\u5ea6 (Calibrate): TArtCalibXXX \u7c7b\uff08\u5982 TArtCalibPPAC, TArtCalibNEBULA\uff09\u5229\u7528 XML \u53c2\u6570\u6587\u4ef6\u4e2d\u7684\u523b\u5ea6\u5e38\u6570\uff0c\u5c06\u539f\u59cb\u6570\u636e\uff08\u5982 TDC \u9053\u6570\u3001ADC \u9053\u6570\uff09\u8f6c\u6362\u4e3a\u5177\u6709\u7269\u7406\u610f\u4e49\u7684\u91cf\uff08\u5982\u65f6\u95f4\u3001\u80fd\u91cf\u3001\u4f4d\u7f6e\uff09\uff0c\u5e76\u586b\u5145\u5230\u7279\u5b9a\u7684\u6570\u636e\u5bb9\u5668\u4e2d\uff08\u5982 TArtPPAC, TArtNEBULAPla\uff093\u3002  </li> <li>\u91cd\u5efa (Reconstruct): TArtRecoXXX \u7c7b\uff08\u5982 TArtRecoTOF, TArtRecoRIPS\uff09\u6216\u66f4\u9ad8\u7ea7\u7684\u6821\u51c6\u7c7b\uff08\u5982 TArtCalibPID\uff09\u5728\u523b\u5ea6\u6570\u636e\u7684\u57fa\u7840\u4e0a\uff0c\u8fdb\u884c\u66f4\u590d\u6742\u7684\u7269\u7406\u91cf\u91cd\u5efa\uff0c\u5982\u8ba1\u7b97\u98de\u884c\u65f6\u95f4\u3001\u78c1\u521a\u5ea6\u3001\u7c92\u5b50\u9274\u522b\u53c2\u6570 (A/Q, Z) \u7b49\uff0c\u5e76\u5c06\u7ed3\u679c\u5b58\u5165\u76f8\u5e94\u7684\u6570\u636e\u5bb9\u5668\uff08\u5982 TArtTOF, TArtRIPS, TArtBeam\uff093\u3002  </li> <li>\u52a0\u8f7d (Load): </li> <li>\u6240\u6709\u4e2d\u95f4\u548c\u6700\u7ec8\u7684\u6570\u636e\u5bb9\u5668\u90fd\u901a\u8fc7 TArtStoreManager \u8fdb\u884c\u7ba1\u7406\u548c\u5171\u4eab 5\u3002  </li> <li>\u7528\u6237\u5728 TArtAnaLoop::Calculate() \u65b9\u6cd5\u4e2d\uff0c\u901a\u8fc7 TArtStoreManager \u83b7\u53d6\u8fd9\u4e9b\u5904\u7406\u8fc7\u7684\u6570\u636e\u5bb9\u5668\uff0c\u8fdb\u884c\u6700\u7ec8\u7684\u7269\u7406\u5206\u6790\u3001\u586b\u5145\u76f4\u65b9\u56fe\u548c N\u5143\u7ec4\u3002  </li> <li>\u6700\u7ec8\u7684\u5206\u6790\u7ed3\u679c\uff08\u76f4\u65b9\u56fe\u3001\u6811\u7b49\uff09\u88ab\u52a0\u8f7d\uff08\u4fdd\u5b58\uff09\u5230 ROOT \u6587\u4ef6\u4e2d\u3002</li> </ul> <p>4.5.3 \u4e0d\u540c\u5206\u6790\u7b56\u7565 ANAROOT \u652f\u6301\u591a\u79cd\u5206\u6790\u7b56\u7565\u4ee5\u9002\u5e94\u4e0d\u540c\u7528\u6237\u7684\u9700\u6c42\u548c\u504f\u597d 10\uff1a</p> <ol> <li>\u7eaf ROOT \u5b8f\u5206\u6790: \u7528\u6237\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684 ROOT \u5b8f\uff0c\u76f4\u63a5\u4f7f\u7528 ANAROOT \u63d0\u4f9b\u7684\u89e3\u7801\u548c\u91cd\u5efa\u5e93\uff08\u5982 TArtEventStore, TArtCalibPID \u7b49\uff09\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e0b\uff0c\u7528\u6237\u5bf9\u5206\u6790\u6d41\u7a0b\u6709\u5b8c\u5168\u7684\u63a7\u5236\uff0c\u4f46\u4e0d\u76f4\u63a5\u4f7f\u7528 TArtAnaLoop \u6846\u67b6\u548c CUI \u547d\u4ee4\u3002\u793a\u4f8b\u5b8f\u5982 RecoPID.C \u548c RIDF2Tree.C \u4f53\u73b0\u4e86\u8fd9\u79cd\u65b9\u5f0f 3\u3002  </li> <li>\u4f7f\u7528 TArtAnaLoop \u548c Anafile: \u7528\u6237\u521b\u5efa\u4e00\u4e2a TArtAnaLoop \u6d3e\u751f\u7c7b\uff0c\u5e76\u5728 book \u547d\u4ee4\u4e2d\u5173\u8054\u4e00\u4e2a Anafile\u3002Anafile \u7528\u4e8e\u5b9a\u4e49\u76f4\u65b9\u56fe\u3001\u5207\u5272\u548c\u6811\u7684\u7ed3\u6784\u3002\u8fd9\u79cd\u65b9\u5f0f\u7279\u522b\u9002\u5408\u5728\u7ebf\u76d1\u63a7\uff0c\u56e0\u4e3a\u76f4\u65b9\u56fe\u586b\u5145\u53ef\u4ee5\u5728\u72ec\u7acb\u7ebf\u7a0b\u4e2d\u8fdb\u884c\uff0c\u5141\u8bb8\u5728\u6570\u636e\u83b7\u53d6\u8fc7\u7a0b\u4e2d\u5b9e\u65f6\u7ed8\u56fe 3\u3002  </li> <li>\u4f7f\u7528 TArtAnaLoop\uff08\u4e0d\u4f7f\u7528 Anafile\uff09: \u7528\u6237\u5728 TArtAnaLoop \u6d3e\u751f\u7c7b\u7684 Construct() \u65b9\u6cd5\u4e2d\u76f4\u63a5\u521b\u5efa\u548c\u9884\u8ba2 ROOT \u76f4\u65b9\u56fe\u548c\u6811\uff0c\u5e76\u5728 Calculate() \u65b9\u6cd5\u4e2d\u586b\u5145\u5b83\u4eec\u3002\u8fd9\u79cd\u65b9\u5f0f\u7ed3\u5408\u4e86 TArtAnaLoop \u6846\u67b6\u7684\u4fbf\u5229\u6027\u548c\u7528\u6237\u5bf9\u7ed3\u679c\u5bf9\u8c61\u7684\u5b8c\u5168\u63a7\u5236 6\u3002</li> </ol> <p>\u8fd9\u79cd\u7075\u6d3b\u7684\u5de5\u4f5c\u6d41\u8bbe\u8ba1\u4f7f\u5f97 ANAROOT \u65e2\u80fd\u6ee1\u8db3\u9700\u8981\u5feb\u901f\u8fdb\u884c\u6807\u51c6\u5316\u5728\u7ebf\u76d1\u63a7\u7684\u7528\u6237\uff0c\u4e5f\u80fd\u652f\u6301\u9700\u8981\u8fdb\u884c\u590d\u6742\u79bb\u7ebf\u5206\u6790\u548c\u7b97\u6cd5\u5f00\u53d1\u7684\u7528\u6237\u3002 \u7b2c\u4e94\u7ae0\uff1a\u4f7f\u7528 ANAROOT \u5206\u6790 PDC \u63a2\u6d4b\u5668\u6570\u636e \u5e73\u884c\u677f\u96ea\u5d29\u8ba1\u6570\u5668 (PDC)\uff0c\u5728 RIBF \u7684\u8bed\u5883\u4e0b\u901a\u5e38\u6307 BigRIPS \u6b21\u7ea7\u675f\u6d41\u5206\u79bb\u5668\u4e2d\u7684 PPAC \u63a2\u6d4b\u5668\uff0c\u662f\u8fdb\u884c\u675f\u6d41\u7c92\u5b50\u9274\u522b (PID) \u548c\u8f68\u8ff9\u8ffd\u8e2a\u7684\u5173\u952e\u7ec4\u6210\u90e8\u5206\u3002\u672c\u7ae0\u5c06\u6269\u5c55\u8ba8\u8bba\u8303\u56f4\u81f3 BigRIPS \u4e2d\u7528\u4e8e PID \u7684\u4e3b\u8981\u63a2\u6d4b\u5668\u7ec4\u5408\uff0c\u5305\u62ec PPACs\u3001\u5851\u6599\u95ea\u70c1\u4f53 (Plastic Scintillators) \u548c\u7535\u79bb\u5ba4 (Ionization Chambers, IC)\uff0c\u5e76\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 ANAROOT \u5206\u6790\u5b83\u4eec\u7684\u6570\u636e\u3002 5.1 PDC \u53ca\u76f8\u5173 BigRIPS \u63a2\u6d4b\u5668\u6982\u8ff0 BigRIPS \u7684\u7c92\u5b50\u9274\u522b\u4f9d\u8d56\u4e8e\u5bf9\u901a\u8fc7\u5206\u79bb\u5668\u7684\u6bcf\u4e2a\u6b21\u7ea7\u675f\u6d41\u7c92\u5b50\u8fdb\u884c\u7cbe\u786e\u6d4b\u91cf\uff0c\u4ee5\u786e\u5b9a\u5176\u539f\u5b50\u5e8f\u6570 Z\u3001\u8d28\u91cf\u6570 A \u548c\u7535\u8377 q\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u6240\u8c13\u7684 B\u03c1\u2212TOF\u2212\u0394E \u65b9\u6cd5\u5b9e\u73b0\uff0c\u5176\u4e2d\u6d89\u53ca\u5230\u4ee5\u4e0b\u5173\u952e\u63a2\u6d4b\u5668 3\uff1a</p> <ul> <li>PPAC (Parallel Plate Avalanche Counter): </li> <li>\u529f\u80fd\uff1a\u7cbe\u786e\u6d4b\u91cf\u5e26\u7535\u7c92\u5b50\u901a\u8fc7\u63a2\u6d4b\u5668\u7684\u65f6\u95f4\u4ee5\u53ca\u4e8c\u7ef4\u4f4d\u7f6e (X, Y)\u3002  </li> <li>\u539f\u7406\uff1a\u5f53\u5e26\u7535\u7c92\u5b50\u901a\u8fc7\u5145\u6ee1\u4f4e\u538b\u6c14\u4f53\u7684\u5e73\u884c\u7535\u6781\u677f\u4e4b\u95f4\u65f6\uff0c\u4f1a\u5f15\u8d77\u6c14\u4f53\u96ea\u5d29\u653e\u5927\uff0c\u4ea7\u751f\u53ef\u6d4b\u91cf\u7684\u7535\u4fe1\u53f7\u3002\u901a\u8fc7\u5206\u6790\u9633\u6781\u6761\u6216\u5ef6\u8fdf\u5728\u7ebf\u4e0d\u540c\u4f4d\u7f6e\u611f\u5e94\u5230\u7684\u4fe1\u53f7\u7684\u65f6\u95f4\u5dee\u6216\u7535\u8377\u91cf\uff0c\u53ef\u4ee5\u91cd\u5efa\u7c92\u5b50\u7684\u51fb\u4e2d\u4f4d\u7f6e\u3002  </li> <li>\u5e03\u5c40\uff1a\u591a\u4e2a PPAC \u63a2\u6d4b\u5668\u6cbf BigRIPS \u7684\u4e0d\u540c\u7126\u70b9\uff08\u5982 F3, F5, F7, F8, F11 \u7b49\uff09\u5206\u5e03\uff0c\u7528\u4e8e\u7cbe\u786e\u91cd\u5efa\u7c92\u5b50\u5728\u5404\u4e2a\u7126\u5e73\u9762\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\uff0c\u8fdb\u800c\u786e\u5b9a\u7c92\u5b50\u8f68\u8ff9\u548c\u98de\u884c\u8def\u5f84\u957f\u5ea6\u3002  </li> <li>\u5851\u6599\u95ea\u70c1\u4f53 (Plastic Scintillators): </li> <li>\u529f\u80fd\uff1a\u4e3b\u8981\u7528\u4e8e\u6d4b\u91cf\u7c92\u5b50\u98de\u8d8a\u4e24\u4e2a\u95ea\u70c1\u4f53\u4e4b\u95f4\u6240\u9700\u7684\u65f6\u95f4 (Time-Of-Flight, TOF)\uff0c\u4e5f\u53ef\u7528\u4e8e\u6d4b\u91cf\u7c92\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u635f\u5931\u7684\u80fd\u91cf (\u0394E)\u3002  </li> <li>\u539f\u7406\uff1a\u5e26\u7535\u7c92\u5b50\u7a7f\u8fc7\u5851\u6599\u95ea\u70c1\u4f53\u65f6\uff0c\u4f1a\u6fc0\u53d1\u95ea\u70c1\u4f53\u6750\u6599\u53d1\u5149\u3002\u8fd9\u4e9b\u5149\u4fe1\u53f7\u901a\u8fc7\u5149\u5bfc\u6216\u76f4\u63a5\u7531\u95ea\u70c1\u4f53\u4e24\u7aef\u8026\u5408\u7684\u5149\u7535\u500d\u589e\u7ba1 (PMT) \u6536\u96c6\u5e76\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7\u3002  </li> <li>\u5e03\u5c40\uff1a\u901a\u5e38\u6210\u5bf9\u653e\u7f6e\u5728 BigRIPS \u7684\u4e0d\u540c\u7126\u70b9\u5904\uff08\u5982 F3, F7, F8, F11\uff09\uff0c\u4f5c\u4e3a TOF \u6d4b\u91cf\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002  </li> <li>\u7535\u79bb\u5ba4 (Ionization Chambers, IC): </li> <li>\u529f\u80fd\uff1a\u4e3b\u8981\u7528\u4e8e\u6d4b\u91cf\u5e26\u7535\u7c92\u5b50\u5728\u6c14\u4f53\u4e2d\u635f\u5931\u7684\u80fd\u91cf (\u0394E)\u3002\u7531\u4e8e\u80fd\u91cf\u635f\u5931\u4e0e\u7c92\u5b50\u7535\u8377\u7684\u5e73\u65b9 (Z2) \u8fd1\u4f3c\u6210\u6b63\u6bd4\uff0cIC \u662f\u786e\u5b9a\u7c92\u5b50\u539f\u5b50\u5e8f\u6570 Z \u7684\u5173\u952e\u63a2\u6d4b\u5668\u3002  </li> <li>\u539f\u7406\uff1a\u5e26\u7535\u7c92\u5b50\u901a\u8fc7\u586b\u5145\u7279\u5b9a\u6c14\u4f53\u7684\u7535\u79bb\u5ba4\u65f6\uff0c\u4f1a\u4f7f\u6c14\u4f53\u5206\u5b50\u7535\u79bb\uff0c\u4ea7\u751f\u7535\u5b50-\u79bb\u5b50\u5bf9\u3002\u5728\u7535\u573a\u4f5c\u7528\u4e0b\uff0c\u8fd9\u4e9b\u7535\u8377\u88ab\u6536\u96c6\u8d77\u6765\u5f62\u6210\u7535\u6d41\u6216\u8109\u51b2\u4fe1\u53f7\uff0c\u5176\u5e45\u5ea6\u4e0e\u7c92\u5b50\u635f\u5931\u7684\u80fd\u91cf\u6210\u6b63\u6bd4\u3002  </li> <li>\u5e03\u5c40\uff1a\u901a\u5e38\u653e\u7f6e\u5728 BigRIPS \u7684\u4e0b\u6e38\u90e8\u5206\uff08\u5982 F7 \u4e4b\u540e\uff09\uff0c\u5728\u7c92\u5b50\u901f\u5ea6\u5df2\u7ecf\u901a\u8fc7 TOF \u6d4b\u91cf\u5927\u81f4\u786e\u5b9a\u4e4b\u540e\u3002</li> </ul> <p>\u8fd9\u4e9b\u63a2\u6d4b\u5668\u534f\u540c\u5de5\u4f5c\uff0c\u4e3a ANAROOT \u63d0\u4f9b\u4e86\u8fdb\u884c\u7cbe\u786e\u7c92\u5b50\u9274\u522b\u6240\u9700\u7684\u539f\u59cb\u4fe1\u606f\u3002 5.2 \u76f8\u5173 ANAROOT \u7c7b ANAROOT \u4e3a BigRIPS \u7684\u8fd9\u4e9b\u63a2\u6d4b\u5668\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u4e13\u95e8\u7684\u7c7b\uff0c\u7528\u4e8e\u53c2\u6570\u7ba1\u7406\u3001\u6570\u636e\u523b\u5ea6\u3001\u91cd\u5efa\u548c\u6570\u636e\u5b58\u50a8 3\u3002 \u88682\uff1a\u7528\u4e8e PDC/BigRIPS \u5206\u6790\u7684\u6838\u5fc3 ANAROOT \u7c7b</p> \u7c7b\u540d (Class Name) \u63a2\u6d4b\u5668/\u7528\u9014 (Detector/Purpose) \u4e3b\u8981\u529f\u80fd/\u5b58\u50a8\u6570\u636e (Main Function/Stored Data) \u6765\u6e90 TArtBigRIPSParameters BigRIPS\u6574\u4f53\u53c2\u6570 \u52a0\u8f7d\u548c\u7ba1\u7406 BigRIPS \u5404\u63a2\u6d4b\u5668 (PPAC, Plastic, IC, FocalPlane \u7b49) \u7684 XML \u53c2\u6570\u6587\u4ef6 TArtCalibPPAC PPAC PPAC \u539f\u59cb\u6570\u636e\u523b\u5ea6 (\u65f6\u95f4\u3001\u4f4d\u7f6e TDC/ADC \u5230 ns/mm) TArtPPAC PPAC \u5b58\u50a8\u5355\u4e2a PPAC \u523b\u5ea6\u540e\u7684\u6570\u636e (\u5982 X, Y, TX, TY, TSum, QSum, A, B \u7b49) 5 TArtCalibPlastic Plastic Scintillator Plastic \u539f\u59cb\u6570\u636e\u523b\u5ea6 (\u65f6\u95f4 TDC \u5230 ns\uff0c\u7535\u8377 QDC \u5230\u4efb\u610f\u5355\u4f4d\u6216 MeVee) 5 (\u63a8\u65ad) TArtPlastic Plastic Scintillator \u5b58\u50a8\u5355\u4e2a Plastic \u523b\u5ea6\u540e\u7684\u6570\u636e (\u5982 TOF_UL, TOF_UR, TOF_DL, TOF_DR, QDC_L, QDC_R \u7b49) 5 TArtCalibIC Ionization Chamber IC \u539f\u59cb\u6570\u636e\u523b\u5ea6 (ADC \u5230\u80fd\u91cf\u635f\u5931 dE\uff0c\u53ef\u80fd\u5305\u542b\u6e29\u5ea6\u6c14\u538b\u4fee\u6b63) 5 (\u63a8\u65ad) TArtIC Ionization Chamber \u5b58\u50a8\u5355\u4e2a IC \u523b\u5ea6\u540e\u7684\u6570\u636e (\u5982 dE, dEX, SumRaw \u7b49) 5 TArtCalibFocalPlane BigRIPS \u7126\u5e73\u9762 (\u53ef\u80fd\u5b58\u5728\u6216\u529f\u80fd\u96c6\u6210\u4e8e TArtCalibPID) \u91cd\u5efa\u7126\u5e73\u9762\u53c2\u6570 (X, A, Y, B) 5 (\u63a8\u65ad) TArtFocalPlane BigRIPS \u7126\u5e73\u9762 \u5b58\u50a8\u7126\u5e73\u9762\u91cd\u5efa\u53c2\u6570 (\u5982 X, A, Y, B\uff0c\u5bf9\u5e94 F3, F5, F7 \u7b49\u7126\u70b9) 3 TArtCalibPID BigRIPS PID \u7efc\u5408\u6027\u7684 PID \u523b\u5ea6\u4e0e\u91cd\u5efa\u7c7b\uff0c\u534f\u8c03\u5404\u63a2\u6d4b\u5668\u6570\u636e\uff0c\u8ba1\u7b97 TOF, B\u03c1, Z, A/Q TArtTOF BigRIPS TOF \u5b58\u50a8\u8ba1\u7b97\u5f97\u5230\u7684 TOF \u503c (\u5982 F3Plastic-F7Plastic TOF, F8Plastic-F11Plastic TOF) 5 TArtRIPS BigRIPS A/Q, Z \u5b58\u50a8\u901a\u8fc7 B\u03c1\u2212TOF\u2212\u0394E \u65b9\u6cd5\u91cd\u5efa\u7684 RIPS \u53c2\u6570 (\u5982 AoQ, Z) 5 TArtBeam BigRIPS \u675f\u6d41\u7c92\u5b50 \u5b58\u50a8\u6700\u7ec8\u9274\u522b\u51fa\u7684\u675f\u6d41\u7c92\u5b50\u4fe1\u606f (\u901a\u5e38\u662f TArtRIPS \u5bf9\u8c61\u7684\u96c6\u5408\uff0c\u4ee3\u8868\u4e0d\u540c PID \u95e8\u7684\u9009\u62e9) 5 <p>\u7406\u89e3\u8fd9\u4e9b\u7c7b\u7684\u4f5c\u7528\u548c\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5bf9\u4e8e\u6709\u6548\u5730\u4f7f\u7528 ANAROOT \u8fdb\u884c BigRIPS \u6570\u636e\u5206\u6790\u81f3\u5173\u91cd\u8981\u3002\u4f8b\u5982\uff0cTArtBigRIPSParameters \u9996\u5148\u52a0\u8f7d\u6240\u6709\u914d\u7f6e\uff0c\u7136\u540e\u5404\u4e2a TArtCalibXXX \u7c7b\u5229\u7528\u8fd9\u4e9b\u53c2\u6570\u8fdb\u884c\u523b\u5ea6\uff0c\u751f\u6210\u5982 TArtPPAC, TArtPlastic, TArtIC \u7b49\u6570\u636e\u5bb9\u5668\uff0c\u6700\u540e TArtCalibPID \u7efc\u5408\u8fd9\u4e9b\u4fe1\u606f\uff0c\u4ea7\u751f TArtTOF, TArtRIPS, TArtBeam \u7b49\u6700\u7ec8\u7684\u7269\u7406\u7ed3\u679c\u3002 5.3 \u53c2\u6570\u8bbe\u7f6e\u4e0e\u52a0\u8f7d BigRIPS \u7684\u5206\u6790\u9ad8\u5ea6\u4f9d\u8d56\u4e8e\u51c6\u786e\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u8fd9\u4e9b\u53c2\u6570\u901a\u5e38\u5b58\u50a8\u5728 XML \u6587\u4ef6\u4e2d\uff0c\u5e76\u901a\u8fc7 TArtBigRIPSParameters \u7c7b\u52a0\u8f7d \u3002 \u4e00\u4e2a\u5178\u578b\u7684\u53c2\u6570\u52a0\u8f7d\u8fc7\u7a0b\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff08\u901a\u5e38\u5728 TArtAnaLoop::Construct() \u4e2d\u6267\u884c\uff09\uff1a</p> <p>C++</p> <p>// \u521b\u5efa TArtBigRIPSParameters \u5bf9\u8c61 TArtBigRIPSParameters *brparams = new TArtBigRIPSParameters(\"BigRIPSParameters\", \"BigRIPSParameters\"); // \u52a0\u8f7d\u5404\u4e2a\u63a2\u6d4b\u5668\u548c\u7126\u5e73\u9762\u7684\u53c2\u6570\u6587\u4ef6 brparams-&gt;LoadParameter(\"db/BigRIPSPPAC.xml\");      // PPAC \u53c2\u6570 brparams-&gt;LoadParameter(\"db/BigRIPSPlastic.xml\");   // Plastic \u53c2\u6570 brparams-&gt;LoadParameter(\"db/BigRIPSIC.xml\");        // IC \u53c2\u6570 brparams-&gt;LoadParameter(\"db/FocalPlane.xml\");     // \u7126\u5e73\u9762\u53c2\u6570 (\u5982\u78c1\u573a\u3001\u6f02\u79fb\u957f\u5ea6) // \u53ef\u80fd\u8fd8\u9700\u8981\u52a0\u8f7d\u5176\u4ed6\u53c2\u6570\u6587\u4ef6\uff0c\u5982 TOF \u504f\u79fb\u3001\u79bb\u5b50\u5149\u5b66\u77e9\u9635\u7b49</p> <p>// \u5c06\u53c2\u6570\u5bf9\u8c61\u6ce8\u518c\u5230 TArtStoreManager\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7c7b\u53ef\u4ee5\u8bbf\u95ee TArtStoreManager* sm = TArtStoreManager::Instance(); sm-&gt;AddParameters(brparams);</p> <p>// \u521b\u5efa\u5e76\u6ce8\u518c TArtCalibPID \u5bf9\u8c61\uff0c\u5b83\u4f1a\u4f7f\u7528\u4e0a\u9762\u52a0\u8f7d\u7684\u53c2\u6570 TArtCalibPID *calibPID = new TArtCalibPID(); sm-&gt;AddParameters(calibPID); // TArtCalibPID \u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u53c2\u6570\u63d0\u4f9b\u8005 // \u6216\u8005 calibPID \u5728\u5176\u6784\u9020\u51fd\u6570\u6216\u7279\u5b9a\u65b9\u6cd5\u4e2d\u4ece sm \u83b7\u53d6 brparams</p> <p>XML \u6587\u4ef6\u7ed3\u6784\u7b80\u4ecb: \u867d\u7136\u5177\u4f53\u7684 XML \u6587\u4ef6\u7ed3\u6784\u53ef\u80fd\u56e0\u5b9e\u9a8c\u548c ANAROOT \u7248\u672c\u800c\u7565\u6709\u4e0d\u540c\uff0c\u4f46\u5b83\u4eec\u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u7c7b\u578b\u7684\u4fe1\u606f\uff1a</p> <ul> <li>\u63a2\u6d4b\u5668\u6807\u8bc6 (Detector ID): \u6bcf\u4e2a\u63a2\u6d4b\u5668\u6216\u5176\u5b50\u5355\u5143\uff08\u5982 PPAC \u7684\u7279\u5b9a\u5c42\u9762\uff0cPlastic \u7684\u7279\u5b9a PMT\uff09\u90fd\u6709\u552f\u4e00\u7684\u540d\u79f0\u6216 ID\u3002  </li> <li>\u901a\u9053\u6620\u5c04 (Channel Mapping): \u5c06\u7269\u7406\u63a2\u6d4b\u5668\u901a\u9053\uff08\u5982 PPAC \u7684\u9633\u6781\u6761\u3001PMT\uff09\u6620\u5c04\u5230\u6570\u636e\u91c7\u96c6\u7cfb\u7edf\u4e2d\u7684\u7535\u5b50\u5b66\u6a21\u5757\uff08\u5982 TDC\u3001ADC\uff09\u7684\u901a\u9053\u53f7\u3002  </li> <li>\u523b\u5ea6\u7cfb\u6570 (Calibration Coefficients): </li> <li>\u5bf9\u4e8e PPAC\uff1aTDC \u7684\u65f6\u95f4\u8f6c\u6362\u7cfb\u6570 (ns/channel)\u3001\u65f6\u95f4\u504f\u79fb (ns)\u3001\u4f4d\u7f6e\u8f6c\u6362\u7cfb\u6570 (mm/ns \u6216 mm/channel)\u3001\u7535\u8377\u654f\u611f\u6027\u7b49\u3002  </li> <li>\u5bf9\u4e8e Plastic\uff1aTDC \u7684\u65f6\u95f4\u8f6c\u6362\u7cfb\u6570\u3001\u65f6\u95f4\u504f\u79fb\u3001QDC \u7684\u7535\u8377\u8f6c\u6362\u7cfb\u6570\u3001\u6e21\u8d8a\u65f6\u95f4\u4fee\u6b63\u53c2\u6570\u7b49\u3002  </li> <li>\u5bf9\u4e8e IC\uff1aADC \u7684\u80fd\u91cf\u8f6c\u6362\u7cfb\u6570 (MeV/channel \u6216\u4efb\u610f\u5355\u4f4d)\u3001\u6c14\u4f53\u53c2\u6570\u3001\u6e29\u5ea6\u6c14\u538b\u4fee\u6b63\u7cfb\u6570\u7b49\u3002  </li> <li>\u51e0\u4f55\u53c2\u6570 (Geometric Parameters): \u63a2\u6d4b\u5668\u7684\u7269\u7406\u4f4d\u7f6e (X, Y, Z \u5750\u6807)\u3001\u65cb\u8f6c\u89d2\u5ea6\u3001\u6709\u6548\u5c3a\u5bf8\u3001\u6f02\u79fb\u957f\u5ea6\u7b49\u3002  </li> <li>\u5176\u4ed6\u53c2\u6570: \u5982\u78c1\u573a\u8bbe\u5b9a\u503c\u3001\u79bb\u5b50\u5149\u5b66\u77e9\u9635\u5143\u7d20\u3001TOF \u8def\u5f84\u957f\u5ea6\u3001\u5168\u5c40\u65f6\u95f4\u504f\u79fb\u7b49\u3002</li> </ul> <p>\u7528\u6237\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u5b9e\u9a8c\u8bbe\u7f6e\u548c\u523b\u5ea6\u7ed3\u679c\u6765\u51c6\u5907\u6216\u4fee\u6539\u8fd9\u4e9b XML \u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u662f ANAROOT \u8fdb\u884c\u6b63\u786e\u6570\u636e\u5904\u7406\u7684\u57fa\u7840\u3002 \u88683\uff1aBigRIPS PPAC \u5206\u6790\u7684 XML \u53c2\u6570\u793a\u4f8b (\u6982\u5ff5\u6027) \u4e0b\u8868\u4e3a\u4e00\u4e2a\u6982\u5ff5\u6027\u7684 PPAC \u53c2\u6570\u793a\u4f8b\uff0c\u5c55\u793a\u4e86 XML \u6587\u4ef6\u4e2d\u53ef\u80fd\u5305\u542b\u7684\u53c2\u6570\u7c7b\u578b\u3002\u5b9e\u9645\u7684 XML \u6807\u7b7e\u548c\u7ed3\u6784\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002</p> \u53c2\u6570\u8def\u5f84 (\u793a\u4f8b XML Path) \u53c2\u6570\u540d (Parameter Name) \u793a\u4f8b\u503c/\u8303\u56f4 \u63cf\u8ff0 (Description) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/anode_x1/tdc_channel tdc_channel_x1 32 X1 \u9633\u6781\u6761\u5bf9\u5e94\u7684 TDC \u901a\u9053\u53f7 BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/anode_x1/tdc_slope tdc_slope_ns_per_ch_x1 0.025 X1 TDC \u659c\u7387 (ns/channel) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/anode_x1/tdc_offset tdc_offset_ns_x1 100.0 X1 TDC \u65f6\u95f4\u504f\u79fb (ns) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/position/x_factor pos_x_factor_mm_per_ns 5.8 X \u65b9\u5411\u65f6\u95f4\u5dee\u5230\u4f4d\u7f6e\u7684\u8f6c\u6362\u7cfb\u6570 (mm/ns) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/position/x_offset pos_x_offset_mm -2.5 X \u65b9\u5411\u4f4d\u7f6e\u6574\u4f53\u504f\u79fb (mm) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/geometry/z_position z_position_mm 15000.0 PPAC \u5728\u675f\u6d41\u65b9\u5411\u7684 Z \u4f4d\u7f6e (mm) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/timing/tsum_low tsum_window_low_ns 50.0 \u65f6\u95f4\u548c (TX1+TX2)/2 \u4fe1\u53f7\u7684\u6709\u6548\u7a97\u53e3\u4e0b\u9650 (ns) BigRIPSPPAC/PPAC[@id=\"F3PPAC1A\"]/timing/tsum_high tsum_window_high_ns 150.0 \u65f6\u95f4\u548c\u4fe1\u53f7\u7684\u6709\u6548\u7a97\u53e3\u4e0a\u9650 (ns) <p>\u8fd9\u4e2a\u8868\u683c\u5e2e\u52a9\u7528\u6237\u7406\u89e3 XML \u6587\u4ef6\u4e2d\u53c2\u6570\u7684\u7c7b\u578b\u548c\u542b\u4e49\uff0c\u6307\u5bfc\u4ed6\u4eec\u5982\u4f55\u67e5\u627e\u548c\u4fee\u6539\u8fd9\u4e9b\u53c2\u6570\u4ee5\u9002\u5e94\u7279\u5b9a\u7684\u5b9e\u9a8c\u6761\u4ef6\u548c\u523b\u5ea6\u7ed3\u679c\u3002 5.4 \u6570\u636e\u523b\u5ea6\u6b65\u9aa4\u4e0e\u5b9e\u4f8b \u7cbe\u786e\u7684\u6570\u636e\u523b\u5ea6\u662f\u83b7\u5f97\u53ef\u9760\u7269\u7406\u7ed3\u679c\u7684\u524d\u63d0\u3002\u4ee5\u4e0b\u662f BigRIPS \u4e3b\u8981\u63a2\u6d4b\u5668\u7684\u5178\u578b\u523b\u5ea6\u6d41\u7a0b\uff1a</p> <ul> <li>PPAC \u523b\u5ea6: </li> <li>\u65f6\u95f4\u523b\u5ea6 (Timing Calibration): <ul> <li>\u76ee\u6807\uff1a\u5c06\u6bcf\u4e2a\u9633\u6781\u6761/\u5ef6\u8fdf\u7ebf\u8f93\u51fa\u7684 TDC \u539f\u59cb\u9053\u6570\u8f6c\u6362\u4e3a\u7cbe\u786e\u7684\u65f6\u95f4 (ns)\u3002  </li> <li>\u65b9\u6cd5\uff1a\u901a\u5e38\u4f7f\u7528\u5df2\u77e5\u65f6\u95f4\u95f4\u9694\u7684\u7535\u5b50\u5b66\u8109\u51b2\uff08\u6765\u81ea\u8109\u51b2\u53d1\u751f\u5668\uff09\u6ce8\u5165\u5230 TDC \u901a\u9053\uff0c\u6d4b\u91cf\u4e0d\u540c\u5ef6\u8fdf\u4e0b\u7684 TDC \u503c\uff0c\u62df\u5408\u5f97\u5230\u6bcf\u4e2a\u901a\u9053\u7684\u659c\u7387 (ns/channel) \u548c\u504f\u79fb (offset)\u3002\u8fd9\u4e9b\u53c2\u6570\u5199\u5165 PPAC \u7684 XML \u914d\u7f6e\u6587\u4ef6\u3002  </li> </ul> </li> <li>\u4f4d\u7f6e\u523b\u5ea6 (Position Calibration): <ul> <li>\u76ee\u6807\uff1a\u6839\u636e TDC \u6d4b\u91cf\u5230\u7684\u65f6\u95f4\u4fe1\u606f\uff08\u6216 QAC/ADC \u6d4b\u91cf\u5230\u7684\u7535\u8377\u4fe1\u606f\uff09\u91cd\u5efa\u7c92\u5b50\u5728 PPAC \u5e73\u9762\u4e0a\u7684\u51fb\u4e2d\u4f4d\u7f6e (X, Y)\u3002  </li> <li>\u65b9\u6cd5 (\u57fa\u4e8e\u65f6\u95f4\u5dee)\uff1a\u5bf9\u4e8e\u5ef6\u8fdf\u7ebf\u578b PPAC\uff0cX \u4f4d\u7f6e\u901a\u5e38\u7531\u4e24\u7aef (Left, Right) \u4fe1\u53f7\u7684\u65f6\u95f4\u5dee (TL\u200b\u2212TR\u200b) \u5f97\u5230\uff0cY \u4f4d\u7f6e\u7531\u53e6\u5916\u4e24\u7aef (Up, Down) \u4fe1\u53f7\u7684\u65f6\u95f4\u5dee (TU\u200b\u2212TD\u200b) \u5f97\u5230\u3002\u9700\u8981\u786e\u5b9a\u65f6\u95f4\u5dee\u5230\u7269\u7406\u4f4d\u7f6e\u7684\u8f6c\u6362\u7cfb\u6570 (mm/ns) \u548c\u4e2d\u5fc3\u504f\u79fb (mm)\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u5df2\u77e5\u5f00\u53e3\u5f62\u72b6\u7684\u51c6\u76f4\u677f (collimator mask) \u914d\u5408\u5747\u5300\u675f\u6d41\u7167\u5c04 PPAC\uff0c\u5206\u6790\u65f6\u95f4\u5dee\u8c31\u4e0e\u51c6\u76f4\u677f\u51e0\u4f55\u5f62\u72b6\u7684\u5bf9\u5e94\u5173\u7cfb\u6765\u83b7\u5f97\u3002  </li> <li>\u6821\u6b63\uff1a\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u975e\u7ebf\u6027\u6821\u6b63\u3001\u65cb\u8f6c\u6821\u6b63\uff08\u5982\u679c\u63a2\u6d4b\u5668\u5b89\u88c5\u6709\u5fae\u5c0f\u65cb\u8f6c\u89d2\u5ea6\uff09\u4ee5\u53ca\u6548\u7387\u56fe\u8c31\u6821\u6b63\u3002  </li> </ul> </li> <li>TArtCalibPPAC \u7c7b \u8d1f\u8d23\u6267\u884c\u8fd9\u4e9b\u523b\u5ea6\u8ba1\u7b97\u3002  </li> <li>\u5851\u6599\u95ea\u70c1\u4f53\u523b\u5ea6: </li> <li>\u65f6\u95f4\u523b\u5ea6 (Timing Calibration): <ul> <li>\u76ee\u6807\uff1a\u5c06\u95ea\u70c1\u4f53\u4e24\u7aef PMT \u8f93\u51fa\u7684 TDC \u4fe1\u53f7\u8f6c\u6362\u4e3a\u7cbe\u786e\u7684\u7c92\u5b50\u901a\u8fc7\u65f6\u95f4\u3002  </li> <li>\u65b9\u6cd5\uff1a  </li> <li>\u6e21\u8d8a\u65f6\u95f4\u4fee\u6b63 (Walk Correction / Slewing Correction): PMT \u8f93\u51fa\u4fe1\u53f7\u7684\u4e0a\u5347\u65f6\u95f4\u53ef\u80fd\u4e0e\u4fe1\u53f7\u5e45\u5ea6\u6709\u5173\uff0c\u5bfc\u81f4\u5e45\u5ea6\u5927\u7684\u4fe1\u53f7\u770b\u8d77\u6765\u6bd4\u5e45\u5ea6\u5c0f\u7684\u4fe1\u53f7\u201c\u65e9\u201d\u5230\u8fbe\u7504\u522b\u9608\u503c\u3002\u9700\u8981\u6839\u636e\u4fe1\u53f7\u5e45\u5ea6 (\u901a\u5e38\u7528 QDC/ADC \u503c) \u5bf9 TDC \u65f6\u95f4\u8fdb\u884c\u4fee\u6b63\u3002  </li> <li>\u4e24\u7aef\u65f6\u95f4\u5bf9\u9f50 (Mean Timing): \u7c92\u5b50\u7684\u5e73\u5747\u901a\u8fc7\u65f6\u95f4\u901a\u5e38\u53d6\u4e3a\u4e24\u7aef PMT \u4fee\u6b63\u540e\u65f6\u95f4\u7684\u5e73\u5747\u503c\uff1aTplastic\u200b=(Tleft\u200b+Tright\u200b)/2\u2212Toffset\u200b\u3002\u5176\u4e2d Toffset\u200b \u662f\u4e00\u4e2a\u5168\u5c40\u504f\u79fb\uff0c\u7528\u4e8e\u5c06\u6b64\u63a2\u6d4b\u5668\u7684\u65f6\u95f4\u4e0e\u5176\u4ed6\u63a2\u6d4b\u5668\u6216\u53c2\u8003\u65f6\u95f4\u5bf9\u9f50\u3002  </li> <li>\u4f4d\u7f6e\u76f8\u5173\u65f6\u95f4\u6821\u6b63 (Position-dependent Timing Correction): \u95ea\u70c1\u5149\u5728\u68d2\u5185\u4f20\u64ad\u5230\u4e24\u7aef PMT \u7684\u65f6\u95f4\u4e0e\u51fb\u4e2d\u4f4d\u7f6e\u6709\u5173\u3002\u5982\u679c\u9700\u8981\u6781\u9ad8\u7684\u65f6\u95f4\u5206\u8fa8\u7387\uff0c\u53ef\u80fd\u9700\u8981\u6839\u636e\u6cbf\u68d2\u7684\u51fb\u4e2d\u4f4d\u7f6e\uff08\u53ef\u7531 Tleft\u200b\u2212Tright\u200b \u6216 Qleft\u200b/Qright\u200b \u5f97\u5230\uff09\u8fdb\u884c\u8fdb\u4e00\u6b65\u6821\u6b63\u3002  </li> </ul> </li> <li>\u80fd\u91cf\u635f\u5931\u523b\u5ea6 (QDC/ADC Calibration): <ul> <li>\u76ee\u6807\uff1a\u5c06 PMT \u8f93\u51fa\u7684\u7535\u8377\u4fe1\u53f7 (QDC \u6216 ADC \u79ef\u5206\u503c) \u523b\u5ea6\u4e3a\u7c92\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u635f\u5931\u7684\u80fd\u91cf (\u0394E) \u6216\u76f8\u5bf9\u5149\u4ea7\u989d\u3002  </li> <li>\u65b9\u6cd5\uff1a\u53ef\u4ee5\u4f7f\u7528\u5df2\u77e5\u80fd\u91cf\u6c89\u79ef\u7684\u7c92\u5b50\uff08\u5982\u5b87\u5b99\u5c04\u7ebf muon \u7684\u6700\u5c0f\u7535\u79bb\u5cf0\uff09\u6216 \u03b3 \u6e90\uff08\u5982 60Co \u7684\u5eb7\u666e\u987f\u8fb9\uff09\u8fdb\u884c\u523b\u5ea6\u3002\u5bf9\u4e8e\u91cd\u79bb\u5b50\uff0c\u901a\u5e38\u5173\u6ce8\u7684\u662f\u76f8\u5bf9\u80fd\u91cf\u635f\u5931\uff0c\u7528\u4e8e\u7c92\u5b50\u9274\u522b\u3002  </li> </ul> </li> <li>TArtCalibPlastic \u7c7b \u8d1f\u8d23\u6267\u884c\u8fd9\u4e9b\u523b\u5ea6\u3002  </li> <li>\u7535\u79bb\u5ba4 (IC) \u523b\u5ea6: </li> <li>\u80fd\u91cf\u635f\u5931\u523b\u5ea6 (ADC Calibration): <ul> <li>\u76ee\u6807\uff1a\u5c06 IC \u5404\u9633\u6781\u677f\u8f93\u51fa\u7684 ADC \u539f\u59cb\u9053\u6570\u8f6c\u6362\u4e3a\u7c92\u5b50\u635f\u5931\u7684\u80fd\u91cf (\u0394E)\uff0c\u5355\u4f4d\u901a\u5e38\u662f MeV \u6216\u4efb\u610f\u5355\u4f4d\uff08\u7528\u4e8e\u76f8\u5bf9\u6bd4\u8f83\uff09\u3002  </li> <li>\u65b9\u6cd5\uff1a\u9700\u8981\u8fdb\u884c\u57fa\u7ebf\u6263\u9664\u3002\u523b\u5ea6\u5e38\u6570\uff08\u5982 MeV/channel\uff09\u53ef\u4ee5\u901a\u8fc7\u5df2\u77e5\u80fd\u91cf\u635f\u5931\u7684\u675f\u6d41\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\u78c1\u8c31\u4eea\u7cbe\u786e\u9009\u62e9\u7684\u5df2\u77e5\u7c92\u5b50\u548c\u80fd\u91cf\uff09\u6216\u901a\u8fc7\u4e0e\u5176\u4ed6\u63a2\u6d4b\u5668\uff08\u5982\u7845\u63a2\u6d4b\u5668\uff09\u7684\u80fd\u91cf\u635f\u5931\u8fdb\u884c\u6bd4\u5bf9\u6765\u786e\u5b9a\u3002  </li> <li>\u6821\u6b63\uff1a  </li> <li>\u6c14\u4f53\u589e\u76ca\u7a33\u5b9a\u6027: IC \u7684\u54cd\u5e94\u53ef\u80fd\u968f\u6c14\u4f53\u6e29\u5ea6\u548c\u538b\u5f3a\u7684\u53d8\u5316\u800c\u53d8\u5316\uff0c\u9700\u8981\u8fdb\u884c\u76f8\u5e94\u7684\u76d1\u6d4b\u548c\u4fee\u6b63\u3002  </li> <li>\u590d\u5408\u6548\u5e94 (Recombination Effect): \u5bf9\u4e8e\u7535\u79bb\u5bc6\u5ea6\u975e\u5e38\u9ad8\u7684\u91cd\u79bb\u5b50\uff0c\u7535\u5b50\u548c\u79bb\u5b50\u5728\u88ab\u6536\u96c6\u524d\u53ef\u80fd\u53d1\u751f\u590d\u5408\uff0c\u5bfc\u81f4\u4fe1\u53f7\u635f\u5931\u3002\u9700\u8981\u6839\u636e\u7c92\u5b50\u7684 Z \u503c\u548c\u80fd\u91cf\u8fdb\u884c\u4fee\u6b63\u3002  </li> <li>\u901a\u9053\u95f4\u589e\u76ca\u5339\u914d: \u786e\u4fdd IC \u5185\u591a\u4e2a\u9633\u6781\u677f\u4e4b\u95f4\u7684\u54cd\u5e94\u4e00\u81f4\u3002  </li> </ul> </li> <li>TArtCalibIC \u7c7b \u8d1f\u8d23\u6267\u884c\u8fd9\u4e9b\u523b\u5ea6\u3002</li> </ul> <p>\u6240\u6709\u8fd9\u4e9b\u523b\u5ea6\u53c2\u6570\u6700\u7ec8\u90fd\u4f1a\u4fdd\u5b58\u5728\u76f8\u5e94\u7684 XML \u6587\u4ef6\u4e2d\uff0c\u4f9b ANAROOT \u5728\u540e\u7eed\u5206\u6790\u4e2d\u4f7f\u7528\u3002 5.5 \u5f84\u8ff9\u91cd\u5efa\u4e0e\u7c92\u5b50\u9274\u522b (PID) \u5728 BigRIPS \u4e2d\uff0c\u7cbe\u786e\u7684\u7c92\u5b50\u9274\u522b (Particle Identification, PID) \u662f\u5b9e\u9a8c\u7684\u6838\u5fc3\u76ee\u6807\u4e4b\u4e00\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u7efc\u5408\u5229\u7528\u591a\u4e2a\u63a2\u6d4b\u5668\u7684\u4fe1\u606f\uff0c\u91c7\u7528 B\u03c1\u2212TOF\u2212\u0394E \u65b9\u6cd5\u6765\u5b9e\u73b0 3\u3002</p> <ul> <li>\u98de\u884c\u65f6\u95f4 (TOF) \u8ba1\u7b97: </li> <li>TOF \u662f\u6307\u7c92\u5b50\u98de\u8d8a\u5df2\u77e5\u8ddd\u79bb\u6240\u9700\u7684\u65f6\u95f4\u3002\u5728 BigRIPS \u4e2d\uff0c\u901a\u5e38\u4f7f\u7528\u653e\u7f6e\u5728\u4e0d\u540c\u7126\u5e73\u9762\uff08\u5982 F3 \u548c F7\uff0c\u6216 F8 \u548c F11\uff09\u7684\u4e24\u4e2a\u5851\u6599\u95ea\u70c1\u4f53\u6765\u6d4b\u91cf\u3002  </li> <li>TOF=Tdownstream_plastic\u200b\u2212Tupstream_plastic\u200b\u2212TOFoffset\u200b  </li> <li>\u5176\u4e2d Tdownstream_plastic\u200b \u548c Tupstream_plastic\u200b \u5206\u522b\u662f\u7c92\u5b50\u901a\u8fc7\u4e0b\u6e38\u548c\u4e0a\u6e38\u5851\u6599\u95ea\u70c1\u4f53\u7684\u7cbe\u786e\u65f6\u95f4\uff08\u7ecf\u8fc7\u523b\u5ea6\u6821\u6b63\uff09\uff0cTOFoffset\u200b \u662f\u4e00\u4e2a\u5168\u5c40\u7684\u65f6\u95f4\u504f\u79fb\u5e38\u6570\uff0c\u9700\u8981\u901a\u8fc7\u5df2\u77e5\u7c92\u5b50\uff08\u5982\u521d\u7ea7\u675f\u6d41\u6216\u5df2\u77e5 A/Q \u7684\u6b21\u7ea7\u675f\u6d41\uff09\u8fdb\u884c\u6807\u5b9a\u3002  </li> <li>\u51c6\u786e\u7684\u98de\u884c\u8def\u5f84\u957f\u5ea6 L \u4e5f\u81f3\u5173\u91cd\u8981\uff0c\u5b83\u901a\u5e38\u7531\u79bb\u5b50\u5149\u5b66\u8ba1\u7b97\u6216\u901a\u8fc7\u5f84\u8ff9\u91cd\u5efa\u5f97\u5230\u3002  </li> <li>TArtTOF \u5bf9\u8c61\u5b58\u50a8\u8ba1\u7b97\u5f97\u5230\u7684 TOF \u503c\u3002  </li> <li>\u80fd\u91cf\u635f\u5931 (\u0394E) \u6d4b\u91cf: </li> <li>\u0394E \u662f\u6307\u7c92\u5b50\u7a7f\u8fc7\u7279\u5b9a\u6750\u6599\uff08\u901a\u5e38\u662f\u7535\u79bb\u5ba4\u6c14\u4f53\u6216\u8584\u5851\u6599\u95ea\u70c1\u4f53\uff09\u65f6\u635f\u5931\u7684\u80fd\u91cf\u3002  </li> <li>\u6839\u636e Bethe-Bloch \u516c\u5f0f\uff0c\\\\Delta E \\\\propto (Z^2 / \\\\beta^2) \\\\times \\\\text{material\\_properties}\\\\Delta E \\\\propto (Z^2 / \\\\beta^2) \\\\times \\\\text{material\\_properties}\uff0c\u5176\u4e2d Z \u662f\u7c92\u5b50\u7684\u539f\u5b50\u5e8f\u6570\uff0c\u03b2=v/c \u662f\u7c92\u5b50\u7684\u76f8\u5bf9\u901f\u5ea6\u3002  </li> <li>\u5728 BigRIPS \u4e2d\uff0c\u0394E \u4e3b\u8981\u7531\u7535\u79bb\u5ba4 (IC) \u6d4b\u91cf\u5f97\u5230\uff0c\u5176\u523b\u5ea6\u540e\u7684\u8f93\u51fa\u4fe1\u53f7\u76f4\u63a5\u53cd\u6620\u4e86\u80fd\u91cf\u635f\u5931\u3002  </li> <li>TArtIC \u5bf9\u8c61\u5b58\u50a8\u523b\u5ea6\u540e\u7684 \u0394E \u503c\u3002  </li> <li>\u78c1\u521a\u5ea6 (B\u03c1) \u786e\u5b9a: </li> <li>\u78c1\u521a\u5ea6 B\u03c1 \u662f\u7c92\u5b50\u52a8\u91cf p \u548c\u5176\u7535\u8377 q \u7684\u6bd4\u503c\uff0c\u5373 B\u03c1=p/q\u3002\u5b83\u662f\u5e26\u7535\u7c92\u5b50\u5728\u78c1\u573a\u4e2d\u8fd0\u52a8\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u5f81\u91cf\u3002  </li> <li>\u5728 BigRIPS \u4e2d\uff0c\u6b21\u7ea7\u675f\u6d41\u7c92\u5b50\u4f1a\u901a\u8fc7\u4e00\u7cfb\u5217\u5076\u6781\u78c1\u94c1\u3002\u901a\u8fc7\u7cbe\u786e\u6d4b\u91cf\u7c92\u5b50\u5728\u78c1\u94c1\u524d\u540e\u7126\u5e73\u9762\u4e0a\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\uff08\u4e3b\u8981\u7531 PPAC \u63a2\u6d4b\u5668\u63d0\u4f9b\uff09\uff0c\u5e76\u7ed3\u5408\u5df2\u77e5\u7684\u78c1\u573a\u5f3a\u5ea6\u548c\u79bb\u5b50\u5149\u5b66\u4f20\u8f93\u77e9\u9635\uff0c\u53ef\u4ee5\u91cd\u5efa\u51fa\u6bcf\u4e2a\u7c92\u5b50\u7684 B\u03c1 \u503c\u3002  </li> <li>12 (\u5e7b\u706f\u7247 7) \u6e05\u6670\u5730\u6982\u8ff0\u4e86 TOF\u2212B\u03c1\u2212\u0394E \u65b9\u6cd5\uff1aPPAC \u63d0\u4f9b\u4f4d\u7f6e\u548c\u65b9\u5411\u4fe1\u606f\uff0c\u7528\u4e8e\u8ba1\u7b97 B\u03c1\uff1b\u5851\u6599\u95ea\u70c1\u4f53\u63d0\u4f9b\u901a\u8fc7\u65f6\u95f4\uff0c\u7528\u4e8e\u8ba1\u7b97 TOF (\u8fdb\u800c\u5f97\u5230 \u03b2)\u3002  </li> <li>TArtFocalPlane \u5bf9\u8c61\u5b58\u50a8\u4e86\u7126\u5e73\u9762\u4e0a\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\u4fe1\u606f\uff0c\u8fd9\u4e9b\u662f\u8ba1\u7b97 B\u03c1 \u7684\u8f93\u5165\u3002  </li> <li>\u7c92\u5b50\u9274\u522b\u56fe\u8c31 (PID Plots): </li> <li>\u0394E vs TOF \u56fe\u8c31: \u8fd9\u662f\u8fdb\u884c\u7c92\u5b50\u9274\u522b\u7684\u7b2c\u4e00\u6b65\u3002\u5bf9\u4e8e\u901f\u5ea6\u76f8\u8fd1\u7684\u7c92\u5b50\uff0c\u0394E \u4e3b\u8981\u4f9d\u8d56\u4e8e Z2\uff0c\u800c TOF \u4e0e A/q \u548c \u03b2 \u6709\u5173\u3002\u5728\u6b64\u4e8c\u7ef4\u56fe\u8c31\u4e0a\uff0c\u4e0d\u540c Z \u7684\u7c92\u5b50\u4f1a\u5f62\u6210\u6e05\u6670\u7684\u5e26\u72b6\u5206\u5e03\u3002  </li> <li>A/Q vs Z \u56fe\u8c31: \u8fd9\u662f\u6700\u7ec8\u7684\u3001\u6700\u5e38\u7528\u7684 PID \u56fe\u8c31\u3002  <ul> <li>\u539f\u5b50\u5e8f\u6570 Z \u53ef\u4ee5\u4ece \u0394E \u548c TOF (\u7528\u4e8e\u5f97\u5230 \u03b2) \u8fd1\u4f3c\u5f97\u5230\uff1aZ\u221d\u03b2\u0394E\u200b\u3002  </li> <li>\u8d28\u8377\u6bd4 A/Q \u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u516c\u5f0f\u8ba1\u7b97\uff1a A/Q=(mu\u200bc)\u22121\u00d7(B\u03c1/(\u03b2\u03b3)) \u5176\u4e2d mu\u200b \u662f\u539f\u5b50\u8d28\u91cf\u5355\u4f4d\uff0cc \u662f\u5149\u901f\uff0cL \u662f TOF \u7684\u98de\u884c\u8def\u5f84\u957f\u5ea6\uff0c\u03b2=(L/TOF)/c\uff0c\u03b3=1/1\u2212\u03b22\u200b\u3002  </li> <li>\u5728 A/Q vs Z \u56fe\u8c31\u4e0a\uff0c\u4e0d\u540c\u7684\u540c\u4f4d\u7d20\u4f1a\u805a\u96c6\u5728\u79bb\u6563\u7684\u70b9\u6216\u533a\u57df\uff0c\u4ece\u800c\u5b9e\u73b0\u5bf9\u6bcf\u4e2a\u7c92\u5b50\u7684\u552f\u4e00\u8bc6\u522b\u3002  </li> </ul> </li> <li>TArtRIPS \u5bf9\u8c61\u5b58\u50a8\u91cd\u5efa\u5f97\u5230\u7684 A/Q \u548c Z \u503c\uff0c\u800c TArtBeam \u5bf9\u8c61\u5219\u53ef\u80fd\u5b58\u50a8\u6839\u636e\u4e0d\u540c PID \u95e8\u9009\u62e9\u51fa\u7684\u7279\u5b9a\u675f\u6d41\u7c92\u5b50\u96c6\u5408\u3002</li> </ul> <p>\u5b9e\u73b0\u9ad8\u8d28\u91cf\u7684 PID \u5e76\u975e\u4f9d\u8d56\u5355\u4e00\u63a2\u6d4b\u5668\uff0c\u800c\u662f BigRIPS \u4e2d PPACs\u3001\u5851\u6599\u95ea\u70c1\u4f53\u548c\u7535\u79bb\u5ba4\u534f\u540c\u5de5\u4f5c\u7684\u7ed3\u679c\u3002PPAC \u63d0\u4f9b\u7cbe\u786e\u7684\u8f68\u8ff9\u4fe1\u606f\u7528\u4e8e B\u03c1 \u91cd\u5efa\u548c\u8def\u5f84\u957f\u5ea6\u6821\u6b63\uff1b\u5851\u6599\u95ea\u70c1\u4f53\u63d0\u4f9b\u6838\u5fc3\u7684 TOF \u4fe1\u606f\uff1b\u7535\u79bb\u5ba4\u5219\u63d0\u4f9b\u5173\u952e\u7684 \u0394E \u4fe1\u606f\u7528\u4e8e Z \u7684\u786e\u5b9a\u3002\u5206\u6790\u8f6f\u4ef6\uff08\u5982 ANAROOT \u4e2d\u7684 TArtCalibPID \u7c7b\uff09\u5fc5\u987b\u80fd\u591f\u6709\u6548\u5730\u6574\u5408\u8fd9\u4e9b\u6765\u81ea\u4e0d\u540c\u63a2\u6d4b\u5668\u7684\u3001\u7ecf\u8fc7\u5404\u81ea\u590d\u6742\u523b\u5ea6\u7684\u6570\u636e\u6d41\uff0c\u624d\u80fd\u6700\u7ec8\u5b9e\u73b0\u53ef\u9760\u7684\u7c92\u5b50\u9274\u522b\u3002\u4efb\u4f55\u4e00\u4e2a\u73af\u8282\u7684\u523b\u5ea6\u4e0d\u51c6\u786e\uff0c\u90fd\u4f1a\u76f4\u63a5\u5f71\u54cd\u6700\u7ec8 PID \u7684\u5206\u8fa8\u7387\u548c\u51c6\u786e\u6027\u3002 5.6 \u793a\u4f8b\u5206\u6790\u811a\u672c\uff1aRecoPID.C \u5256\u6790 ANAROOT \u5728\u5176 example/Macros/BigRIPS/ \u76ee\u5f55\u4e0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3a RecoPID.C \u7684\u793a\u4f8b\u5b8f 10\u3002\u8fd9\u4e2a\u5b8f\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 ANAROOT \u5bf9 BigRIPS \u6570\u636e\u8fdb\u884c\u7c92\u5b50\u9274\u522b\u5206\u6790\u3002\u4ee5\u4e0b\u662f\u5bf9\u5176\u4e3b\u8981\u6b65\u9aa4\u7684\u5256\u6790\uff1a</p> <ol> <li>\u52a0\u8f7d\u5fc5\u8981\u7684 ANAROOT \u5171\u4eab\u5e93:    C++    gSystem-&gt;Load(\"libanacore.so\");      // ANAROOT \u6838\u5fc3\u5e93    gSystem-&gt;Load(\"libanabrips.so\");     // BigRIPS \u76f8\u5173\u5206\u6790\u5e93    // \u53ef\u80fd\u8fd8\u9700\u8981\u52a0\u8f7d\u5176\u4ed6\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u5e93</li> </ol> <p>\u8fd9\u4e9b\u5e93\u5305\u542b\u4e86\u8fdb\u884c\u540e\u7eed\u5206\u6790\u6240\u9700\u7684\u7c7b\u5b9a\u4e49\u548c\u51fd\u6570\u5b9e\u73b0\u3002 2. \u521b\u5efa\u53c2\u6570\u7ba1\u7406\u5668\u5e76\u52a0\u8f7d XML \u53c2\u6570\u6587\u4ef6:    C++    TArtStoreManager* sm = TArtStoreManager::Instance();    TArtBigRIPSParameters *brparams = new TArtBigRIPSParameters(\"BigRIPSParameters\", \"BigRIPSParameters\");    brparams-&gt;LoadParameter(\"db/BigRIPSPPAC.xml\");    brparams-&gt;LoadParameter(\"db/BigRIPSPlastic.xml\");    brparams-&gt;LoadParameter(\"db/BigRIPSIC.xml\");    brparams-&gt;LoadParameter(\"db/FocalPlane.xml\");    // \u6839\u636e\u9700\u8981\u52a0\u8f7d\u5176\u4ed6\u53c2\u6570\u6587\u4ef6\uff0c\u5982 TOFCalib.xml, Matrix.xml \u7b49    sm-&gt;AddParameters(brparams);</p> <p>\u8fd9\u4e00\u6b65\u4e0e 5.3 \u8282\u63cf\u8ff0\u7684\u7c7b\u4f3c\uff0c\u4e3a\u540e\u7eed\u7684\u523b\u5ea6\u548c\u91cd\u5efa\u51c6\u5907\u597d\u6240\u6709\u5fc5\u8981\u7684\u53c2\u6570\u3002 3. \u521b\u5efa\u4e8b\u4ef6\u5b58\u50a8\u5bf9\u8c61\u5e76\u6253\u5f00 RIDF \u6570\u636e\u6587\u4ef6:    C++    TArtEventStore *estore = new TArtEventStore();    estore-&gt;Open(\"path/to/your/datafile.ridf\"); // \u6216\u8005 estore-&gt;Open(shared_memory_key) \u7528\u4e8e\u5728\u7ebf\u5206\u6790</p> <ol> <li>\u521b\u5efa\u6838\u5fc3 PID \u6821\u51c6/\u91cd\u5efa\u5bf9\u8c61:    C++    TArtCalibPID *calibPID = new TArtCalibPID();    // TArtCalibPID \u5bf9\u8c61\u4f1a\u81ea\u52a8\u4ece TArtStoreManager \u4e2d\u67e5\u627e TArtBigRIPSParameters \u7b49\u6240\u9700\u53c2\u6570    // \u5b83\u5185\u90e8\u4f1a\u521b\u5efa\u548c\u7ba1\u7406 TArtCalibPPAC, TArtCalibPlastic, TArtCalibIC,    // TArtRecoTOF, TArtRecoRIPS \u7b49\u5b50\u5bf9\u8c61\u3002</li> </ol> <p>TArtCalibPID \u662f\u6267\u884c BigRIPS \u7c92\u5b50\u9274\u522b\u7684\u6838\u5fc3\u5f15\u64ce\u3002 5. \u5b9a\u4e49\u76f4\u65b9\u56fe\u548c N\u5143\u7ec4 (\u53ef\u9009\uff0c\u4f46\u901a\u5e38\u9700\u8981):    C++    // \u4f8b\u5982: \u0394E vs TOF, A/Q vs Z, \u5404\u63a2\u6d4b\u5668\u7684\u539f\u59cb/\u523b\u5ea6\u8c31\u7b49    TH2F *hDeltaE_TOF = new TH2F(\"hDeltaE_TOF\", \"DeltaE vs TOF;TOF (arb. units);DeltaE (arb. units)\", 400, 200, 300, 400, 500, 1500);    TH2F *hAoQ_Z = new TH2F(\"hAoQ_Z\", \"A/Q vs Z;Z;A/Q\", 200, 20, 70, 200, 2.0, 3.0);    // TTree *pid_tree = new TTree(\"pid_tree\", \"PID Ntuple\");    // pid_tree-&gt;Branch(...);</p> <ol> <li> <p>\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af:    C++    while(estore-&gt;GetNextEvent()){        // \u6e05\u9664\u4e0a\u4e00\u4e2a\u4e8b\u4ef6\u7684\u6570\u636e        calibPID-&gt;ClearData(); // \u8fd9\u4f1a\u9012\u5f52\u8c03\u7528\u5176\u7ba1\u7406\u7684\u5b50\u5bf9\u8c61\u7684 ClearData()</p> <p>// \u6267\u884c\u672c\u4e8b\u4ef6\u7684\u523b\u5ea6\u548c\u91cd\u5efa    calibPID-&gt;ReconstructData(); // \u8fd9\u4f1a\u9012\u5f52\u8c03\u7528\u5176\u7ba1\u7406\u7684\u5b50\u5bf9\u8c61\u7684 ReconstructData()</p> <p>// \u4ece TArtStoreManager \u6216 TArtCalibPID \u5bf9\u8c61\u83b7\u53d6\u523b\u5ea6/\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bb9\u5668    // \u793a\u4f8b\uff1a\u83b7\u53d6\u6700\u7ec8\u7684 RIPS \u5bf9\u8c61 (\u5305\u542b A/Q \u548c Z)    TClonesArray *rips_array = (TClonesArray*)sm-&gt;FindDataContainer(\"BigRIPSRIPS\"); // \u540d\u79f0\u53ef\u80fd\u4e3a \"BigRIPSRIPS\" \u6216\u7531 TArtCalibPID \u5b9a\u4e49    if(rips_array){        for(int i=0; i\\&lt;rips_array-&gt;GetEntriesFast(); ++i){            TArtRIPS *rips = (TArtRIPS*)rips_array-&gt;At(i);            if(rips){                // hAoQ_Z-&gt;Fill(rips-&gt;GetZet(), rips-&gt;GetAoQ());            }        }    }</p> <p>// \u793a\u4f8b\uff1a\u83b7\u53d6 TOF \u5bf9\u8c61 (\u5982 F3PL-F7PL TOF)    TArtTOF *tof_f3f7 = (TArtTOF*)calibPID-&gt;FindTOF(\"F3F7TOF\"); // \u5047\u8bbe FindTOF \u5b58\u5728\u6216\u901a\u8fc7 sm \u83b7\u53d6    // \u793a\u4f8b\uff1a\u83b7\u53d6 IC \u80fd\u91cf\u635f\u5931\u5bf9\u8c61    TArtIC *ic_sum = (TArtIC*)calibPID-&gt;FindIC(\"F7ICSUM\"); // \u5047\u8bbe FindIC \u5b58\u5728\u6216\u901a\u8fc7 sm \u83b7\u53d6</p> <p>// if (tof_f3f7 &amp;&amp; ic_sum) {    //     hDeltaE_TOF-&gt;Fill(tof_f3f7-&gt;GetTOF(), ic_sum-&gt;GetEnergy());    // }</p> <p>// \u793a\u4f8b\uff1a\u83b7\u53d6\u7279\u5b9a PPAC \u7684\u6570\u636e\uff0c\u5982  \u6240\u793a    TArtCalibPPAC *calibPPAC = calibPID-&gt;GetCalibPPAC(); // \u83b7\u53d6 PPAC \u6821\u51c6\u5bf9\u8c61\u7684\u6307\u9488    if (calibPPAC) {        TArtPPAC *f3ppac1a = calibPPAC-&gt;FindPPAC(\"F3PPAC-1A\"); // \u6309\u540d\u79f0\u67e5\u627e\u7279\u5b9a\u7684 PPAC \u5bf9\u8c61        if (f3ppac1a) {            // Double_t x_pos = f3ppac1a-&gt;GetX();            // Double_t y_pos = f3ppac1a-&gt;GetY();            // Fill PPAC related histograms...        }    }    // \u586b\u5145 N\u5143\u7ec4 (pid_tree-&gt;Fill())    }</p> </li> <li> <p>\u4e8b\u4ef6\u5faa\u73af\u7ed3\u675f\u540e\uff0c\u4fdd\u5b58\u7ed3\u679c:    C++    TFile *outFile = new TFile(\"RecoPID_output.root\", \"RECREATE\");    hDeltaE_TOF-&gt;Write();    hAoQ_Z-&gt;Write();    // pid_tree-&gt;Write();    outFile-&gt;Close();</p> </li> </ol> <p>RecoPID.C \u7684\u6838\u5fc3\u5728\u4e8e\u6b63\u786e\u914d\u7f6e TArtBigRIPSParameters\uff0c\u5b9e\u4f8b\u5316 TArtCalibPID\uff0c\u7136\u540e\u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u8c03\u7528\u5176 ClearData() \u548c ReconstructData() \u65b9\u6cd5\u3002\u4e4b\u540e\uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u901a\u8fc7 TArtStoreManager \u6216 TArtCalibPID \u63d0\u4f9b\u7684\u63a5\u53e3\u51fd\u6570\uff08\u5982 FindRIPS(), FindTOF(), GetCalibPPAC()-&gt;FindPPAC() \u7b49\uff09\u6765\u8bbf\u95ee\u6240\u9700\u7684\u5404\u79cd\u523b\u5ea6\u548c\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bf9\u8c61\uff0c\u5e76\u7528\u4e8e\u586b\u5145\u76f4\u65b9\u56fe\u6216 N\u5143\u7ec4\uff0c\u4ece\u800c\u5b8c\u6210\u7c92\u5b50\u9274\u522b\u5206\u6790\u3002\u8fd9\u4e2a\u5b8f\u662f\u7406\u89e3 BigRIPS \u6570\u636e\u5206\u6790\u6d41\u7a0b\u7684\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u5b9e\u9645\u6848\u4f8b\u3002 \u7b2c\u516d\u7ae0\uff1a\u4f7f\u7528 ANAROOT \u5206\u6790 NEBULA \u63a2\u6d4b\u5668\u6570\u636e NEBULA (NEutron Detectors for Breakup of Unstable Nuclei with Large Acceptance) \u662f\u4e00\u4e2a\u5927\u578b\u5851\u6599\u95ea\u70c1\u4f53\u9635\u5217\uff0c\u8bbe\u8ba1\u7528\u4e8e\u63a2\u6d4b\u6838\u53cd\u5e94\uff08\u5c24\u5176\u662f\u5728 SAMURAI \u8c31\u4eea\u5b9e\u9a8c\u4e2d\uff09\u4e2d\u51fa\u5c04\u7684\u9ad8\u80fd\u4e2d\u5b50\u3002\u672c\u7ae0\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 ANAROOT \u5206\u6790 NEBULA \u63a2\u6d4b\u5668\u7684\u6570\u636e\uff0c\u5305\u62ec\u5176\u63a2\u6d4b\u539f\u7406\u3001\u76f8\u5173 ANAROOT \u7c7b\u3001\u523b\u5ea6\u6d41\u7a0b\u548c\u4e2d\u5b50\u4e8b\u4ef6\u91cd\u5efa\u3002 6.1 NEBULA \u63a2\u6d4b\u5668\u6982\u8ff0 NEBULA \u63a2\u6d4b\u5668\u7cfb\u7edf\u4e3b\u8981\u7531\u591a\u5c42\u5851\u6599\u95ea\u70c1\u4f53\u68d2\u7ec4\u6210\uff0c\u6392\u5217\u6210\u5899\u72b6\u7ed3\u6784\uff0c\u4ee5\u8986\u76d6\u8f83\u5927\u7684\u7acb\u4f53\u89d2\uff0c\u4ece\u800c\u9ad8\u6548\u63a2\u6d4b\u6765\u81ea\u9776\u53cd\u5e94\u533a\u7684\u4e2d\u5b50 5\u3002</p> <ul> <li>\u4e3b\u8981\u6784\u6210: </li> <li>\u5851\u6599\u95ea\u70c1\u4f53\u68d2 (Plastic Scintillator Bars): \u6bcf\u6839\u68d2\u7684\u4e24\u7aef\u901a\u5e38\u90fd\u8fde\u63a5\u6709\u5149\u7535\u500d\u589e\u7ba1 (PMT)\uff0c\u7528\u4e8e\u63a2\u6d4b\u4e2d\u5b50\u4e0e\u95ea\u70c1\u4f53\u6750\u6599\uff08\u4e3b\u8981\u662f\u6c22\u6838\u548c\u78b3\u6838\uff09\u76f8\u4e92\u4f5c\u7528\u540e\u4ea7\u751f\u7684\u95ea\u70c1\u5149\u3002  </li> <li>VETO \u63a2\u6d4b\u5668 (\u53ef\u9009): NEBULA \u524d\u65b9\u53ef\u80fd\u8fd8\u914d\u5907\u6709\u5e26\u7535\u7c92\u5b50\u5426\u51b3\u63a2\u6d4b\u5668\uff08\u5982\u8584\u5851\u6599\u95ea\u70c1\u4f53\u6216\u591a\u4e1d\u6b63\u6bd4\u5ba4\uff0c\u5982 NEBULA-HPC 5\uff09\uff0c\u7528\u4e8e\u533a\u5206\u5165\u5c04\u7684\u662f\u4e2d\u5b50\u8fd8\u662f\u5e26\u7535\u7c92\u5b50\uff0c\u4ee5\u51cf\u5c11\u5e26\u7535\u7c92\u5b50\u5f15\u8d77\u7684\u672c\u5e95\u3002  </li> <li>\u6d4b\u91cf\u76ee\u6807: </li> <li>\u4e2d\u5b50\u7684\u98de\u884c\u65f6\u95f4 (Time-Of-Flight, TOF)\uff1a\u901a\u8fc7\u6d4b\u91cf\u4e2d\u5b50\u4ece\u53cd\u5e94\u9776\u5230\u8fbe NEBULA \u68d2\u7684\u65f6\u95f4\u3002  </li> <li>\u4e2d\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u7684\u80fd\u91cf\u6c89\u79ef (Light Output)\uff1a\u4e0e\u4e2d\u5b50\u80fd\u91cf\u6709\u5173\uff0c\u4f46\u5173\u7cfb\u590d\u6742\uff0c\u4e3b\u8981\u7528\u4e8e\u8bbe\u7f6e\u9608\u503c\u548c\u8fdb\u884c\u4e2d\u5b50/\u03b3\u7504\u522b\u3002  </li> <li>\u4e2d\u5b50\u51fb\u4e2d\u4f4d\u7f6e\uff1a\u6cbf\u95ea\u70c1\u4f53\u68d2\u65b9\u5411\u7684\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7\u4e24\u7aef PMT \u4fe1\u53f7\u7684\u65f6\u95f4\u5dee\u6216\u5e45\u5ea6\u6bd4\u786e\u5b9a\uff1b\u51fb\u4e2d\u54ea\u4e00\u6839\u68d2\u5219\u7ed9\u51fa\u4e86\u4e2d\u5b50\u5728\u5782\u76f4\u4e8e\u68d2\u65b9\u5411\u7684\u4e8c\u7ef4\u4f4d\u7f6e\u3002  </li> <li>\u7efc\u5408\u8fd9\u4e9b\u4fe1\u606f\uff0c\u53ef\u4ee5\u91cd\u5efa\u4e2d\u5b50\u7684\u51fa\u5c04\u89d2\u5ea6\u548c\u52a8\u91cf/\u80fd\u91cf\u3002</li> </ul> <p>NEBULA \u901a\u5e38\u4e0e SAMURAI \u78c1\u8c31\u4eea\u8054\u7528\uff0c\u7528\u4e8e\u7814\u7a76\u4e0d\u7a33\u5b9a\u539f\u5b50\u6838\u7684\u7834\u88c2\u53cd\u5e94\u3001\u5171\u632f\u6001\u8870\u53d8\u7b49\u7269\u7406\u8fc7\u7a0b\uff0c\u5176\u4e2d\u4e2d\u5b50\u662f\u91cd\u8981\u7684\u51fa\u5c04\u7c92\u5b50\u3002 6.2 \u76f8\u5173 ANAROOT \u7c7b ANAROOT \u4e3a NEBULA \u63a2\u6d4b\u5668\u63d0\u4f9b\u4e86\u4e13\u95e8\u7684\u7c7b\uff0c\u7528\u4e8e\u6570\u636e\u5904\u7406 5\u3002 \u88684\uff1a\u7528\u4e8e NEBULA \u5206\u6790\u7684\u6838\u5fc3 ANAROOT \u7c7b</p> \u7c7b\u540d (Class Name) \u63a2\u6d4b\u5668/\u7528\u9014 (Detector/Purpose) \u4e3b\u8981\u529f\u80fd/\u5b58\u50a8\u6570\u636e (Main Function/Stored Data) \u6765\u6e90 TArtCalibNEBULA NEBULA NEBULA \u63a2\u6d4b\u5668\u9635\u5217\u7684\u6574\u4f53\u523b\u5ea6\u4e0e\u91cd\u5efa\u534f\u8c03\u7c7b\u3002\u5b83\u4f1a\u7ba1\u7406\u548c\u8c03\u7528\u5bf9\u5355\u4e2a\u95ea\u70c1\u4f53\u68d2\u8fdb\u884c\u523b\u5ea6\u7684\u903b\u8f91\uff0c\u5e76\u53ef\u80fd\u5305\u542b\u4e2d\u5b50/\u03b3\u7504\u522b\u3001\u4e32\u6270\u5904\u7406\u7b49\u9ad8\u7ea7\u529f\u80fd\u3002 6 TArtNEBULAPla NEBULA Plastic Bar \u5b58\u50a8\u5355\u4e2a NEBULA \u5851\u6599\u95ea\u70c1\u4f53\u68d2\u523b\u5ea6\u540e\u7684\u6570\u636e\u3002\u901a\u5e38\u5305\u542b\uff1aTOF_L, TOF_R, QDC_L, QDC_R (\u4e24\u7aef PMT \u7684\u65f6\u95f4\u548c\u7535\u8377), \u5e73\u5747\u65f6\u95f4 (MeanTime), \u6cbf\u68d2\u7684\u51fb\u4e2d\u4f4d\u7f6e (PosY), \u603b\u5149\u8f93\u51fa (QTotal), \u8109\u51b2\u5f62\u72b6\u7504\u522b\u53c2\u6570 (\u5982 QTail/QTotal) \u7b49\u3002 5 TArtNEBULAHPC NEBULA HPC (VETO) (\u5982\u679c\u5b9e\u9a8c\u4e2d\u4f7f\u7528\u4e86 NEBULA \u7684\u9ad8\u538b\u6b63\u6bd4\u8ba1\u6570\u7ba1\u4f5c\u4e3a VETO) \u5b58\u50a8 HPC \u7684\u6570\u636e\uff0c\u7528\u4e8e\u8bc6\u522b\u548c\u5426\u51b3\u7a7f\u8fc7 NEBULA \u7684\u5e26\u7535\u7c92\u5b50\u3002 5 <p>TArtCalibNEBULA \u662f\u8fdb\u884c NEBULA \u6570\u636e\u5206\u6790\u7684\u5165\u53e3\u70b9\uff0c\u5b83\u8d1f\u8d23\u9a71\u52a8\u6574\u4e2a\u523b\u5ea6\u548c\u521d\u6b65\u91cd\u5efa\u6d41\u7a0b\u3002\u5206\u6790\u7ed3\u679c\uff0c\u5373\u6bcf\u4e2a\u88ab\u51fb\u4e2d\u7684 NEBULA \u95ea\u70c1\u4f53\u68d2\u7684\u4fe1\u606f\uff0c\u5219\u5b58\u50a8\u5728 TArtNEBULAPla \u5bf9\u8c61\u4e2d\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u901a\u5e38\u4ee5 TClonesArray \u7684\u5f62\u5f0f\u7531 TArtStoreManager \u7ba1\u7406\u3002 6.3 \u4e2d\u5b50\u63a2\u6d4b\u539f\u7406\u4e0e\u6570\u636e\u7279\u70b9 \u7406\u89e3\u4e2d\u5b50\u5728\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u7684\u63a2\u6d4b\u539f\u7406\u5bf9\u4e8e\u6b63\u786e\u5206\u6790 NEBULA \u6570\u636e\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u63a2\u6d4b\u539f\u7406: </li> <li>\u4e2d\u5b50\u662f\u7535\u4e2d\u6027\u7684\uff0c\u4e0d\u80fd\u76f4\u63a5\u5f15\u8d77\u7535\u79bb\u6216\u6fc0\u53d1\u3002\u5b83\u4eec\u4e3b\u8981\u901a\u8fc7\u4e0e\u95ea\u70c1\u4f53\u6750\u6599\u4e2d\u7684\u539f\u5b50\u6838\uff08\u4e3b\u8981\u662f\u6c22\u6838 H \u548c\u78b3\u6838 C\uff09\u53d1\u751f\u5f3a\u76f8\u4e92\u4f5c\u7528\uff08\u5f39\u6027\u6216\u975e\u5f39\u6027\u6563\u5c04\uff09\u6765\u88ab\u63a2\u6d4b\u3002  </li> <li>\u5728\u5f39\u6027\u6563\u5c04\u4e2d\uff0c\u4e2d\u5b50\u5c06\u5176\u90e8\u5206\u80fd\u91cf\u8f6c\u79fb\u7ed9\u53cd\u51b2\u7684\u8d28\u5b50\u6216\u78b3\u6838\u3002\u8fd9\u4e9b\u5e26\u7535\u7684\u53cd\u51b2\u7c92\u5b50\u968f\u540e\u5728\u95ea\u70c1\u4f53\u4e2d\u635f\u5931\u80fd\u91cf\uff0c\u5f15\u8d77\u6750\u6599\u7684\u6fc0\u53d1\u5e76\u53d1\u5c04\u95ea\u70c1\u5149\u3002  </li> <li>\u8fd9\u4e9b\u95ea\u70c1\u5149\u88ab PMT \u6536\u96c6\u5e76\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7\u3002  </li> <li>\u6570\u636e\u7279\u70b9: </li> <li>TOF \u662f\u5173\u952e: \u4e2d\u5b50\u7684\u80fd\u91cf\u4e3b\u8981\u901a\u8fc7\u6d4b\u91cf\u5176\u98de\u884c\u65f6\u95f4 (TOF) \u6765\u786e\u5b9a\u3002TOF \u8d8a\u77ed\uff0c\u80fd\u91cf\u8d8a\u9ad8\u3002  </li> <li>\u5149\u8f93\u51fa (QDC/ADC): PMT \u4fe1\u53f7\u7684\u5e45\u5ea6\uff08\u901a\u5e38\u7531 QDC \u6216 ADC \u6d4b\u91cf\u5f97\u5230\u7684\u5149\u8f93\u51fa\u91cf\uff09\u4e0e\u4e2d\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u6c89\u79ef\u7684\u80fd\u91cf\u6709\u5173\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u4e2d\u5b50\u80fd\u91cf\uff0c\u7531\u4e8e\u6563\u5c04\u8fc7\u7a0b\u7684\u968f\u673a\u6027\uff08\u6563\u5c04\u89d2\u5ea6\u3001\u53cd\u51b2\u6838\u7c7b\u578b\u7b49\uff09\uff0c\u5149\u8f93\u51fa\u7684\u54cd\u5e94\u5e76\u975e\u552f\u4e00\u786e\u5b9a\uff0c\u800c\u662f\u4e00\u4e2a\u8f83\u5bbd\u7684\u5206\u5e03\u3002\u56e0\u6b64\uff0c\u5149\u8f93\u51fa\u4e3b\u8981\u7528\u4e8e\u8bbe\u7f6e\u63a2\u6d4b\u9608\u503c\uff08\u4ee5\u6392\u9664\u4f4e\u80fd\u566a\u58f0\uff09\u548c\u8fdb\u884c\u4e2d\u5b50/\u03b3\u7504\u522b\u3002  </li> <li>\u51fb\u4e2d\u4f4d\u7f6e: \u6cbf\u95ea\u70c1\u4f53\u68d2\u7684\u957f\u5ea6\u65b9\u5411\uff08\u901a\u5e38\u5b9a\u4e49\u4e3a Y \u65b9\u5411\uff09\u7684\u51fb\u4e2d\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83\u4e24\u7aef PMT \u4fe1\u53f7\u5230\u8fbe\u7684\u65f6\u95f4\u5dee (Tleft\u200b\u2212Tright\u200b) \u6216\u4fe1\u53f7\u5e45\u5ea6\uff08\u5149\u8870\u51cf\u6548\u5e94\u5bfc\u81f4 Qleft\u200b vs Qright\u200b\uff09\u6765\u786e\u5b9a\u3002\u8fd9\u5bf9\u4e8e\u7cbe\u786e\u8ba1\u7b97\u4e2d\u5b50\u7684\u98de\u884c\u8def\u5f84\u957f\u5ea6\u548c\u51fa\u5c04\u89d2\u5ea6\u975e\u5e38\u91cd\u8981\u3002  </li> <li>\u03b3 \u5c04\u7ebf\u672c\u5e95: \u03b3 \u5c04\u7ebf\u662f NEBULA \u5b9e\u9a8c\u4e2d\u7684\u4e3b\u8981\u672c\u5e95\u6765\u6e90\u3002\u5b83\u4eec\u901a\u8fc7\u5eb7\u666e\u987f\u6563\u5c04\u6216\u5149\u7535\u6548\u5e94\u4e0e\u95ea\u70c1\u4f53\u4e2d\u7684\u7535\u5b50\u76f8\u4e92\u4f5c\u7528\uff0c\u4ea7\u751f\u4e0e\u4e2d\u5b50\u7c7b\u4f3c\u7684\u95ea\u70c1\u4fe1\u53f7\u3002\u5fc5\u987b\u901a\u8fc7\u8109\u51b2\u5f62\u72b6\u7504\u522b (PSD) \u6280\u672f\u6765\u533a\u5206\u4e2d\u5b50\u548c \u03b3 \u4e8b\u4ef6\u3002  </li> <li>\u4e32\u6270 (Cross-talk): <ul> <li>\u6563\u5c04\u4e32\u6270: \u4e00\u4e2a\u4e2d\u5b50\u53ef\u80fd\u5728\u4e00\u4e2a\u95ea\u70c1\u4f53\u68d2\u4e2d\u53d1\u751f\u6563\u5c04\uff0c\u635f\u5931\u90e8\u5206\u80fd\u91cf\u540e\uff0c\u4ee5\u8f83\u4f4e\u80fd\u91cf\u8fdb\u5165\u76f8\u90bb\u7684\u68d2\u518d\u6b21\u53d1\u751f\u76f8\u4e92\u4f5c\u7528\uff0c\u5bfc\u81f4\u5728\u591a\u4e2a\u68d2\u4e2d\u4ea7\u751f\u4fe1\u53f7\u3002\u8fd9\u53ef\u80fd\u88ab\u8bef\u5224\u4e3a\u591a\u4e2a\u72ec\u7acb\u7684\u4e2d\u5b50\u51fb\u4e2d\u3002  </li> <li>\u5149\u5b66\u4e32\u6270: \u4e00\u4e2a\u68d2\u4e2d\u4ea7\u751f\u7684\u95ea\u70c1\u5149\u53ef\u80fd\u76f4\u63a5\u4f20\u64ad\u5230\u76f8\u90bb\u68d2\u7684 PMT\uff0c\u6216\u8005\u901a\u8fc7\u53cd\u5c04\u88ab\u63a2\u6d4b\u5230\uff0c\u9020\u6210\u865a\u5047\u4fe1\u53f7\u3002 \u4e32\u6270\u5904\u7406\u662f\u4e2d\u5b50\u9635\u5217\u6570\u636e\u5206\u6790\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6311\u6218\u3002</li> </ul> </li> </ul> <p>6.4 NEBULA \u523b\u5ea6\u6d41\u7a0b\u8be6\u89e3 \u5bf9 NEBULA \u63a2\u6d4b\u5668\u8fdb\u884c\u7cbe\u786e\u523b\u5ea6\u662f\u83b7\u5f97\u53ef\u9760\u4e2d\u5b50\u7269\u7406\u4fe1\u606f\u7684\u57fa\u7840\u300213 \u5f3a\u8c03\u4e86\u523b\u5ea6\u7a0b\u5e8f\u5728\u7c7b\u4f3c\u5b9e\u9a8c\u4e2d\u7684\u91cd\u8981\u6027\u3002\u4e00\u4e2a\u5178\u578b\u7684 NEBULA \u523b\u5ea6\u6d41\u7a0b\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u65f6\u95f4\u523b\u5ea6 (Timing Calibration): </li> <li>PMT \u4fe1\u53f7\u7684\u6e21\u8d8a\u65f6\u95f4\u6821\u6b63 (Walk Correction / Slewing Correction): PMT \u8f93\u51fa\u4fe1\u53f7\u7684\u5b9e\u9645\u89e6\u53d1\u65f6\u95f4\u53ef\u80fd\u4f9d\u8d56\u4e8e\u4fe1\u53f7\u7684\u5e45\u5ea6\u3002\u5e45\u5ea6\u8f83\u5927\u7684\u4fe1\u53f7\u901a\u5e38\u4f1a\u6bd4\u8f83\u65e9\u5730\u8fbe\u5230\u7504\u522b\u5668\u7684\u9608\u503c\u3002\u8fd9\u79cd\u6548\u5e94\uff08\u79f0\u4e3a time walk \u6216 slewing\uff09\u9700\u8981\u88ab\u6821\u6b63\uff0c\u4ee5\u786e\u4fdd\u65f6\u95f4\u6d4b\u91cf\u7684\u51c6\u786e\u6027\uff0c\u4e0d\u53d7\u4fe1\u53f7\u5927\u5c0f\u7684\u5f71\u54cd\u3002\u6821\u6b63\u901a\u5e38\u57fa\u4e8e TDC \u503c\u548c\u76f8\u5e94\u7684 QDC/ADC \u503c\uff08\u4fe1\u53f7\u5e45\u5ea6\uff09\u4e4b\u95f4\u7684\u5173\u7cfb\u8fdb\u884c\u3002  </li> <li>\u68d2\u5185\u65f6\u95f4\u5bf9\u9f50 (Intra-bar Time Alignment / Time Offset Correction): \u786e\u4fdd\u95ea\u70c1\u4f53\u68d2\u4e24\u7aef PMT \u7684\u76f8\u5bf9\u65f6\u95f4\u57fa\u51c6\u4e00\u81f4\u3002\u5373\uff0c\u5f53\u7c92\u5b50\u51fb\u4e2d\u68d2\u7684\u51e0\u4f55\u4e2d\u5fc3\u65f6\uff0c\u4e24\u7aef PMT \u8bb0\u5f55\u7684\u65f6\u95f4\uff08\u7ecf\u8fc7 walk \u6821\u6b63\u540e\uff09\u5e94\u8be5\u76f8\u540c\uff0c\u6216\u8005\u5176\u5dee\u503c\u5e94\u8be5\u5bf9\u5e94\u4e8e\u5149\u5728\u68d2\u5185\u4f20\u64ad\u534a\u957f\u6240\u9700\u7684\u65f6\u95f4\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u8c03\u6574\u5176\u4e2d\u4e00\u4e2a PMT \u7684\u65f6\u95f4\u504f\u79fb\u6765\u5b9e\u73b0\u3002\u53ef\u4ee5\u4f7f\u7528\u5b87\u5b99\u5c04\u7ebf muon \u6216\u4e2d\u5fc3\u653e\u7f6e\u7684 \u03b3 \u6e90\u8fdb\u884c\u6807\u5b9a\u3002  </li> <li>\u7edd\u5bf9\u65f6\u95f4\u53c2\u8003 (Absolute Time Reference / T0\u200b Calibration): \u5c06 NEBULA \u63a2\u6d4b\u5668\u8bb0\u5f55\u7684\u65f6\u95f4\u4e0e\u5b9e\u9a8c\u7684\u5168\u5c40\u8d77\u59cb\u65f6\u95f4 (T0\u200b) \u5bf9\u9f50\uff0c\u4ee5\u4fbf\u8ba1\u7b97\u771f\u5b9e\u7684\u98de\u884c\u65f6\u95f4 (TOF)\u3002T0\u200b \u901a\u5e38\u7531\u53cd\u5e94\u9776\u533a\u7684\u5feb\u4fe1\u53f7\u63d0\u4f9b\uff0c\u4f8b\u5982\uff1a  <ul> <li>\u675f\u6d41\u7c92\u5b50\u5230\u8fbe\u9776\u7684\u65f6\u523b\uff08\u7531\u4e0a\u6e38\u675f\u6d41\u63a2\u6d4b\u5668\u5982\u5851\u6599\u95ea\u70c1\u4f53\u7ed9\u51fa\uff09\u3002  </li> <li>\u53cd\u5e94\u4ea7\u751f\u7684\u77ac\u53d1 \u03b3 \u5c04\u7ebf\u95ea\u5149\uff08\u7531\u653e\u7f6e\u5728\u9776\u533a\u9644\u8fd1\u7684\u5c0f\u578b\u3001\u5feb\u901f \u03b3 \u63a2\u6d4b\u5668\uff0c\u5982 BaF\\_2\\_2 \u6216 LaBr\\_3\\_3 \u95ea\u70c1\u4f53\uff0c\u63a2\u6d4b\u5230\uff09\u3002 \u901a\u8fc7\u6d4b\u91cf\u5df2\u77e5 TOF \u7684\u7c92\u5b50\uff08\u5982\u76f4\u63a5\u4ece\u9776\u533a\u98de\u5411 NEBULA \u7684 \u03b3 \u5c04\u7ebf\uff0c\u5176 TOF = \u8ddd\u79bb/c\uff09\u6216\u901a\u8fc7\u5206\u6790\u7279\u5b9a\u53cd\u5e94\u9053\u7684\u65f6\u95f4\u7ed3\u6784\uff0c\u53ef\u4ee5\u786e\u5b9a\u6bcf\u4e2a NEBULA \u68d2\u7684 T0\u200b \u504f\u79fb\u3002  </li> </ul> </li> <li>\u80fd\u91cf\u523b\u5ea6 (Light Output Calibration): </li> <li>\u76ee\u6807\uff1a\u5efa\u7acb PMT \u8f93\u51fa\u7684\u7535\u8377\u4fe1\u53f7 (QDC/ADC \u503c) \u4e0e\u7c92\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u6c89\u79ef\u7684\u80fd\u91cf\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5bf9\u4e8e\u4e2d\u5b50\u63a2\u6d4b\uff0c\u901a\u5e38\u5c06\u5149\u8f93\u51fa\u523b\u5ea6\u4e3a\u7535\u5b50\u7b49\u6548\u80fd\u91cf (MeVee)\uff0c\u5373\u4ea7\u751f\u76f8\u540c\u5149\u8f93\u51fa\u7684\u7535\u5b50\u7684\u80fd\u91cf\u3002  </li> <li>\u65b9\u6cd5\uff1a  <ul> <li>\u4f7f\u7528\u6807\u51c6 \u03b3 \u5c04\u7ebf\u6e90 (\u5982 60Co, ^{137}^{137}Cs, 22Na, 241Am \u7b49)\u3002\u8fd9\u4e9b\u6e90\u53d1\u5c04\u5df2\u77e5\u80fd\u91cf\u7684 \u03b3 \u5c04\u7ebf\uff0c\u5b83\u4eec\u5728\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u4e3b\u8981\u901a\u8fc7\u5eb7\u666e\u987f\u6563\u5c04\u635f\u5931\u80fd\u91cf\u3002\u901a\u8fc7\u6d4b\u91cf\u5eb7\u666e\u987f\u6563\u5c04\u7535\u5b50\u80fd\u8c31\u7684\u672b\u7aef\uff08\u5eb7\u666e\u987f\u8fb9\uff09\u5bf9\u5e94\u7684 QDC/ADC \u503c\uff0c\u53ef\u4ee5\u5efa\u7acb\u5149\u8f93\u51fa\u4e0e MeVee \u4e4b\u95f4\u7684\u5173\u7cfb\u3002  </li> <li>\u4f7f\u7528\u5b87\u5b99\u5c04\u7ebf muon\u3002Muon \u5728\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u901a\u5e38\u8868\u73b0\u4e3a\u6700\u5c0f\u7535\u79bb\u7c92\u5b50 (MIP)\uff0c\u5176\u80fd\u91cf\u635f\u5931\u8c31\u6709\u4e00\u4e2a\u53ef\u8bc6\u522b\u7684\u5cf0\uff08\u6717\u9053\u5206\u5e03\uff09\u3002\u8fd9\u4e2a\u5cf0\u4f4d\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u523b\u5ea6\u70b9\u3002  </li> </ul> </li> <li>\u6b64\u80fd\u91cf\u523b\u5ea6\u4e3b\u8981\u7528\u4e8e\uff1a  <ol> <li>\u8bbe\u7f6e\u63a2\u6d4b\u5668\u7684\u80fd\u91cf\u9608\u503c\uff0c\u4ee5\u6392\u9664\u7535\u5b50\u5b66\u566a\u58f0\u548c\u6781\u4f4e\u80fd\u7684\u80cc\u666f\u3002  </li> <li>\u4e3a\u4e2d\u5b50/\u03b3\u7504\u522b (PSD) \u63d0\u4f9b</li> </ol> </li> </ul>"},{"location":"sci/project/samurai/anaroot/#\u5f15\u7528\u7684\u8457\u4f5c","title":"\u5f15\u7528\u7684\u8457\u4f5c","text":"<ol> <li>Tools/Analysis/ANAROOT/Installation - RIBFDAQ, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FInstallation </li> <li>Tools/Analysis/ANAROOT - RIBFDAQ, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT </li> <li>ANAROOT: new online/offline framework for RIBF data analysis based on ROOT, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?plugin=attach\\&amp;refer=Tools%2FAnalysis%2FANAROOT\\&amp;openfile=anaroot_ribfusermeeting2013.pdf </li> <li>Tools/Analysis/ANAROOT/Go4 - RIBFDAQ, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FGo4 </li> <li>Tools/Analysis/ANAROOT/Abstract - RIBFDAQ, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FAbstract </li> <li>ANAROOT/Manual/analoop - Kondo Moin Wiki, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/analoop </li> <li>ANAROOT/Manual/reference - Kondo Moin Wiki, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/reference </li> <li>Different Types of Workflows in Data Pipelines - Peliqan, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://peliqan.io/blog/different-types-of-workflows-in-data-pipelines/ </li> <li>Graceful Logic Evolution in Web Data Processing Workflows, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c http://i.stanford.edu/~olston/publications/workflowEvolutionTR.pdf </li> <li>Tools/Analysis/ANAROOT/Tutorial - RIBFDAQ, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FTutorial </li> <li>\u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e00\u6708 1, 1970\uff0c https_ribf_riken_jp_RIBFDAQ_index_php_plugin_attach_refer_Tools%2FAnalysis%2FANAROOT_openfile_anaroot_ribfusermeeting2013_pdf </li> <li>Yuto Ichinohe (RIKEN Nishina Center) - Indico Global, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://indico.global/event/6805/contributions/58357/attachments/29459/52337/OS_day2_id48_ichinohe.pdf </li> <li>Low-energy dipole response of the halo nuclei - INIS-IAEA, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://inis.iaea.org/records/w1kc8-5ep03/files/53109350.pdf?download=1 </li> <li>Low-energy dipole response of the halo nuclei 6,8He - TUprints - TU Darmstadt, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e94\u6708 23, 2025\uff0c https://tuprints.ulb.tu-darmstadt.de/20267/1/Dissertation_LehrChristopher_2022-01-04.pdf</li> </ol>"},{"location":"sci/project/samurai/anaroot2version/","title":"ANAROOT \u8be6\u7ec6\u4e2d\u6587\u6587\u6863","text":""},{"location":"sci/project/samurai/anaroot2version/#\u6458\u8981","title":"\u6458\u8981","text":"<p>\u672c\u62a5\u544a\u65e8\u5728\u4e3aRIKEN RIBF\u7684\u7528\u6237\u63d0\u4f9b\u4e00\u4efd\u5173\u4e8eANAROOT\u8f6f\u4ef6\u6846\u67b6\u7684\u8be6\u5c3d\u4e2d\u6587\u6307\u5357\u3002ANAROOT\u662fRIBF\u5b9e\u9a8c\u4e2d\u8fdb\u884c\u5728\u7ebf\u548c\u79bb\u7ebf\u6570\u636e\u5206\u6790\u7684\u6838\u5fc3\u5de5\u5177\uff0c\u57fa\u4e8eROOT\u5f00\u53d1\u3002\u672c\u6587\u6863\u5c06\u4eceANAROOT\u7684\u57fa\u7840\u77e5\u8bc6\u3001\u5b89\u88c5\u914d\u7f6e\u8bb2\u8d77\uff0c\u9010\u6b65\u6df1\u5165\u5230\u5176\u6838\u5fc3\u6982\u5ff5\u3001\u6570\u636e\u5904\u7406\u6d41\u7a0b\u4ee5\u53ca\u811a\u672c\u7f16\u5199\u3002</p> <p>\u7279\u522b\u5730\uff0c\u672c\u6587\u5c06\u91cd\u70b9\u9610\u8ff0\u5982\u4f55\u4f7f\u7528ANAROOT\u5206\u6790SAMURAI\u5b9e\u9a8c\u4e2d\u7684\u6f02\u79fb\u5ba4 (DC, \u5373\u7528\u6237\u6240\u79f0\u7684\u8d28\u5b50\u6f02\u79fb\u5ba4PDC) \u548cNEBULA\u4e2d\u5b50\u63a2\u6d4b\u5668\u7684\u6570\u636e\uff0c\u5305\u62ec\u6570\u636e\u523b\u5ea6\u3001\u5f84\u8ff9\u91cd\u5efa\u3001\u4e2d\u5b50\u9274\u522b\u7b49\u5173\u952e\u6b65\u9aa4\u3002\u6b64\u5916\uff0c\u6587\u6863\u5c06\u660e\u786e\u6f84\u6e05\u5148\u524d\u5b58\u5728\u7684\u5173\u4e8eBigRIPS\u7126\u5e73\u9762PPACs\u88ab\u8bef\u8ba4\u4e3aPDC\u7684\u60c5\u51b5\uff0c\u5e76\u8be6\u7ec6\u533a\u5206\u4e24\u8005\u5728\u5b9e\u9a8c\u4e2d\u7684\u529f\u80fd\u548c\u6570\u636e\u5206\u6790\u65b9\u6cd5\u3002</p> <p>\u901a\u8fc7\u672c\u6307\u5357\uff0c\u7528\u6237\u6709\u671b\u4eceANAROOT\u7684\u521d\u5b66\u8005\u6210\u957f\u4e3a\u80fd\u591f\u72ec\u7acb\u8fdb\u884c\u590d\u6742\u6570\u636e\u5206\u6790\u7684\u719f\u7ec3\u4f7f\u7528\u8005\u3002</p> <p>\u5173\u952e\u8bcd: ANAROOT, RIKEN, RIBF, SAMURAI, PDC, DC, NEBULA, ROOT, \u6570\u636e\u5206\u6790, \u6838\u7269\u7406\u5b9e\u9a8c</p>"},{"location":"sci/project/samurai/anaroot2version/#\u7b2c\u4e00\u90e8\u5206anaroot\u57fa\u7840","title":"\u7b2c\u4e00\u90e8\u5206\uff1aANAROOT\u57fa\u7840","text":""},{"location":"sci/project/samurai/anaroot2version/#1-anaroot\u7b80\u4ecb","title":"1. ANAROOT\u7b80\u4ecb","text":""},{"location":"sci/project/samurai/anaroot2version/#11-anaroot\u662f\u4ec0\u4e48","title":"1.1 ANAROOT\u662f\u4ec0\u4e48\uff1f","text":"<p>ANAROOT \u662f\u4e00\u6b3e\u57fa\u4e8eROOT\u6846\u67b6\u7684\u5de5\u5177\u5305\uff0c\u4e13\u4e3aRIKEN\u7406\u5316\u5b66\u7814\u7a76\u6240\u7684\u653e\u5c04\u6027\u540c\u4f4d\u7d20\u675f\u5de5\u5382 (Radioactive Isotope Beam Factory, RIBF) \u7684\u5b9e\u9a8c\u9879\u76ee\u8fdb\u884c\u5728\u7ebf\u548c\u79bb\u7ebf\u6570\u636e\u5206\u6790\u800c\u8bbe\u8ba1 [1]\u3002\u8be5\u8f6f\u4ef6\u7531RIBFDAQ\u56e2\u961f\u5f00\u53d1\uff0c\u5e76\u9488\u5bf9RIBF\u6570\u636e\u91c7\u96c6\u7cfb\u7edf (Babirl) \u4ea7\u751f\u7684RIDF (RIKEN Data Format) \u539f\u59cb\u6570\u636e\u8fdb\u884c\u4e86\u4f18\u5316 [2, 3]\u3002</p> <p>ANAROOT\u4f5c\u4e3aRIBF\u5b9e\u9a8c\u7684\u6807\u51c6\u6570\u636e\u5206\u6790\u5e73\u53f0\uff0c\u4e3a\u5904\u7406RIBF\u72ec\u7279\u7684\u6570\u636e\u683c\u5f0f\u548c\u63a2\u6d4b\u5668\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e13\u95e8\u7684\u5de5\u5177\uff0c\u786e\u4fdd\u4e86\u5206\u6790\u7684\u4e00\u81f4\u6027\u3002\u5176\u6784\u5efa\u4e8eROOT\u4e4b\u4e0a\uff0c\u4f7f\u5f97\u7814\u7a76\u4eba\u5458\u53ef\u4ee5\u5229\u7528ROOT\u65e2\u6709\u7684\u5e9e\u5927\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316\u529f\u80fd\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#\u8bbe\u8ba1\u76ee\u6807\u4e0e\u5e94\u7528\u573a\u666f-ribf\u5b9e\u9a8c","title":"\u8bbe\u8ba1\u76ee\u6807\u4e0e\u5e94\u7528\u573a\u666f (RIBF\u5b9e\u9a8c)","text":"<p>ANAROOT\u7684\u4e3b\u8981\u76ee\u7684\u662f\u4e3aRIBF\u7684\u6838\u7269\u7406\u5b9e\u9a8c\u63d0\u4f9b\u6570\u636e\u5206\u6790\u529f\u80fd [2]\u3002\u5b83\u5df2\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u5b9e\u9a8c\u9879\u76ee\u4e2d\uff0c\u4f8b\u5982SAMURAI 2024\u5e744\u6708\u7684\u5b9e\u9a8c\u3001EURICA\u5b9e\u9a8c\u4ee5\u53ca\u6d89\u53caBigRIPS\u8c31\u4eea\u7684\u591a\u6b21\u5b9e\u9a8c [2]\u3002</p> <p>\u8be5\u8f6f\u4ef6\u652f\u6301\u5229\u7528BigRIPS\u6216ZeroDegree\u8c31\u4eea\u8fdb\u884c\u6b21\u7ea7\u7c92\u5b50\u9274\u522b\uff0c\u5e76\u5305\u542b\u4e86\u9488\u5bf9SAMURAI\u8c31\u4eea\u548cEURICA\u63a2\u6d4b\u5668\u9635\u5217\uff08\u5305\u62ec\u57fa\u4e8e\u65f6\u95f4\u6233\u7684\u4e8b\u4f8b\u91cd\u5efa\uff09\u7684\u91cd\u5efa\u4ee3\u7801 [3, 1]\u3002ANAROOT\u4e13\u4e3aRIBF\u7684\u9ad8\u5f3a\u5ea6\u3001\u590d\u6742\u5b9e\u9a8c\u73af\u5883\u91cf\u8eab\u5b9a\u5236\uff0c\u8fd9\u4e9b\u5b9e\u9a8c\u901a\u5e38\u6d89\u53ca\u591a\u79cd\u63a2\u6d4b\u5668\uff0c\u9700\u8981\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u6d41\u7a0b\u4ee5\u5b8c\u6210\u7c92\u5b50\u9274\u522b (Particle Identification, PID)\u3001\u5f84\u8ff9\u8ffd\u8e2a\u4ee5\u53ca\u80fd\u91cf\u548c\u65f6\u95f4\u6d4b\u91cf\u7b49\u4efb\u52a1\u3002\u8f6f\u4ef6\u7684\u6301\u7eed\u5f00\u53d1\u4e5f\u53cd\u6620\u4e86\u8fd9\u4e9b\u5b9e\u9a8c\u9700\u6c42\u7684\u4e0d\u65ad\u6f14\u8fdb\u3002</p> <p>ANAROOT\u7684\u66f4\u65b0\u65e5\u5fd7\u4e2d\u9891\u7e41\u63d0\u53ca\u5404\u7c7b\u5b9e\u9a8c\u9879\u76ee\u548c\u5177\u4f53\u5e74\u4efd\u7684\u5b9e\u9a8c\u6d3b\u52a8 [2]\uff0c\u8fd9\u8868\u660eANAROOT\u662f\u4e00\u4e2a\u201c\u6d3b\u7684\u201d\u9879\u76ee\uff0c\u5176\u5f00\u53d1\u56e2\u961f\u6839\u636e\u5b9e\u9645\u79d1\u7814\u9700\u6c42\u5bf9\u5176\u8fdb\u884c\u6301\u7eed\u7684\u7ef4\u62a4\u548c\u8c03\u6574\u3002\u8fd9\u610f\u5473\u7740\u7528\u6237\u53ef\u4ee5\u671f\u5f85\u83b7\u5f97\u4e00\u4e2a\u4e0eRIBF\u5f53\u524d\u5b9e\u9a8c\u9700\u6c42\u57fa\u672c\u4fdd\u6301\u540c\u6b65\u7684\u5de5\u5177\u96c6\u3002\u8fd9\u79cd\u4e0e\u5b9e\u9a8c\u7d27\u5bc6\u7ed3\u5408\u7684\u5f00\u53d1\u6a21\u5f0f\uff0c\u4e00\u65b9\u9762\u4fdd\u8bc1\u4e86\u8f6f\u4ef6\u529f\u80fd\u7684\u5b9e\u7528\u6027\u548c\u5148\u8fdb\u6027\uff0c\u56e0\u4e3a\u5b83\u662f\u7ecf\u8fc7\u5b9e\u9645\u5b9e\u9a8c\u6570\u636e\u68c0\u9a8c\u548c\u4f18\u5316\u7684\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u975e\u5e38\u65b0\u6216\u7279\u6b8a\u7684\u5b9e\u9a8c\u914d\u7f6e\uff0c\u5176\u67d0\u4e9b\u529f\u80fd\u6216\u6587\u6863\u7684\u6210\u719f\u5ea6\u53ef\u80fd\u76f8\u8f83\u4e8e\u5386\u53f2\u60a0\u4e45\u3001\u914d\u7f6e\u56fa\u5b9a\u7684\u5b9e\u9a8c\u88c5\u7f6e\u7565\u6709\u4e0d\u8db3\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#12-anaroot\u4e0eroot\u6846\u67b6\u7684\u5173\u7cfb","title":"1.2 ANAROOT\u4e0eROOT\u6846\u67b6\u7684\u5173\u7cfb","text":"<p>ANAROOT\u6df1\u5ea6\u6574\u5408\u5e76\u4f9d\u8d56\u4e8eROOT\u7a0b\u5e8f\u5e93\uff0c\u56e0\u6b64\uff0c\u5728\u5b89\u88c5ANAROOT\u4e4b\u524d\uff0c\u5fc5\u987b\u9996\u5148\u6b63\u786e\u5b89\u88c5\u5e76\u914d\u7f6eROOT\u73af\u5883 [2]\u3002ANAROOT\u5728\u521d\u59cb\u5316\u65f6\u4f1a\u751f\u6210ROOT\u767b\u5f55\u5b8f\uff08\u4f8b\u5982 <code>rootlogon.C</code> \u548c <code>.rootrc</code> \u6587\u4ef6\uff09\uff0c\u7528\u4e8e\u914d\u7f6eROOT\u73af\u5883\u4ee5\u52a0\u8f7dANAROOT\u76f8\u5173\u7684\u5e93\u548c\u8bbe\u7f6e [2]\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cANAROOT\u7684\u5f00\u53d1\u7248\u672c\u901a\u5e38\u4e0e\u7279\u5b9a\u7248\u672c\u7684ROOT\u76f8\u5173\u8054\uff08\u4f8b\u5982\uff0c\u67d0\u4e9bANAROOT\u7248\u672c\u53ef\u80fd\u57fa\u4e8eROOT 6.28.04\u6216ROOT 5.34.21\u5f00\u53d1\uff09[2]\uff0c\u7528\u6237\u5728\u5b89\u88c5\u65f6\u9700\u6ce8\u610f\u7248\u672c\u517c\u5bb9\u6027\u3002</p> <p>\u8fd9\u79cd\u4e0eROOT\u7684\u7d27\u5bc6\u8026\u5408\u5173\u7cfb\u610f\u5473\u7740ANAROOT\u7684\u529f\u80fd\u6027\u4e0eROOT\u672c\u8eab\u7684\u80fd\u529b\u606f\u606f\u76f8\u5173\u3002\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728ANAROOT\u73af\u5883\u4e2d\u4f7f\u7528ROOT\u63d0\u4f9b\u7684\u5927\u91cf\u529f\u80fd\uff0c\u5982\u56fe\u5f62\u7ed8\u5236\u3001\u62df\u5408\u7b97\u6cd5\u3001\u6570\u636e\u8f93\u5165\u8f93\u51fa\uff08I/O\uff09\u7b49\u3002\u7136\u800c\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u7279\u5b9aROOT\u7248\u672c\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u7f3a\u9677\u6216\u9650\u5236\uff0c\u6709\u53ef\u80fd\u4f1a\u5bf9ANAROOT\u7684\u8fd0\u884c\u4ea7\u751f\u5f71\u54cd\u3002\u56e0\u6b64\uff0c\u5bf9ROOT\u6709\u57fa\u672c\u4e86\u89e3\u7684\u7528\u6237\u4f1a\u66f4\u5bb9\u6613\u4e0a\u624bANAROOT\uff0c\u5e76\u4e14\u80fd\u591f\u66f4\u5145\u5206\u5730\u5229\u7528\u5176\u9ad8\u7ea7\u529f\u80fd\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#13-anaroot\u7684\u4e3b\u8981\u529f\u80fd\u4e0e\u6838\u5fc3\u7ec4\u4ef6","title":"1.3 ANAROOT\u7684\u4e3b\u8981\u529f\u80fd\u4e0e\u6838\u5fc3\u7ec4\u4ef6","text":"<p>ANAROOT\u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u9762\u5411RIBF\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u7684\u529f\u80fd\uff0c\u5176\u6838\u5fc3\u7ec4\u4ef6\u6db5\u76d6\u4e86\u4ece\u539f\u59cb\u6570\u636e\u5904\u7406\u5230\u7269\u7406\u7ed3\u679c\u63d0\u53d6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <ul> <li>RIDF\u539f\u59cb\u6570\u636e\u89e3\u7801: \u8fd9\u662fANAROOT\u7684\u57fa\u7840\u529f\u80fd\uff0c\u80fd\u591f\u89e3\u6790RIBF DAQ\u7cfb\u7edf\u4ea7\u751f\u7684RIDF\u683c\u5f0f\u6570\u636e [1]\u3002</li> <li>\u591a\u6837\u5316\u7684\u6570\u636e\u8f93\u5165\u63a5\u53e3: \u652f\u6301\u4eceRIDF\u6587\u4ef6\u3001\u5728\u7ebf\u5171\u4eab\u5185\u5b58\u4ee5\u53ca\u6570\u636e\u6d41\u7b49\u591a\u79cd\u6765\u6e90\u8bfb\u53d6\u6570\u636e\uff0c\u6ee1\u8db3\u79bb\u7ebf\u5206\u6790\u548c\u5728\u7ebf\u76d1\u63a7\u7684\u9700\u6c42 [1, 4]\u3002</li> <li>RIBF\u63a2\u6d4b\u5668\u91cd\u5efa\u5e93: \u5305\u542b\u4e86\u9488\u5bf9RIBF\u4e3b\u8981\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u91cd\u5efa\u7a0b\u5e8f\u5e93\uff0c\u5982BigRIPS\uff08\u7528\u4e8e\u6b21\u7ea7\u675f\u6d41\u7684\u7c92\u5b50\u9274\u522b\uff09\u3001SAMURAI\u8c31\u4eea\uff08\u7528\u4e8e\u53cd\u5e94\u4ea7\u7269\u7684\u52a8\u91cf\u5206\u6790\u548c\u4e2d\u5b50\u63a2\u6d4b\uff09\u4ee5\u53caEURICA\u9635\u5217\uff08\u7528\u4e8e\u4f3d\u9a6c\u5c04\u7ebf\u63a2\u6d4b\u548c\u57fa\u4e8e\u65f6\u95f4\u6233\u7684\u4e8b\u4f8b\u91cd\u5efa\uff09[2, 5]\u3002</li> <li>\u523b\u5ea6\u529f\u80fd: \u63d0\u4f9b\u9488\u5bf9\u7279\u5b9a\u63a2\u6d4b\u5668\u6216\u7269\u7406\u91cf\u7684\u523b\u5ea6\u6a21\u5757\uff0c\u4f8b\u5982\u603b\u52a8\u80fd (TKE) \u523b\u5ea6\u3001SAMURAI-TED\uff08\u9776\u533a\u80fd\u91cf\u635f\u5931\u63a2\u6d4b\u5668\uff09\u548cSAMURAI-ICF\uff08\u79bb\u5b50\u5ba4\uff09\u7684\u523b\u5ea6 [2]\u3002</li> <li>\u6570\u636e\u5904\u7406\u4e0e\u7ba1\u7406: \u5305\u542b\u4eceRIDF\u6570\u636e\u5934\u83b7\u53d6\u8fd0\u884c\u4fe1\u606f (RunInfo)\u3001\u5904\u7406\u5c04\u9891\u4fe1\u53f7 (RF signal) \u7684Plastic\u7c7b\u3001\u4ee5\u53ca\u7ba1\u7406FADC\u539f\u59cb\u6570\u636e\u5bb9\u5668\u7b49\u529f\u80fd [2]\u3002</li> <li>\u5728\u7ebf\u76d1\u63a7: <code>AnaLoop</code> \u4f8b\u7a0b\u4e3b\u8981\u7528\u4e8e\u5728\u7ebf\u76d1\u63a7\u5b9e\u9a8c\u6570\u636e\u8d28\u91cf\u548c\u63a2\u6d4b\u5668\u72b6\u6001 [2]\u3002</li> <li>\u547d\u4ee4\u884c\u7528\u6237\u754c\u9762 (CUI): \u63d0\u4f9b\u57fa\u4e8e\u6587\u672c\u7684\u4ea4\u4e92\u754c\u9762\uff0c\u5305\u62ec\u7c7b\u4f3cANAPAW\u7684\u547d\u4ee4\u884c\uff08\u901a\u8fc7Nadeko\u5e93\u5b9e\u73b0\uff09\u4ee5\u53ca\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u7684 <code>AnaLoop</code> \u5206\u6790\u4f8b\u7a0b [1]\u3002</li> </ul> <p>\u63d0\u53ca\u201c\u7c7b\u4f3cANAPAW\u7684\u547d\u4ee4\u884c\u201d [1] \u8868\u660eANAROOT\u5728\u8bbe\u8ba1\u65f6\u8003\u8651\u5230\u4e86\u7528\u6237\u4e60\u60ef\u7684\u5e73\u7a33\u8fc7\u6e21\u3002PAW (Physics Analysis Workstation) \u662f\u5728ROOT\u5e7f\u6cdb\u5e94\u7528\u4e4b\u524d\uff0c\u7531CERN\u7b49\u5b9e\u9a8c\u5ba4\u666e\u904d\u4f7f\u7528\u7684\u4e00\u6b3e\u6570\u636e\u5206\u6790\u8f6f\u4ef6\uff0c\u62e5\u6709\u5176\u72ec\u7279\u7684\u547d\u4ee4\u884c\u8bed\u6cd5\u3002ANAROOT\u63d0\u4f9b\u8fd9\u79cd\u719f\u6089\u7684\u754c\u9762\uff0c\u65e8\u5728\u964d\u4f4e\u90a3\u4e9b\u6709PAW\u4f7f\u7528\u7ecf\u9a8c\u7684\u7269\u7406\u5b66\u5bb6\u7684\u5b66\u4e60\u95e8\u69db\uff0c\u4f7f\u4ed6\u4eec\u80fd\u591f\u66f4\u5feb\u5730\u9002\u5e94\u65b0\u7cfb\u7edf\uff0c\u7279\u522b\u662f\u5728\u8fdb\u884c\u5728\u7ebf\u76d1\u63a7\u6216\u6267\u884c\u7b80\u5355\u7684\u4ea4\u4e92\u5f0f\u5206\u6790\u4efb\u52a1\u65f6\u3002\u5c3d\u7ba1ROOT\u662f\u5e95\u5c42\u7684\u6838\u5fc3\u6846\u67b6\uff0cANAROOT\u7684\u8fd9\u4e00\u7279\u6027\u4e3a\u90e8\u5206\u7528\u6237\u63d0\u4f9b\u4e86\u66f4\u4e3a\u76f4\u89c2\u7684\u64cd\u4f5c\u65b9\u5f0f\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#2-anaroot\u7684\u5b89\u88c5\u4e0e\u73af\u5883\u914d\u7f6e","title":"2. ANAROOT\u7684\u5b89\u88c5\u4e0e\u73af\u5883\u914d\u7f6e","text":""},{"location":"sci/project/samurai/anaroot2version/#21-linux\u73af\u5883\u4e0b\u7684\u5b89\u88c5\u6b65\u9aa4","title":"2.1 Linux\u73af\u5883\u4e0b\u7684\u5b89\u88c5\u6b65\u9aa4","text":"<p>\u5728Linux\u73af\u5883\u4e0b\u5b89\u88c5ANAROOT\uff0c\u9996\u5148\u9700\u8981\u786e\u4fddROOT\u73af\u5883\u5df2\u6b63\u786e\u5b89\u88c5\u548c\u914d\u7f6e\uff0c\u968f\u540e\u6839\u636eANAROOT\u7684\u7248\u672c\u9009\u62e9\u76f8\u5e94\u7684\u5b89\u88c5\u65b9\u6cd5\u3002</p> <ul> <li>\u524d\u63d0\uff1aROOT\u7684\u5b89\u88c5\u4e0e\u914d\u7f6e</li> </ul> <p>ANAROOT\u7684\u8fd0\u884c\u5b8c\u5168\u4f9d\u8d56\u4e8eROOT\u5e93\uff0c\u56e0\u6b64\u5fc5\u987b\u9996\u5148\u5b89\u88c5ROOT\u3002\u7528\u6237\u53ef\u4ee5\u4eceROOT\u7684\u5b98\u65b9\u7f51\u7ad9 (<code>root.cern.ch</code>) \u4e0b\u8f7d\u6240\u9700\u7248\u672c\u7684ROOT\u8f6f\u4ef6\u5305 [2]\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u6b63\u786e\u8bbe\u7f6eROOT\u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf\uff0c\u901a\u5e38\u901a\u8fc7\u5728shell\u4e2d\u6267\u884c <code>$ROOTSYS/bin/thisroot.sh</code> \u811a\u672c\u6765\u5b8c\u6210\uff0c\u5176\u4e2d <code>$ROOTSYS</code> \u6307\u5411ROOT\u7684\u5b89\u88c5\u8def\u5f84 [2]\u3002</p> <ul> <li>\u4f9d\u8d56\u9879</li> </ul> <p>\u5b89\u88c5ANAROOT\uff08\u5c24\u5176\u662fv4.5\u53ca\u66f4\u65e9\u7248\u672c\uff09\u9700\u8981\u4e00\u7cfb\u5217\u7b2c\u4e09\u65b9\u5f00\u53d1\u5e93 [2]\u3002\u8fd9\u4e9b\u5e93\u4e3aANAROOT\u7684\u7f16\u8bd1\u548c\u8fd0\u884c\u63d0\u4f9b\u5fc5\u8981\u652f\u6301\u3002</p> <p>\u5bf9\u4e8eANAROOT v4.5\u53ca\u66f4\u65e9\u7248\u672c\uff0c\u4e3b\u8981\u7684\u4f9d\u8d56\u9879\u5305\u62ec\uff1a</p> <ul> <li><code>libxml2-devel</code>: \u7528\u4e8e\u89e3\u6790XML\u6587\u4ef6\uff0cANAROOT\u4f7f\u7528XML\u6587\u4ef6\u5b58\u50a8\u53c2\u6570\u548c\u914d\u7f6e\u4fe1\u606f\u3002</li> <li><code>automake</code>: GNU\u81ea\u52a8\u6784\u5efa\u7cfb\u7edf\u5de5\u5177\u3002</li> <li><code>autoconf</code>: GNU\u81ea\u52a8\u914d\u7f6e\u811a\u672c\u751f\u6210\u5de5\u5177\u3002</li> <li><code>libtool</code>: GNU\u5171\u4eab\u5e93\u652f\u6301\u811a\u672c\u3002</li> <li><code>libedit</code>: \u63d0\u4f9b\u547d\u4ee4\u884c\u7f16\u8f91\u529f\u80fd\u3002</li> </ul> <p>\u82e5\u9700\u8981\u4f7f\u7528MINOS\uff08\u4e00\u79cd\u65f6\u95f4\u6295\u5f71\u5ba4\uff09\u76f8\u5173\u7684\u5206\u6790\u6a21\u5757\uff0c\u8fd8\u9700\u8981\u989d\u5916\u5b89\u88c5 <code>minos-fem</code> \u5e93 [2]\u3002<code>libxml2-devel</code> \u7684\u660e\u786e\u5217\u51fa\uff0c\u7a81\u663e\u4e86XML\u5728ANAROOT\u53c2\u6570\u7ba1\u7406\u4e2d\u7684\u6838\u5fc3\u5730\u4f4d\u3002\u8fd9\u610f\u5473\u7740\u7528\u6237\u5728\u81ea\u5b9a\u4e49\u5206\u6790\u6d41\u7a0b\u65f6\uff0c\u5bf9XML\u7ed3\u6784\u7684\u7406\u89e3\u5c06\u5927\u6709\u88e8\u76ca\uff0c\u56e0\u4e3a\u63a2\u6d4b\u5668\u53c2\u6570\u3001\u523b\u5ea6\u5e38\u6570\u548c\u5206\u6790\u8bbe\u7f6e\u7b49\u90fd\u53ef\u80fd\u901a\u8fc7XML\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002</p> <ul> <li>\u83b7\u53d6ANAROOT\u6e90\u7801</li> </ul> <p>ANAROOT\u7684\u5b98\u65b9\u6e90\u7801\u5305\u901a\u5e38\u4ee5 <code>.tgz</code> \u538b\u7f29\u6587\u4ef6\u7684\u5f62\u5f0f\u53d1\u5e03\uff0c\u53ef\u4eceRIKEN RIBFDAQ\u7684\u5b98\u65b9\u7f51\u7ad9\u83b7\u53d6\uff0c\u4f8b\u5982 <code>anaroot_v4.6.1.tgz</code> \u6216 <code>anaroot_v4.5.40.tgz</code> [2]\u3002\u867d\u7136GitHub\u7b49\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u4e5f\u63d0\u4f9b\u6e90\u7801\u5b58\u6863\u529f\u80fd [6, 7]\uff0c\u4f46\u9488\u5bf9ANAROOT\uff0cRIKEN\u7684\u5b98\u65b9\u53d1\u5e03\u6e20\u9053\u5e94\u89c6\u4e3a\u6700\u6743\u5a01\u7684\u6765\u6e90\u3002</p> <ul> <li>CMake\u7f16\u8bd1 (v4.6.1\u53ca\u66f4\u65b0\u7248\u672c)</li> </ul> <p>\u5bf9\u4e8e\u8f83\u65b0\u7248\u672c\u7684ANAROOT (v4.6.1\u53ca\u4ee5\u540e)\uff0c\u63a8\u8350\u4f7f\u7528CMake\u8fdb\u884c\u7f16\u8bd1\u548c\u5b89\u88c5 [2]\uff1a</p> <ol> <li>\u89e3\u538b\u6e90\u7801\u5305\uff1a<code>tar zxvf anaroot_vX.Y.Z.tgz</code></li> <li>\u8fdb\u5165\u6e90\u7801\u76ee\u5f55\uff1a<code>cd anaroot</code></li> <li>\u521b\u5efa\u7f16\u8bd1\u548c\u5b89\u88c5\u76ee\u5f55\uff1a<code>mkdir build install</code></li> <li>\u8fdb\u5165\u7f16\u8bd1\u76ee\u5f55\uff1a<code>cd build</code></li> <li>\u8fd0\u884cCMake\u914d\u7f6e\uff1a<code>cmake -DCMAKE_INSTALL_PREFIX=$PWD/../install ..</code><ul> <li>\u6b64\u547d\u4ee4\u4e2d\uff0c<code>-DCMAKE_INSTALL_PREFIX=$PWD/../install</code> \u6307\u5b9a\u4e86ANAROOT\u7684\u5b89\u88c5\u8def\u5f84\u4e3a\u6e90\u7801\u76ee\u5f55\u4e0b\u7684 <code>install</code> \u6587\u4ef6\u5939\uff0c\u7528\u6237\u4e5f\u53ef\u6839\u636e\u9700\u6c42\u6307\u5b9a\u5176\u4ed6\u8def\u5f84\u3002</li> </ul> </li> <li>\u7f16\u8bd1\u6e90\u7801\uff1a<code>make</code></li> <li>\u5b89\u88c5\u8f6f\u4ef6\uff1a<code>make install</code></li> </ol> <p>\u8fd9\u79cd\u57fa\u4e8eCMake\u7684\u6784\u5efa\u65b9\u5f0f\u662f\u73b0\u4ee3\u8f6f\u4ef6\u9879\u76ee\u4e2d\u66f4\u4e3a\u4e3b\u6d41\u548c\u63a8\u8350\u7684\u505a\u6cd5\uff0c\u5177\u6709\u826f\u597d\u7684\u8de8\u5e73\u53f0\u6027\u548c\u7075\u6d3b\u6027\u3002</p> <ul> <li>autogen.sh\u914d\u7f6e (v4.5\u53ca\u66f4\u65e9\u7248\u672c)</li> </ul> <p>\u5bf9\u4e8ev4.5\u53ca\u66f4\u65e9\u7248\u672c\u7684ANAROOT\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4f9d\u8d56\u4e8eautotools\u6784\u5efa\u7cfb\u7edf [2]\uff1a</p> <ol> <li>\u89e3\u538b\u6e90\u7801\u5305\uff1a<code>tar zxvf anaroot_vX.Y.Z.tgz</code></li> <li>\u8fdb\u5165\u6e90\u7801\u76ee\u5f55\uff1a<code>cd anaroot</code></li> <li>\u8fd0\u884c\u914d\u7f6e\u811a\u672c\uff1a<code>./autogen.sh --prefix=$PWD [--enable-minos=yes (default is no)]</code><ul> <li><code>--prefix=$PWD</code> \u53c2\u6570\u6307\u5b9a\u5c06ANAROOT\u5b89\u88c5\u5728\u5f53\u524d\u6e90\u7801\u76ee\u5f55\u4e0b\uff08\u901a\u5e38\u4f1a\u751f\u6210 <code>lib</code>, <code>bin</code>, <code>include</code> \u7b49\u5b50\u76ee\u5f55\uff09\u3002\u7528\u6237\u53ef\u4ee5\u4fee\u6539\u4e3a\u5e0c\u671b\u7684\u5b89\u88c5\u8def\u5f84\u3002</li> <li><code>--enable-minos=yes</code> \u4e3a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u542f\u7528MINOS\u76f8\u5173\u7684\u5206\u6790\u6a21\u5757\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u542f\u7528\u3002</li> </ul> </li> <li> <p>\u7f16\u8bd1\u5e76\u5b89\u88c5\uff1a<code>make install</code></p> </li> <li> <p>\u8868 1: ANAROOT Linux\u73af\u5883\u5b89\u88c5\u4f9d\u8d56\u9879</p> </li> </ol> \u4f9d\u8d56\u5305 (Package Name) \u5efa\u8bae\u7248\u672c (Recommended Version/Notes) \u4e3b\u8981\u7528\u9014 (Main Purpose) \u76f8\u5173\u6765\u6e90 (Relevant Snippets) ROOT &gt;= 5.34 (\u5177\u4f53\u7248\u672c\u89c1\u5f00\u53d1\u8bf4\u660e) \u6838\u5fc3\u5206\u6790\u6846\u67b6 [2] libxml2-devel \u7cfb\u7edf\u63d0\u4f9b\u7248\u672c XML\u53c2\u6570\u6587\u4ef6\u89e3\u6790 [2] automake \u7cfb\u7edf\u63d0\u4f9b\u7248\u672c \u6784\u5efa\u7cfb\u7edf (ANAROOT &lt; v4.6.1) [2] autoconf \u7cfb\u7edf\u63d0\u4f9b\u7248\u672c \u6784\u5efa\u7cfb\u7edf (ANAROOT &lt; v4.6.1) [2] libtool \u7cfb\u7edf\u63d0\u4f9b\u7248\u672c \u5171\u4eab\u5e93\u7ba1\u7406 (ANAROOT &lt; v4.6.1) [2] libedit \u7cfb\u7edf\u63d0\u4f9b\u7248\u672c \u547d\u4ee4\u884c\u7f16\u8f91\u529f\u80fd [2] CMake &gt;= (\u4e0eROOT\u517c\u5bb9\u7684\u7248\u672c) \u6784\u5efa\u7cfb\u7edf (ANAROOT &gt;= v4.6.1) [2] minos-fem (\u53ef\u9009) 1.1.1-minimal MINOS\u63a2\u6d4b\u5668\u5206\u6790 (ANAROOT &lt; v4.6.1\u65f6\u9700\u624b\u52a8\u7f16\u8bd1) [2] <p>\u6b64\u8868\u683c\u6e05\u6670\u5730\u6c47\u603b\u4e86\u5b89\u88c5ANAROOT\u524d\u9700\u8981\u51c6\u5907\u7684\u4f9d\u8d56\u9879\uff0c\u6709\u52a9\u4e8e\u7528\u6237\u63d0\u524d\u68c0\u67e5\u7cfb\u7edf\u73af\u5883\uff0c\u4ece\u800c\u51cf\u5c11\u56e0\u4f9d\u8d56\u7f3a\u5931\u5bfc\u81f4\u7684\u5b89\u88c5\u95ee\u9898\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#22-\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e","title":"2.2 \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e","text":"<p>\u6b63\u786e\u7684\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u662f\u4fdd\u8bc1ANAROOT\u6b63\u5e38\u8fd0\u884c\u7684\u5173\u952e\u3002\u9996\u5148\uff0c\u9700\u8981\u786e\u4fddROOT\u7684\u73af\u5883\u53d8\u91cf\u5df2\u8bbe\u7f6e\uff0c\u901a\u5e38\u901a\u8fc7\u6267\u884c <code>source $ROOTSYS/bin/thisroot.sh</code> \u5b8c\u6210 [2]\u3002</p> <p>\u5bf9\u4e8eANAROOT\uff08\u7279\u522b\u662fv4.5\u53ca\u66f4\u65e9\u7248\u672c\uff09\uff0c\u5728\u7f16\u8bd1\u5b89\u88c5\u540e\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52a8\u8bbe\u7f6e <code>LD_LIBRARY_PATH</code> \u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u4f7f\u7cfb\u7edf\u80fd\u591f\u627e\u5230ANAROOT\u7684\u5171\u4eab\u5e93\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a<code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ANAROOT_INSTALL_DIR/lib</code> (\u5176\u4e2d <code>$ANAROOT_INSTALL_DIR</code> \u4e3aANAROOT\u7684\u5b89\u88c5\u8def\u5f84) [2]\u3002</p> <p>\u66f4\u4fbf\u6377\u7684\u662f\uff0cANAROOT\u5728\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u901a\u5e38\u4f1a\u5728\u5176\u9876\u7ea7\u5b89\u88c5\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3a <code>setup.sh</code> (\u6216\u7c7b\u4f3c\u7684) \u73af\u5883\u8bbe\u7f6e\u811a\u672c [2]\u3002\u6267\u884c <code>source setup.sh</code> \u547d\u4ee4\u53ef\u4ee5\u81ea\u52a8\u914d\u7f6e\u597d\u6240\u6709\u5fc5\u8981\u7684ANAROOT\u73af\u5883\u53d8\u91cf\u3002\u5c06\u6b64\u547d\u4ee4\u6dfb\u52a0\u5230\u7528\u6237\u7684shell\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\uff08\u5982 <code>~/.bashrc</code> \u6216 <code>~/.zshrc</code>\uff09\u4e2d\uff0c\u53ef\u4ee5\u786e\u4fdd\u6bcf\u6b21\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\u4f1a\u8bdd\u65f6\uff0cANAROOT\u73af\u5883\u90fd\u80fd\u81ea\u52a8\u51c6\u5907\u5c31\u7eea\u3002\u8fd9\u4e2a <code>setup.sh</code> \u811a\u672c\u7684\u63d0\u4f9b\uff0c\u6781\u5927\u5730\u7b80\u5316\u4e86\u7528\u6237\u7684\u73af\u5883\u914d\u7f6e\u5de5\u4f5c\uff0c\u907f\u514d\u4e86\u624b\u52a8\u8bbe\u7f6e\u591a\u4e2a\u73af\u5883\u53d8\u91cf\u53ef\u80fd\u5f15\u5165\u7684\u9519\u8bef\uff0c\u662fANAROOT\u7528\u6237\u53cb\u597d\u6027\u7684\u4e00\u4e2a\u4f53\u73b0\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#23-\u5e38\u89c1\u5b89\u88c5\u95ee\u9898\u4e0e\u6545\u969c\u6392\u9664","title":"2.3 \u5e38\u89c1\u5b89\u88c5\u95ee\u9898\u4e0e\u6545\u969c\u6392\u9664","text":"<p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002\u6839\u636e\u73b0\u6709\u8d44\u6599\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5df2\u77e5\u7684\u7279\u5b9a\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <ul> <li>v4.5\u53ca\u66f4\u65e9\u7248\u672c\uff0c\u4ece\u5176\u4ed6PC\u590d\u5236\u6587\u4ef6\u540e\u542f\u52a8ROOT\u51fa\u9519\uff1a \u5c1d\u8bd5\u5728\u6267\u884c <code>./autogen.sh</code> \u4e4b\u524d\u8fd0\u884c <code>make distclean</code> \u547d\u4ee4\u3002\u6b64\u547d\u4ee4\u4f1a\u6e05\u9664\u4e4b\u524d\u7f16\u8bd1\u751f\u6210\u7684\u6240\u6709\u6587\u4ef6\uff0c\u786e\u4fdd\u4e00\u4e2a\u5e72\u51c0\u7684\u7f16\u8bd1\u73af\u5883 [2]\u3002</li> <li>MAC OS X \u7279\u5b9a\u95ee\u9898\uff1a</li> <li><code>libtoolize</code> \u547d\u4ee4\u53ef\u80fd\u672a\u5b89\u88c5\uff0c\u6b64\u65f6\u5e94\u4f7f\u7528 <code>glibtoolize</code> \u4ee3\u66ff\uff0c\u5e76\u76f8\u5e94\u4fee\u6539 <code>autogen.sh</code> \u811a\u672c [2]\u3002</li> <li>MAC OS X \u4e0a\u7684\u5171\u4eab\u5e93\u6587\u4ef6\u540e\u7f00\u4e3a <code>.dylib</code>\uff0c\u800cROOT\u7684 <code>gSystem-&gt;Load(\"...\")</code> \u51fd\u6570\u53ef\u80fd\u671f\u671b <code>.so</code> \u540e\u7f00\u3002\u6b64\u65f6\u9700\u8981\u5c06 <code>.dylib</code> \u6587\u4ef6\u91cd\u547d\u540d\u6216\u521b\u5efa\u7b26\u53f7\u94fe\u63a5\u4e3a <code>.so</code> \u6587\u4ef6 [2]\u3002</li> <li>\u72ec\u7acb\u52a0\u8f7d <code>analoop</code> \u5e93\uff1a \u5982\u679c\u9700\u8981\u5355\u72ec\u52a0\u8f7d <code>analoop</code> \u76f8\u5173\u7684\u5e93\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 <code>rootlogon.C</code> \u6587\u4ef6\uff0c\u786e\u4fdd\u52a0\u8f7d\u7684\u662f <code>libanaloop.so</code>, <code>libanaloopexample.so</code>, \u548c <code>libanaloopencexample.so</code> \u800c\u975e <code>libanaanaloop.so</code> [2]\u3002</li> </ul> <p>\u7531\u4e8e\u516c\u5f00\u7684\u6545\u969c\u6392\u9664\u4fe1\u606f\u76f8\u5bf9\u6709\u9650 [2]\uff0c\u4e3b\u8981\u96c6\u4e2d\u5728\u4e0a\u8ff0\u51e0\u4e2a\u7279\u5b9a\u573a\u666f\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u5b89\u88c5\u95ee\u9898\uff0c\u7528\u6237\u53ef\u80fd\u9700\u8981\u67e5\u9605ANAROOT\u7684\u90ae\u4ef6\u5217\u8868\uff08\u82e5\u6709\uff09\u3001RIKEN\u5185\u90e8\u7684\u6587\u6863\uff0c\u6216\u76f4\u63a5\u8054\u7cfbANAROOT\u7684\u5f00\u53d1\u8005\uff08\u5982T. Isobe\u66fe\u88ab\u63d0\u53ca\u4e3a\u8054\u7cfb\u4eba [3]\uff09\u5bfb\u6c42\u5e2e\u52a9\u3002\u56e0\u6b64\uff0c\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4e25\u683c\u9075\u5faa\u5b98\u65b9\u6b65\u9aa4\uff0c\u5e76\u786e\u4fdd\u6240\u6709\u4f9d\u8d56\u9879\u5747\u5df2\u6b63\u786e\u5b89\u88c5\uff0c\u662f\u907f\u514d\u95ee\u9898\u7684\u5173\u952e\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#3-anaroot\u6838\u5fc3\u6982\u5ff5\u4e0e\u8f6f\u4ef6\u67b6\u6784","title":"3. ANAROOT\u6838\u5fc3\u6982\u5ff5\u4e0e\u8f6f\u4ef6\u67b6\u6784","text":"<ul> <li>3.1 \u6570\u636e\u5904\u7406\u6d41\u7a0b\uff1a\u4eceRIDF\u5230\u7269\u7406\u7ed3\u679c [1, 5]</li> </ul> <p>ANAROOT\u7684\u6570\u636e\u5904\u7406\u9075\u5faa\u4e00\u4e2a\u5178\u578b\u7684\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u6d41\u7a0b\uff0c\u4ece\u539f\u59cb\u6570\u636e\u8f93\u5165\u5f00\u59cb\uff0c\u7ecf\u8fc7\u89e3\u7801\u3001\u523b\u5ea6\u3001\u91cd\u5efa\uff0c\u6700\u7ec8\u5230\u7528\u6237\u8fdb\u884c\u7269\u7406\u5206\u6790\u3002</p> <ul> <li> <p>RIDF\u539f\u59cb\u6570\u636e (Raw Data)</p> <p>\u5206\u6790\u7684\u8d77\u70b9\u662fRIDF\u683c\u5f0f\u7684\u539f\u59cb\u6570\u636e\u3002\u8fd9\u4e9b\u6570\u636e\u7531RIBF\u7684Babirl\u6570\u636e\u91c7\u96c6\u7cfb\u7edf\u751f\u6210\uff0c\u53ef\u4ee5\u5b58\u50a8\u4e3a\u79bb\u7ebf\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u7ebf\u5171\u4eab\u5185\u5b58\u6216\u6570\u636e\u6d41\u7684\u5f62\u5f0f\u83b7\u53d6 [1]\u3002</p> </li> <li> <p>\u89e3\u7801 (Decoding) - <code>TArtEventStore</code></p> <p>\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u5bf9\u7528\u6237\u800c\u8a00\u662f\u4e0d\u53ef\u76f4\u63a5\u89e3\u8bfb\u7684\u3002<code>TArtEventStore</code> \u7c7b\u8d1f\u8d23\u8bfb\u53d6\u5e76\u89e3\u7801RIDF\u539f\u59cb\u6570\u636e [1]\u3002\u89e3\u7801\u540e\u7684\u6570\u636e\u4ee5 <code>TArtRawEventObject</code> \u5bf9\u8c61\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u8be5\u5bf9\u8c61\u5305\u542b\u4e86\u8bf8\u5982\u8fd0\u884c\u53f7\u3001\u4e8b\u4f8b\u53f7\u3001\u65f6\u95f4\u6233\u7b49\u4e8b\u4ef6\u4fe1\u606f\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7531 <code>TArtRawSegmentObject</code> \u6784\u6210\u7684\u6570\u7ec4 [5, 8]\u3002\u6bcf\u4e2a <code>TArtRawSegmentObject</code> \u5bf9\u5e94\u4e8e\u6570\u636e\u91c7\u96c6\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u6bb5\uff08segment\uff09\uff0c\u5b83\u5185\u90e8\u53c8\u5305\u542b\u4e86\u8bbe\u5907\u6807\u8bc6\u7b26\uff08\u5982\u63a2\u6d4b\u5668ID\uff09\u548c\u4e00\u7cfb\u5217 <code>TArtRawDataObject</code> [5, 8]\u3002<code>TArtRawDataObject</code> \u5219\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u5355\u5143\uff0c\u5b58\u50a8\u4e86\u5355\u4e2a\u901a\u9053\u7684\u539f\u59cb\u6d4b\u91cf\u503c\uff08\u5982ADC\u3001TDC\u503c\uff09\u3002</p> <p>\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 <code>TArtEventStore::Open()</code> \u65b9\u6cd5\u6253\u5f00RIDF\u6587\u4ef6\u6216\u8fde\u63a5\u5230\u5728\u7ebf\u6570\u636e\u6e90 [1, 4]\uff0c\u5e76\u901a\u8fc7 <code>TArtEventStore::GetNextEvent()</code> \u904d\u5386\u4e8b\u4f8b\u3002\u82e5\u4f7f\u7528\u4e86\u6620\u5c04\u6587\u4ef6\uff08\u901a\u8fc7 <code>TArtEventStore::LoadMapConfig()</code> \u52a0\u8f7d\uff09\uff0c\u8fd8\u53ef\u4ee5\u5229\u7528 <code>TArtRawDataObject</code> \u7684 <code>GetCategoryID()</code>\u3001<code>GetDetectorID()</code> \u548c <code>GetDatatypeID()</code> \u7b49\u65b9\u6cd5\uff0c\u4ee5\u7c7b\u4f3cANAPAW\u7684\u65b9\u5f0f\u83b7\u53d6\u4e0e\u63a2\u6d4b\u5668\u901a\u9053\u76f8\u5173\u7684\u6807\u8bc6\u4fe1\u606f [5, 8]\u3002</p> </li> <li> <p>\u523b\u5ea6 (Calibration) - <code>TArtCalibXXX</code>\u7cfb\u5217\u7c7b</p> <p>\u89e3\u7801\u540e\u7684\u539f\u59cb\u6570\u636e\uff08\u5982ADC\u9053\u6570\u3001TDC\u8ba1\u6570\uff09\u9700\u8981\u8f6c\u6362\u4e3a\u5177\u6709\u7269\u7406\u610f\u4e49\u7684\u91cf\uff08\u5982\u80fd\u91cf\u3001\u65f6\u95f4\u3001\u4f4d\u7f6e\uff09\u3002\u8fd9\u4e00\u8fc7\u7a0b\u7531 <code>TArtCalibXXX</code> \u7cfb\u5217\u7684\u523b\u5ea6\u7c7b\u5b8c\u6210 [1, 5]\u3002\u4f8b\u5982\uff0c<code>TArtCalibPPAC</code> \u7528\u4e8e\u523b\u5ea6PPAC\u63a2\u6d4b\u5668\u7684\u6570\u636e\uff0c<code>TArtCalibPID</code> \u7528\u4e8e\u8fdb\u884c\u7c92\u5b50\u9274\u522b\u76f8\u5173\u7684\u6574\u4f53\u523b\u5ea6 [1]\u3002\u5bf9\u4e8eSAMURAI\u5b9e\u9a8c\u4e2d\u7684\u63a2\u6d4b\u5668\uff0c\u5982\u6f02\u79fb\u5ba4 (BDC, FDC)\u3001\u5851\u6599\u95ea\u70c1\u4f53\u9635\u5217 (HODF/P)\u3001\u79bb\u5b50\u5ba4 (ICF) \u548cNEBULA\u4e2d\u5b50\u63a2\u6d4b\u5668\uff0cANAROOT\u4e5f\u63d0\u4f9b\u4e86\u76f8\u5e94\u7684\u523b\u5ea6\u7c7b\uff08\u4f8b\u5982 <code>TArtCalibSAMURAI</code> \u4e0b\u7684\u5b50\u6a21\u5757\u6216\u72ec\u7acb\u7684 <code>TArtCalibNEBULA</code> \u7b49\uff09[5, 8]\u3002</p> </li> <li> <p>\u91cd\u5efa (Reconstruction) - <code>TArtRecoXXX</code>\u7cfb\u5217\u7c7b</p> <p>\u5728\u6570\u636e\u523b\u5ea6\u5b8c\u6210\u4e4b\u540e\uff0c\u91cd\u5efa\u6b65\u9aa4\u5229\u7528\u523b\u5ea6\u540e\u7684\u6570\u636e\u3001\u63a2\u6d4b\u5668\u7684\u51e0\u4f55\u4fe1\u606f\u4ee5\u53ca\u7269\u7406\u5b66\u7b97\u6cd5\u6765\u91cd\u5efa\u7269\u7406\u4e8b\u4f8b\u7684\u5b8c\u6574\u4fe1\u606f [1, 5]\u3002\u4f8b\u5982\uff0c<code>TArtRecoTOF</code> \u7c7b\u7528\u4e8e\u91cd\u5efa\u98de\u884c\u65f6\u95f4\uff0c\u800cSAMURAI\u7684\u6f02\u79fb\u5ba4\u6570\u636e\u5219\u901a\u8fc7 <code>TArtDCTrack</code> \u7b49\u7c7b\u8fdb\u884c\u5f84\u8ff9\u91cd\u5efa\uff0c\u4ece\u800c\u5f97\u5230\u5e26\u7535\u7c92\u5b50\u7684\u8fd0\u52a8\u8f68\u8ff9\u548c\u52a8\u91cf\u7b49\u4fe1\u606f [5, 8]\u3002</p> </li> <li> <p>\u7528\u6237\u5206\u6790 (User Analysis)</p> <p>\u6700\u540e\u9636\u6bb5\u662f\u7528\u6237\u5206\u6790\uff0c\u7269\u7406\u5b66\u5bb6\u5728\u8fd9\u4e00\u5c42\u9762\u5229\u7528\u91cd\u5efa\u597d\u7684\u7269\u7406\u91cf\uff0c\u901a\u8fc7\u8bbe\u7f6e\u9009\u62e9\u6761\u4ef6\uff08\u201c\u5207\u53e3\u201d\uff09\u3001\u62df\u5408\u6570\u636e\u5206\u5e03\u3001\u6784\u5efa\u7269\u7406\u6a21\u578b\u7b49\u624b\u6bb5\uff0c\u63d0\u53d6\u611f\u5174\u8da3\u7684\u7269\u7406\u7ed3\u679c [1]\u3002<code>AnaLoop</code> \u6846\u67b6\u662f\u7528\u6237\u8fdb\u884c\u81ea\u5b9a\u4e49\u5206\u6790\u7684\u4e3b\u8981\u5de5\u5177\u3002</p> </li> </ul> <p>ANAROOT\u6240\u91c7\u7528\u7684\u8fd9\u79cd\u201c\u89e3\u7801 -&gt; \u523b\u5ea6 -&gt; \u91cd\u5efa\u201d\u7684\u4e09\u6b65\u5206\u6790\u67b6\u6784 [5, 8] \u662f\u9ad8\u80fd\u7269\u7406\u548c\u6838\u7269\u7406\u5b9e\u9a8c\u6570\u636e\u5904\u7406\u4e2d\u7684\u4e00\u4e2a\u6807\u51c6\u8303\u5f0f\u3002\u8fd9\u79cd\u6a21\u5757\u5316\u7684\u8bbe\u8ba1\u4f7f\u5f97\u5404\u4e2a\u5904\u7406\u9636\u6bb5\u7684\u4efb\u52a1\u660e\u786e\u5206\u79bb\uff0c\u4e0d\u4ec5\u4fbf\u4e8e\u5e76\u884c\u5f00\u53d1\u548c\u5206\u5de5\u534f\u4f5c\uff0c\u4e5f\u4f7f\u5f97\u4ee3\u7801\u7684\u7ef4\u62a4\u548c\u8c03\u8bd5\u66f4\u4e3a\u5bb9\u6613\u3002\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u5728\u4e0d\u540c\u7684\u5904\u7406\u9636\u6bb5\u4ecb\u5165\uff0c\u83b7\u53d6\u6240\u9700\u7684\u6570\u636e\u5bf9\u8c61\u3002</p> <ul> <li>3.2 \u5173\u952e\u6570\u636e\u7ed3\u6784\u4e0e\u7c7b\u5e93 [5, 8]</li> </ul> <p>ANAROOT\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u6838\u5fc3\u7c7b\u6765\u7ec4\u7ec7\u548c\u7ba1\u7406\u6570\u636e\u6d41\u3002</p> <ul> <li> <p><code>TArtStoreManager</code>:</p> <p>\u8be5\u7c7b\u662fANAROOT\u4e2d\u6570\u636e\u548c\u53c2\u6570\u7ba1\u7406\u7684\u201c\u795e\u7ecf\u4e2d\u67a2\u201d [5, 8]\u3002\u5b83\u8d1f\u8d23\u7ba1\u7406\u5404\u79cd\u6570\u636e\u5bb9\u5668\uff08data container\uff09\u7684\u8f93\u5165\u8f93\u51fa\uff0c\u4ee5\u53ca\u5206\u6790\u53c2\u6570\u7684\u5b58\u53d6\u3002\u6240\u6709\u7684\u6570\u636e\u5bb9\u5668\uff08\u901a\u5e38\u662f <code>TClonesArray</code> \u5bf9\u8c61\uff0c\u8fd9\u662fROOT\u4e2d\u7528\u4e8e\u9ad8\u6548\u5b58\u50a8\u540c\u7c7b\u5bf9\u8c61\u96c6\u5408\u7684\u6807\u51c6\u7c7b\uff09\u5728\u521b\u5efa\u540e\u4f1a\u6ce8\u518c\u5230 <code>TArtStoreManager</code> \u4e2d\uff0c\u7528\u6237\u5206\u6790\u4ee3\u7801\u53ef\u4ee5\u901a\u8fc7\u5b83\u63d0\u4f9b\u7684\u63a5\u53e3\uff08\u5982 <code>FindDataContainer&lt;Type&gt;(\"name\")</code>\uff09\u6765\u83b7\u53d6\u6307\u5411\u7279\u5b9a\u6570\u636e\u5bb9\u5668\u7684\u6307\u9488 [5, 8]\u3002<code>TArtStoreManager.hh</code> \u5934\u6587\u4ef6\u4e2d\u6709\u5176\u529f\u80fd\u7684\u8be6\u7ec6\u8bf4\u660e\u3002\u53ef\u4ee5\u8ba4\u4e3a <code>TArtStoreManager</code> \u662f\u4e00\u4e2a\u5355\u4f8b\uff08Singleton\uff09\u6a21\u5f0f\u6216\u5168\u5c40\u8bbf\u95ee\u70b9\uff0c\u4e3a\u7528\u6237\u4ee3\u7801\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7edf\u4e00\u7684\u3001\u4fbf\u6377\u7684\u9014\u5f84\u6765\u8bbf\u95ee\u5f53\u524d\u4e8b\u4f8b\u4e2d\u6240\u6709\u63a2\u6d4b\u5668\u7684\u539f\u59cb\u6570\u636e\u3001\u523b\u5ea6\u540e\u6570\u636e\u4ee5\u53ca\u91cd\u5efa\u7ed3\u679c\uff0c\u8fd8\u6709\u5168\u5c40\u7684\u5206\u6790\u53c2\u6570\u3002\u8fd9\u6781\u5927\u5730\u7b80\u5316\u4e86\u5728\u590d\u6742\u5206\u6790\u4ee3\u7801\u4e2d\u4f20\u9012\u5927\u91cf\u6570\u636e\u5bf9\u8c61\u6307\u9488\u7684\u7e41\u7410\u5de5\u4f5c\u3002</p> </li> <li> <p><code>TArtRawDataObject</code>, <code>TArtRawSegmentObject</code>, <code>TArtRawEventObject</code>:</p> <p>\u8fd9\u4e09\u4e2a\u7c7b\u6784\u6210\u4e86\u5bf9\u5df2\u89e3\u7801\u539f\u59cb\u6570\u636e\u7684\u5e95\u5c42\u8bbf\u95ee\u63a5\u53e3 [5, 8]\u3002<code>TArtRawEventObject</code> \u5c01\u88c5\u4e86\u4e00\u4e2a\u5b8c\u6574\u4e8b\u4f8b\u7684\u539f\u59cb\u4fe1\u606f\uff0c\u5305\u62ec\u8fd0\u884c\u53f7\u3001\u4e8b\u4f8b\u53f7\u3001\u65f6\u95f4\u6233\u4ee5\u53ca\u4e00\u4e2a <code>TArtRawSegmentObject</code> \u7684\u6570\u7ec4\u3002\u6bcf\u4e2a <code>TArtRawSegmentObject</code> \u5bf9\u5e94\u4e8eDAQ\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u6bb5\uff08segment\uff09\uff0c\u5305\u542b\u4e86\u8bbe\u5907ID\uff08\u5982\u63a2\u6d4b\u5668\u7f16\u53f7\uff09\u548c\u4e00\u7ec4 <code>TArtRawDataObject</code>\u3002<code>TArtRawDataObject</code> \u5219\u662f\u6700\u5c0f\u7684\u6570\u636e\u5355\u5143\uff0c\u5b58\u50a8\u4e86\u5355\u4e2a\u7535\u5b50\u5b66\u901a\u9053\u7684\u539f\u59cb\u503c\uff08\u5982ADC\u6216TDC\u503c\uff09\u3002\u8be6\u7ec6\u7684\u6570\u636e\u683c\u5f0f\u5b9a\u4e49\u53ef\u4ee5\u53c2\u8003RIBF DAQ\u624b\u518c\u4e2d\u7684Dataformat\u90e8\u5206 [5, 8]\u3002\u7406\u89e3\u8fd9\u4e9b\u7c7b\u7684\u7ed3\u6784\u5bf9\u4e8e\u8fdb\u884c\u5e95\u5c42\u6570\u636e\u6821\u9a8c\u6216\u5f00\u53d1\u65b0\u7684\u89e3\u7801/\u523b\u5ea6\u6a21\u5757\u81f3\u5173\u91cd\u8981\u3002</p> </li> <li> <p>\u63a2\u6d4b\u5668\u6570\u636e\u5bb9\u5668 (Detector Data Containers):</p> <p>ANAROOT\u4e3a\u5404\u79cd\u63a2\u6d4b\u5668\u548c\u7269\u7406\u91cf\u5b9a\u4e49\u4e86\u4e13\u95e8\u7684\u6570\u636e\u5bb9\u5668\u7c7b\uff0c\u7528\u4e8e\u5b58\u50a8\u523b\u5ea6\u540e\u6216\u91cd\u5efa\u540e\u7684\u4fe1\u606f\u3002\u8fd9\u4e9b\u5bb9\u5668\u901a\u5e38\u4ee5 <code>TClonesArray</code> \u7684\u5f62\u5f0f\u7531 <code>TArtStoreManager</code> \u7ba1\u7406 [5, 8]\u3002</p> <p>\u4f8b\u5982\uff1a</p> <ul> <li>BigRIPS\u76f8\u5173\uff1a<code>TArtPPAC</code> (\u5e73\u884c\u677f\u96ea\u5d29\u8ba1\u6570\u5668\u6570\u636e), <code>TArtIC</code> (\u79bb\u5b50\u5ba4\u6570\u636e), <code>TArtPlastic</code> (\u5851\u6599\u95ea\u70c1\u4f53\u6570\u636e), <code>TArtFocalPlane</code> (\u7126\u5e73\u9762\u53c2\u6570), <code>TArtTOF</code> (\u98de\u884c\u65f6\u95f4), <code>TArtRIPS</code> (RIPS\u53c2\u6570), <code>TArtBeam</code> (\u675f\u6d41\u53c2\u6570)\u3002</li> <li>SAMURAI\u76f8\u5173\uff1a<code>TArtDCHit</code> (\u6f02\u79fb\u5ba4\u51fb\u4e2d\u4fe1\u606f), <code>TArtDCTrack</code> (\u6f02\u79fb\u5ba4\u91cd\u5efa\u5f84\u8ff9), <code>TArtHODPla</code> (HODOSCOPE\u5851\u6599\u6761\u6570\u636e), <code>TArtICF</code> (SAMURAI\u79bb\u5b50\u5ba4\u6570\u636e), <code>TArtNEBULAPla</code> (NEBULA\u5851\u6599\u95ea\u70c1\u4f53\u6570\u636e), <code>TArtNEBULAHPC</code> (NEBULA\u9ad8\u7eaf\u9517\u63a2\u6d4b\u5668\u6570\u636e\uff0c\u82e5NEBULA\u914d\u7f6e\u4e2d\u5305\u542b\u7528\u4e8e\u4f3d\u9a6c\u5c04\u7ebf\u63a2\u6d4b\u7684\u9517\u63a2\u6d4b\u5668\uff0c\u5219\u6b64\u9879\u76f8\u5173\uff1b\u5bf9\u4e8e\u7eaf\u4e2d\u5b50\u5206\u6790\uff0c\u4e3b\u8981\u5173\u6ce8 <code>TArtNEBULAPla</code>)\u3002</li> <li>DALI\u76f8\u5173\uff1a<code>TArtDALINaI</code> (DALI2 NaI(Tl) \u63a2\u6d4b\u5668\u6570\u636e)\u3002</li> <li>\u901a\u7528\u4e8b\u4ef6\u4fe1\u606f\uff1a<code>TArtEventInfo</code> (\u4e8b\u4f8b\u53f7\u3001\u89e6\u53d1\u4f4d\u3001\u65f6\u95f4\u6233\u7b49)\u3002</li> </ul> <p>\u7528\u6237\u5728\u5206\u6790\u7279\u5b9a\u63a2\u6d4b\u5668\u6570\u636e\u65f6\uff0c\u5c31\u9700\u8981\u4ece <code>TArtStoreManager</code> \u4e2d\u83b7\u53d6\u76f8\u5e94\u7c7b\u578b\u7684\u8fd9\u4e9b\u6570\u636e\u5bb9\u5668\u3002</p> </li> <li> <p>3.3 \u53c2\u6570\u7ba1\u7406\uff1aXML\u6587\u4ef6\u7684\u4f7f\u7528 [1, 8, 9]</p> </li> </ul> <p>ANAROOT\u5e7f\u6cdb\u91c7\u7528XML (Extensible Markup Language) \u6587\u4ef6\u6765\u7ba1\u7406\u5b9e\u9a8c\u4e2d\u7684\u5404\u79cd\u53c2\u6570\uff0c\u5982\u63a2\u6d4b\u5668\u51e0\u4f55\u4f4d\u7f6e\u3001\u523b\u5ea6\u5e38\u6570\u3001\u5206\u6790\u9608\u503c\uff08\u5207\u53e3\u53c2\u6570\uff09\u7b49 [5, 8]\u3002\u8fd9\u79cd\u505a\u6cd5\u5c06\u53c2\u6570\u914d\u7f6e\u4e0e\u5206\u6790\u4ee3\u7801\u672c\u8eab\u5206\u79bb\uff0c\u4f7f\u5f97\u4fee\u6539\u53c2\u6570\u65e0\u9700\u91cd\u65b0\u7f16\u8bd1\u4ee3\u7801\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u5206\u6790\u5de5\u4f5c\u7684\u7075\u6d3b\u6027\u548c\u6548\u7387\u3002</p> <p>ANAROOT\u63d0\u4f9b\u4e86\u5982 <code>TArtBigRIPSParameters</code> \u548c <code>TArtSAMURAIParameters</code> \u8fd9\u6837\u7684\u7c7b\u6765\u8d1f\u8d23\u52a0\u8f7d\u548c\u7ba1\u7406\u7279\u5b9a\u5b50\u7cfb\u7edf\uff08\u5982BigRIPS\u6216SAMURAI\uff09\u7684\u53c2\u6570 [1, 9]\u3002\u8fd9\u4e9b\u53c2\u6570\u7c7b\u901a\u5e38\u5305\u542b\u4e00\u4e2a <code>LoadParameter(const char* xmlfilename)</code> \u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u7528\u4e8e\u4ece\u6307\u5b9a\u7684XML\u6587\u4ef6\u4e2d\u8bfb\u53d6\u53c2\u6570\u914d\u7f6e\uff0c\u4f8b\u5982 <code>setup-&gt;LoadParameter(\"db/BigRIPSPPAC.xml\")</code> [1]\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u6709\u66f4\u901a\u7528\u7684\u53c2\u6570\u7c7b\u5982 <code>TArtUserParameters</code> \u88ab\u63d0\u8bae\u7528\u4e8e\u5904\u7406\u4e0d\u7279\u5b9a\u4e8e\u67d0\u4e2a\u5927\u578b\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u5168\u5c40\u6027\u6216\u7528\u6237\u81ea\u5b9a\u4e49\u53c2\u6570 [9]\u3002</p> <p>XML\u6587\u4ef6\u7684\u7ed3\u6784\u901a\u5e38\u5305\u542b\u4e00\u7cfb\u5217\u7684\u53c2\u6570\u6761\u76ee\uff0c\u6bcf\u4e2a\u6761\u76ee\u53ef\u80fd\u5305\u542b\u53c2\u6570\u540d\u79f0 (NAME)\u3001\u53c2\u6570\u503c (val) \u548c\u53c2\u6570\u7c7b\u578b (type) \u7b49\u6807\u7b7e [9]\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5b9a\u4e49PPAC\u4f4d\u7f6e\u504f\u79fb\u7684\u53c2\u6570\u53ef\u80fd\u5728XML\u4e2d\u8868\u793a\u4e3a\uff1a</p> <pre><code>&lt;parameter&gt;\n&lt;NAME&gt;F3PPAC1A_X_OFFSET&lt;/NAME&gt;\n&lt;val&gt;0.123&lt;/val&gt;\n&lt;type&gt;Double_t&lt;/type&gt;\n&lt;/parameter&gt;\n</code></pre> <p>\u8fd9\u79cd\u7ed3\u6784\u5316\u7684\u53c2\u6570\u7ba1\u7406\u65b9\u5f0f\uff0c\u7279\u522b\u662f\u5f15\u5165\u5982 <code>TArtUserParameters</code> \u548c <code>TArtSAMURAIParameters</code> \u7b49\u4e13\u7528\u53c2\u6570\u7c7b\uff0c\u8868\u660eANAROOT\u5728\u53c2\u6570\u5904\u7406\u4e0a\u91c7\u53d6\u4e86\u6709\u7ec4\u7ec7\u7684\u65b9\u6cd5\u3002\u7528\u6237\u9700\u8981\u7406\u89e3\u5176\u5206\u6790\u6240\u6d89\u53ca\u7684\u63a2\u6d4b\u5668\u6216\u53c2\u6570\u96c6\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\u683c\u5f0f\uff0c\u4ee5\u4fbf\u6b63\u786e\u914d\u7f6e\u6216\u4fee\u6539\u5b9e\u9a8c\u53c2\u6570\u3002\u8fd9\u4e9b\u53c2\u6570\u5728\u52a0\u8f7d\u540e\uff0c\u901a\u5e38\u4e5f\u4f1a\u88ab\u6ce8\u518c\u5230 <code>TArtStoreManager</code> \u4e2d\uff0c\u4f9b\u540e\u7eed\u7684\u523b\u5ea6\u548c\u91cd\u5efa\u6a21\u5757\u8c03\u7528\u3002</p> <ul> <li>\u8868 2: ANAROOT\u6838\u5fc3\u5173\u952e\u7c7b\u53ca\u5176\u529f\u80fd</li> </ul> \u7c7b\u540d (Class Name) \u4e3b\u8981\u529f\u80fd (Main Function) \u5173\u952e\u65b9\u6cd5/\u8bf4\u660e (Key Methods/Notes) \u76f8\u5173\u6765\u6e90 (Relevant Snippets) <code>TArtStoreManager</code> \u6570\u636e\u548c\u53c2\u6570\u7684\u4e2d\u592e\u7ba1\u7406\u5668 <code>FindDataContainer&lt;Type&gt;(\"name\")</code>, <code>FindParameter(\"name\")</code>, <code>Register</code> [5, 8] <code>TArtEventStore</code> RIDF\u6570\u636e\u89e3\u7801\u4e0e\u4e8b\u4ef6\u5faa\u73af\u63a7\u5236 <code>Open()</code>, <code>GetNextEvent()</code>, <code>LoadMapConfig()</code>, <code>ClearData()</code> [1, 5, 4, 8] <code>TArtRawEventObject</code> \u5b58\u50a8\u89e3\u7801\u540e\u7684\u6574\u4e2a\u4e8b\u4ef6\u7684\u539f\u59cb\u6570\u636e \u63d0\u4f9b\u5bf9<code>TArtRawSegmentObject</code>\u7684\u8bbf\u95ee [5, 8] <code>TArtRawSegmentObject</code> \u5b58\u50a8\u7279\u5b9a\u8bbe\u5907\u5206\u6bb5\u7684\u539f\u59cb\u6570\u636e \u63d0\u4f9b\u5bf9<code>TArtRawDataObject</code>\u7684\u8bbf\u95ee, <code>GetDevice()</code>, <code>GetFP()</code>, <code>GetDetector()</code> [5, 8] <code>TArtRawDataObject</code> \u5b58\u50a8\u6700\u5e95\u5c42\u7684\u539f\u59cb\u6570\u636e\u5355\u5143 <code>GetValue()</code>, <code>GetCategoryID()</code>, <code>GetDetectorID()</code>, <code>GetDatatypeID()</code> [5, 8] <code>TArtCalibXXX</code> \u523b\u5ea6\u7c7b\u7684\u57fa\u7c7b\u6216\u5177\u4f53\u5b9e\u73b0 \u4f8b\u5982: <code>TArtCalibPID</code>, <code>TArtCalibPPAC</code>, <code>TArtCalibSAMURAI</code> (\u5305\u542bSAMURAI\u5404\u5b50\u63a2\u6d4b\u5668\u523b\u5ea6), <code>ReconstructData()</code> (\u901a\u5e38\u5728\u6b64\u6267\u884c\u523b\u5ea6\u903b\u8f91) [1, 5, 8] <code>TArtRecoXXX</code> \u91cd\u5efa\u7c7b\u7684\u57fa\u7c7b\u6216\u5177\u4f53\u5b9e\u73b0 \u4f8b\u5982: <code>TArtRecoTOF</code>, <code>TArtRecoPID</code>, <code>ReconstructData()</code> (\u901a\u5e38\u5728\u6b64\u6267\u884c\u91cd\u5efa\u903b\u8f91) [1, 5, 8] <code>TArtAnaLoop</code> \u7528\u6237\u5206\u6790\u5faa\u73af\u7684\u57fa\u7c7b <code>Construct()</code>, <code>Calculate()</code>, <code>Destruct()</code>, <code>ClassName()</code> [1, 10, 4] <code>TArtBigRIPSParameters</code> BigRIPS\u53c2\u6570\u7ba1\u7406 <code>LoadParameter(\"xmlfile\")</code>, <code>FindPara(char* name)</code> [1] <code>TArtSAMURAIParameters</code> SAMURAI\u53c2\u6570\u7ba1\u7406 <code>LoadParameter(\"xmlfile\")</code>, <code>ParseCalibBeamPara(TXMLNode*)</code> (\u793a\u4f8b) [9] <code>TArtPPAC</code> PPAC\u63a2\u6d4b\u5668\u6570\u636e\u5bb9\u5668 <code>GetX()</code>, <code>GetY()</code>, <code>GetTSumX()</code>, <code>GetTSumY()</code>, <code>GetTX1()</code>, <code>GetTX2()</code>, <code>GetTY1()</code>, <code>GetTY2()</code>, <code>GetTA()</code> [1, 5, 8] <code>TArtDCHit</code> SAMURAI\u6f02\u79fb\u5ba4\u51fb\u4e2d\u6570\u636e\u5bb9\u5668 <code>GetTDC()</code>, <code>GetDriftLength()</code>, <code>GetWireID()</code>, <code>GetLayer()</code> [5, 8] (\u63a8\u65ad) <code>TArtDCTrack</code> SAMURAI\u6f02\u79fb\u5ba4\u91cd\u5efa\u5f84\u8ff9\u6570\u636e\u5bb9\u5668 <code>GetPositionX()</code>, <code>GetPositionY()</code>, <code>GetAngleX()</code>, <code>GetAngleY()</code>, <code>GetChi2()</code>, <code>GetMomentum()</code> (\u6216\u901a\u8fc7B\u03c1\u8ba1\u7b97) [5, 8] (\u63a8\u65ad) <code>TArtNEBULAPla</code> NEBULA\u5851\u6599\u95ea\u70c1\u4f53\u6570\u636e\u5bb9\u5668 <code>GetID()</code>, <code>GetTDC(pmt_id)</code>, <code>GetQDC(pmt_id)</code>, <code>GetTime()</code>, <code>GetQ()</code>, <code>GetPosition()</code> (\u8ba1\u7b97\u5f97\u5230), <code>GetTOF()</code> (\u8ba1\u7b97\u5f97\u5230) [5, 8] (\u90e8\u5206\u63a8\u65ad) <p>\u6b64\u8868\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5173\u4e8eANAROOT\u6838\u5fc3\u7c7b\u7684\u5feb\u901f\u53c2\u8003\uff0c\u6709\u52a9\u4e8e\u7406\u89e3\u8f6f\u4ef6\u7684\u6574\u4f53\u67b6\u6784\u4ee5\u53ca\u5404\u4e2a\u7ec4\u4ef6\u5728\u6570\u636e\u5206\u6790\u6d41\u7a0b\u4e2d\u7684\u89d2\u8272\u548c\u529f\u80fd\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u800c\u8a00\uff0c\u719f\u6089\u8fd9\u4e9b\u5173\u952e\u7c7b\u662f\u6709\u6548\u5bfc\u822a\u548c\u4f7f\u7528ANAROOT\u6846\u67b6\u7684\u57fa\u7840\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#\u7b2c\u4e8c\u90e8\u5206\u63a2\u6d4b\u5668\u6570\u636e\u5206\u6790\u5b9e\u6218","title":"\u7b2c\u4e8c\u90e8\u5206\uff1a\u63a2\u6d4b\u5668\u6570\u636e\u5206\u6790\u5b9e\u6218","text":""},{"location":"sci/project/samurai/anaroot2version/#4-\u91cd\u8981\u6f84\u6e05bigrips-ppacs-\u4e0e-samurai-pdcs","title":"4. \u91cd\u8981\u6f84\u6e05\uff1aBigRIPS PPACs \u4e0e SAMURAI PDCs","text":"<p>\u5728\u6df1\u5165\u63a2\u8ba8SAMURAI\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u4e4b\u524d\uff0c\u5fc5\u987b\u6f84\u6e05\u4e00\u4e2a\u6f5c\u5728\u7684\u6df7\u6dc6\u70b9\uff1aBigRIPS\u8c31\u4eea\u4e2d\u7684\u5e73\u884c\u677f\u96ea\u5d29\u8ba1\u6570\u5668 (Parallel Plate Avalanche Counters, PPACs) \u4e0eSAMURAI\u5b9e\u9a8c\u4e2d\u7528\u4e8e\u8d28\u5b50\u7b49\u5e26\u7535\u7c92\u5b50\u5f84\u8ff9\u6d4b\u91cf\u7684\u6f02\u79fb\u5ba4 (Drift Chambers, DCs\uff0c\u7528\u6237\u5728\u67e5\u8be2\u4e2d\u79f0\u5176\u4e3a\u8d28\u5b50\u6f02\u79fb\u5ba4PDC) \u662f\u529f\u80fd\u548c\u5e94\u7528\u573a\u666f\u5747\u4e0d\u76f8\u540c\u7684\u63a2\u6d4b\u5668\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#41-bigrips-ppacs\u529f\u80fd\u4e0e\u6570\u636e\u7279\u6027","title":"4.1 BigRIPS PPACs\uff1a\u529f\u80fd\u4e0e\u6570\u636e\u7279\u6027","text":"<p>BigRIPS\u662f\u4e00\u4e2a\u4f4d\u4e8eSAMURAI\u8c31\u4eea\u4e0a\u6e38\u7684\u5927\u578b\u6b21\u7ea7\u675f\u6d41\u5206\u79bb\u5668\u548c\u8c31\u4eea [11]\u3002\u5728\u5176\u5404\u4e2a\u7126\u5e73\u9762\u4f4d\u7f6e\uff08\u5982F3, F5, F7\u7b49\uff09\uff0c\u5b89\u88c5\u6709PPAC\u63a2\u6d4b\u5668 [1, 11]\u3002\u8fd9\u4e9bPPACs\u7684\u4e3b\u8981\u529f\u80fd\u662f\u7cbe\u786e\u6d4b\u91cf\u901a\u8fc7BigRIPS\u7684\u6b21\u7ea7\u653e\u5c04\u6027\u540c\u4f4d\u7d20\u675f\u6d41\u4e2d\u6bcf\u4e2a\u7c92\u5b50\u7684\u4e8c\u7ef4\u4f4d\u7f6e\uff08X, Y\u5750\u6807\uff09\u548c\u65f6\u95f4\u4fe1\u606f [1]\u3002\u7ed3\u5408\u4e0d\u540c\u7126\u5e73\u9762\u4e4b\u95f4\u7684\u98de\u884c\u65f6\u95f4 (Time-of-Flight, TOF) \u6d4b\u91cf\u4ee5\u53ca\u78c1\u573a\u8bbe\u5b9a\uff0c\u53ef\u4ee5\u7cbe\u786e\u786e\u5b9a\u6b21\u7ea7\u675f\u6d41\u7c92\u5b50\u7684\u78c1\u521a\u5ea6 (B\u03c1) [11]\u3002\u901a\u8fc7TOF-B\u03c1-\u0394E\uff08\u80fd\u91cf\u635f\u5931\uff0c\u901a\u5e38\u7531\u79bb\u5b50\u5ba4IC\u6d4b\u91cf\uff09\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u6b21\u7ea7\u675f\u6d41\u4e2d\u4e0d\u540c\u6838\u7d20\u7684\u9274\u522b (Particle Identification, PID)\uff0c\u5373\u786e\u5b9a\u5176\u539f\u5b50\u5e8f\u6570Z\u548c\u8d28\u91cf\u7535\u8377\u6bd4A/Q [1, 5]\u3002</p> <p>\u5728ANAROOT\u4e2d\uff0c\u4e0eBigRIPS PPAC\u6570\u636e\u5904\u7406\u76f8\u5173\u7684\u7c7b\u4e3b\u8981\u5305\u62ec <code>TArtPPAC</code> (\u5b58\u50a8\u5355\u4e2aPPAC\u7684\u523b\u5ea6\u540e\u6570\u636e\uff0c\u5982\u4f4d\u7f6e\u3001\u65f6\u95f4\u7b49)\u3001<code>TArtCalibPPAC</code> (\u8d1f\u8d23PPAC\u7684\u539f\u59cb\u6570\u636e\u523b\u5ea6)\u3001\u4ee5\u53ca <code>TArtFocalPlane</code> (\u5b58\u50a8\u7126\u5e73\u9762\u7684\u91cd\u5efa\u53c2\u6570) [1, 8]\u3002\u76f8\u5173\u7684\u523b\u5ea6\u53c2\u6570\u548c\u51e0\u4f55\u53c2\u6570\u901a\u5e38\u5b58\u50a8\u5728XML\u6587\u4ef6\u4e2d\uff0c\u5982 <code>BigRIPSPPAC.xml</code> \u548c <code>FocalPlane.xml</code> [1]\u3002</p> <p>\u56e0\u6b64\uff0cBigRIPS\u4e2d\u7684PPACs\u662f\u7528\u4e8e\u5bf9\u8fdb\u5165SAMURAI\u5b9e\u9a8c\u9776\u533a\u7684\u5165\u5c04\u675f\u6d41\u8fdb\u884c\u7279\u6027\u5206\u6790\u548c\u9274\u522b\u7684\u5173\u952e\u63a2\u6d4b\u5668\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#42-samurai-pdc-\u6f02\u79fb\u5ba4","title":"4.2 SAMURAI PDC (\u6f02\u79fb\u5ba4)\uff1a","text":"<p>SAMURAI (Superconducting Analyzer for Multi-particles from Radioisotope beams) \u662f\u4e00\u53f0\u5177\u6709\u5927\u63a5\u6536\u5ea6\u8d85\u5bfc\u78c1\u94c1\u7684\u5206\u6790\u8c31\u4eea\uff0c\u8bbe\u8ba1\u7528\u4e8e\u7814\u7a76\u653e\u5c04\u6027\u540c\u4f4d\u7d20\u675f\u5f15\u8d77\u7684\u6838\u53cd\u5e94\uff0c\u5e76\u80fd\u540c\u65f6\u6d4b\u91cf\u591a\u4e2a\u53cd\u5e94\u4ea7\u7269 [12, 13]\u3002\u7528\u6237\u67e5\u8be2\u4e2d\u63d0\u53ca\u7684\u201c\u8d28\u5b50\u6f02\u79fb\u5ba4 (PDC)\u201d\u5b9e\u9645\u4e0a\u6307\u7684\u662fSAMURAI\u5b9e\u9a8c\u88c5\u7f6e\u5185\u90e8\u7f72\u7684\u6f02\u79fb\u5ba4 (Drift Chambers, DCs)\u3002\u8fd9\u4e9b\u6f02\u79fb\u5ba4\uff0c\u4f8b\u5982ANAROOT\u6587\u6863\u4e2d\u5e38\u63d0\u5230\u7684BDC (Beam Drift Chamber\uff0c\u4f4d\u4e8e\u9776\u524d\uff0c\u7528\u4e8e\u7cbe\u786e\u6d4b\u91cf\u5165\u5c04\u675f\u6d41\u5728\u9776\u4e0a\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6) \u548cFDC (Forward Drift Chamber\uff0c\u4f4d\u4e8eSAMURAI\u8d85\u5bfc\u78c1\u94c1\u4e4b\u540e\uff0c\u7528\u4e8e\u6d4b\u91cf\u53cd\u5e94\u4ea7\u751f\u7684\u5e26\u7535\u7c92\u5b50\uff0c\u7279\u522b\u662f\u524d\u5411\u51fa\u5c04\u7684\u8d28\u5b50\u7b49\u7684\u5f84\u8ff9) [5, 8]\uff0c\u662fSAMURAI\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u6210\u90e8\u5206\u3002</p> <p>\u8fd9\u4e9b\u6f02\u79fb\u5ba4\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5728SAMURAI\u78c1\u573a\u533a\u57df\u5185\u6216\u5176\u540e\uff0c\u7cbe\u786e\u6d4b\u91cf\u6838\u53cd\u5e94\u4ea7\u751f\u7684\u5e26\u7535\u7c92\u5b50\uff08\u5982\u8d28\u5b50\u3001\u6c18\u6838\u6216\u5176\u4ed6\u91cd\u79bb\u5b50\u788e\u7247\uff09\u7684\u8fd0\u52a8\u8f68\u8ff9\u3002\u901a\u8fc7\u5206\u6790\u7c92\u5b50\u5728\u78c1\u573a\u4e2d\u7684\u5f2f\u66f2\u7a0b\u5ea6\uff0c\u53ef\u4ee5\u91cd\u5efa\u5176\u52a8\u91cf [12, 13]\u3002\u8fd9\u5bf9\u4e8e\u7814\u7a76\u6838\u7ed3\u6784\u3001\u6838\u53cd\u5e94\u673a\u5236\u4ee5\u53ca\u5929\u4f53\u6838\u8fc7\u7a0b\u7b49\u90fd\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#43-pdc--sppac","title":"4.3 PDC &amp; SPPAC","text":"<ol> <li>\u63a2\u6d4b\u5668\u6280\u672f\u539f\u7406\uff1a<ul> <li>PPACs (\u5e73\u884c\u677f\u96ea\u5d29\u8ba1\u6570\u5668): \u662f\u4e00\u79cd\u6c14\u4f53\u63a2\u6d4b\u5668\uff0c\u901a\u5e38\u8bbe\u8ba1\u7528\u4e8e\u63d0\u4f9b\u5feb\u901f\u7684\u65f6\u95f4\u54cd\u5e94\u548c\u8f83\u597d\u7684\u4e8c\u7ef4\u4f4d\u7f6e\u5206\u8fa8\u3002\u5176\u7ed3\u6784\u76f8\u5bf9\u7b80\u5355\uff0c\u4f9d\u8d56\u4e8e\u5e73\u884c\u7535\u6781\u677f\u95f4\u7684\u6c14\u4f53\u96ea\u5d29\u6765\u653e\u5927\u4fe1\u53f7\u3002</li> <li>DCs (\u6f02\u79fb\u5ba4): \u4e5f\u662f\u6c14\u4f53\u63a2\u6d4b\u5668\uff0c\u4f46\u5176\u8bbe\u8ba1\u66f4\u4e3a\u590d\u6742\uff0c\u65e8\u5728\u901a\u8fc7\u7cbe\u786e\u6d4b\u91cf\u7535\u79bb\u7535\u5b50\u5728\u7279\u5b9a\u7535\u573a\u4e2d\u6f02\u79fb\u5230\u9633\u6781\u4e1d\u7684\u65f6\u95f4\uff08\u6f02\u79fb\u65f6\u95f4\uff09\u6765\u5b9e\u73b0\u9ad8\u7cbe\u5ea6\u7684\u4e09\u7ef4\u5f84\u8ff9\u70b9\u91cd\u5efa\u3002\u8fd9\u901a\u5e38\u9700\u8981\u66f4\u7cbe\u7ec6\u7684\u7535\u6781\u7ed3\u6784\u548c\u6c14\u4f53\u63a7\u5236\u3002</li> </ul> </li> <li>\u4f4d\u7f6e\u4e0e\u6838\u5fc3\u529f\u80fd\uff1a<ul> <li>BigRIPS PPACs: \u5b89\u88c5\u5728SAMURAI\u9776\u533a\u7684\u4e0a\u6e38\uff0c\u662fBigRIPS\u6b21\u7ea7\u675f\u6d41\u5206\u79bb\u5668\u7684\u4e00\u90e8\u5206\u3002\u5176\u6838\u5fc3\u529f\u80fd\u662f\u4e3a\u8fdb\u5165SAMURAI\u9776\u533a\u7684\u6bcf\u4e00\u4e2a\u675f\u6d41\u7c92\u5b50\u63d0\u4f9b\u7cbe\u786e\u7684\u8eab\u4efd\u8bc6\u522b\uff08\u901a\u8fc7TOF-B\u03c1-\u0394E\u65b9\u6cd5\uff09\u548c\u521d\u59cb\u8fd0\u52a8\u5b66\u53c2\u6570\uff08\u5982\u4f4d\u7f6e\u3001\u89d2\u5ea6\uff09\u3002</li> <li>SAMURAI DCs (PDCs): \u5b89\u88c5\u5728SAMURAI\u9776\u533a\u5468\u56f4\u53caSAMURAI\u8d85\u5bfc\u78c1\u94c1\u4e4b\u540e\u3002\u5176\u6838\u5fc3\u529f\u80fd\u662f\u8ffd\u8e2a\u4ece\u9776\u4e0a\u53d1\u751f\u7684\u6838\u53cd\u5e94\u4e2d\u51fa\u5c04\u7684\u5e26\u7535\u7c92\u5b50\uff0c\u5e76\u901a\u8fc7\u5b83\u4eec\u5728\u78c1\u573a\u4e2d\u7684\u504f\u8f6c\u6765\u7cbe\u786e\u91cd\u5efa\u5176\u52a8\u91cf\u3002</li> </ul> </li> <li>ANAROOT\u4e2d\u7684\u5904\u7406\u7c7b\uff1a<ul> <li>BigRIPS PPACs\u7684\u6570\u636e\u901a\u5e38\u7531 <code>TArtPPAC</code>, <code>TArtCalibPPAC</code> \u7b49\u7c7b\u5904\u7406\u3002</li> <li>SAMURAI DCs\u7684\u6570\u636e\u5219\u7531 <code>TArtDCHit</code>, <code>TArtDCTrack</code>, <code>TArtCalibDC</code> (\u6216\u66f4\u5177\u4f53\u7684\u5982 <code>TArtCalibBDC</code>, <code>TArtCalibFDC</code>) \u7b49\u7c7b\u5904\u7406\u3002</li> </ul> </li> </ol>"},{"location":"sci/project/samurai/anaroot2version/#5-\u4f7f\u7528anaroot\u5206\u6790samurai-pdc-\u6f02\u79fb\u5ba4-\u6570\u636e","title":"5. \u4f7f\u7528ANAROOT\u5206\u6790SAMURAI PDC (\u6f02\u79fb\u5ba4) \u6570\u636e","text":"<p>\u672c\u8282\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528ANAROOT\u5206\u6790SAMURAI\u5b9e\u9a8c\u4e2d\u7684\u6f02\u79fb\u5ba4\uff08DC\uff0c\u5373\u7528\u6237\u6240\u79f0\u7684PDC\uff09\u6570\u636e\u3002\u6f02\u79fb\u5ba4\u5728SAMURAI\u5b9e\u9a8c\u4e2d\u626e\u6f14\u7740\u8ffd\u8e2a\u5e26\u7535\u53cd\u5e94\u4ea7\u7269\uff08\u5c24\u5176\u662f\u8d28\u5b50\uff09\u7684\u5173\u952e\u89d2\u8272\uff0c\u901a\u8fc7\u7cbe\u786e\u6d4b\u91cf\u5176\u8fd0\u52a8\u8f68\u8ff9\uff0c\u7ed3\u5408SAMURAI\u8d85\u5bfc\u78c1\u94c1\u7684\u78c1\u573a\u4fe1\u606f\uff0c\u53ef\u4ee5\u91cd\u5efa\u8fd9\u4e9b\u4ea7\u7269\u7684\u52a8\u91cf\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#51-samurai-pdc\u63a2\u6d4b\u5668\u7b80\u4ecb","title":"5.1 SAMURAI PDC\u63a2\u6d4b\u5668\u7b80\u4ecb","text":"<p>SAMURAI\u8c31\u4eea\u914d\u5907\u4e86\u591a\u5957\u6f02\u79fb\u5ba4\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u4f4d\u7f6e\u7cbe\u786e\u6d4b\u91cf\u5e26\u7535\u7c92\u5b50\u7684\u5f84\u8ff9 [12, 13]\u3002\u5173\u952e\u7684\u6f02\u79fb\u5ba4\u7ec4\u4ef6\u901a\u5e38\u5305\u62ec\uff1a</p> <ul> <li>BDCs (Beam Drift Chambers): \u901a\u5e38\u6307\u4f4d\u4e8eSAMURAI\u5b9e\u9a8c\u9776\u4e0a\u6e38\u7684\u6f02\u79fb\u5ba4\uff0c\u7528\u4e8e\u7cbe\u786e\u6d4b\u5b9a\u5165\u5c04\u675f\u6d41\u7c92\u5b50\u51fb\u4e2d\u9776\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\u3002\u8fd9\u5bf9\u4e8e\u786e\u5b9a\u53cd\u5e94\u9876\u70b9\u548c\u5165\u5c04\u7c92\u5b50\u7684\u8fd0\u52a8\u5b66\u53c2\u6570\u81f3\u5173\u91cd\u8981\u3002</li> <li>FDCs (Forward Drift Chambers): \u901a\u5e38\u6307\u4f4d\u4e8eSAMURAI\u8d85\u5bfc\u78c1\u94c1\u4e0b\u6e38\u7684\u6f02\u79fb\u5ba4\uff0c\u5982FDC0\uff08\u53ef\u80fd\u5728\u78c1\u94c1\u5185\u6216\u7d27\u90bb\u78c1\u94c1\u5165\u53e3\uff09\u3001FDC1\u3001FDC2\u7b49 [8, 14]\u3002\u8fd9\u4e9b\u63a2\u6d4b\u5668\u7528\u4e8e\u6d4b\u91cf\u7ecf\u8fc7\u78c1\u573a\u504f\u8f6c\u540e\u7684\u5e26\u7535\u53cd\u5e94\u4ea7\u7269\u7684\u5f84\u8ff9\u3002FDC0\u53ef\u80fd\u7528\u4e8e\u63d0\u4f9b\u78c1\u94c1\u5165\u5c04\u70b9\u7684\u4fe1\u606f\uff0c\u800cFDC2\u5219\u5728\u7c92\u5b50\u98de\u884c\u4e00\u6bb5\u8ddd\u79bb\u540e\u518d\u6b21\u6d4b\u91cf\u5176\u4f4d\u7f6e\u548c\u89d2\u5ea6\uff0c\u4ece\u800c\u7cbe\u786e\u786e\u5b9a\u5176\u5728\u78c1\u573a\u4e2d\u7684\u5f2f\u66f2\u60c5\u51b5\u3002</li> </ul> <p>\u8fd9\u4e9b\u6f02\u79fb\u5ba4\u7531\u591a\u5c42\u5177\u6709\u7279\u5b9a\u6392\u5e03\u65b9\u5f0f\u7684\u9633\u6781\u4e1d\u548c\u9634\u6781\u5e73\u9762\u6784\u6210\uff0c\u5f53\u5e26\u7535\u7c92\u5b50\u7a7f\u8fc7\u6f02\u79fb\u5ba4\u6c14\u4f53\u65f6\uff0c\u4f1a\u4ea7\u751f\u7535\u79bb\u7535\u5b50\uff0c\u8fd9\u4e9b\u7535\u5b50\u5728\u7535\u573a\u4f5c\u7528\u4e0b\u5411\u6700\u8fd1\u7684\u9633\u6781\u4e1d\u6f02\u79fb\uff0c\u901a\u8fc7\u6d4b\u91cf\u6f02\u79fb\u65f6\u95f4\u5373\u53ef\u63a8\u7b97\u51fa\u7c92\u5b50\u5f84\u8ff9\u5230\u9633\u6781\u4e1d\u7684\u8ddd\u79bb\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#52-pdc\u6570\u636e\u7279\u70b9\u4e0eanaroot\u4e2d\u7684\u8868\u793a","title":"5.2 PDC\u6570\u636e\u7279\u70b9\u4e0eANAROOT\u4e2d\u7684\u8868\u793a","text":"<p>\u5728ANAROOT\u4e2d\uff0c\u6f02\u79fb\u5ba4\u7684\u6570\u636e\u4e3b\u8981\u901a\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u7c7b\u6765\u8868\u793a\u548c\u5904\u7406\uff1a</p> <ul> <li><code>TArtDCHit</code>: \u6b64\u7c7b\u5bf9\u8c61\u901a\u5e38\u4ee3\u8868\u6f02\u79fb\u5ba4\u4e2d\u5355\u4e2a\u9633\u6781\u4e1d\u7684\u51fb\u4e2d\u4fe1\u606f [5, 8]\u3002\u5b83\u53ef\u80fd\u5305\u542b\u7684\u6570\u636e\u6210\u5458\u6709\uff1a</li> <li>\u9633\u6781\u4e1d\u7684\u552f\u4e00\u6807\u8bc6\u7b26 (Wire ID)</li> <li>\u5c42\u53f7 (Layer ID)</li> <li>\u539f\u59cbTDC\u503c (Raw TDC value)\uff0c\u5bf9\u5e94\u6f02\u79fb\u65f6\u95f4</li> <li>\u7ecf\u8fc7\u523b\u5ea6\u540e\u7684\u6f02\u79fb\u65f6\u95f4 (Calibrated Drift Time)</li> <li>\u8ba1\u7b97\u5f97\u5230\u7684\u6f02\u79fb\u8ddd\u79bb (Calculated Drift Length)</li> <li>\u53ef\u80fd\u8fd8\u5305\u62ecADC\u503c\uff08\u5982\u679c\u9633\u6781\u4e1d\u4e5f\u6d4b\u91cf\u7535\u8377\u4fe1\u53f7\uff0c\u53ef\u7528\u4e8edE/dx\u4fe1\u606f\u6216\u63d0\u9ad8\u4f4d\u7f6e\u5206\u8fa8\uff09</li> <li><code>TArtDCTrack</code>: \u6b64\u7c7b\u5bf9\u8c61\u4ee3\u8868\u901a\u8fc7\u4e00\u4e2a\u6216\u591a\u4e2a\u6f02\u79fb\u5ba4\u91cd\u5efa\u51fa\u6765\u7684\u5e26\u7535\u7c92\u5b50\u5f84\u8ff9 [5, 8]\u3002\u5b83\u53ef\u80fd\u5305\u542b\u7684\u6570\u636e\u6210\u5458\u6709\uff1a</li> <li>\u5f84\u8ff9\u4e0a\u7684\u7a7a\u95f4\u70b9\u5750\u6807 (Track Points)</li> <li>\u5f84\u8ff9\u5728\u7279\u5b9a\u53c2\u8003\u5e73\u9762\u7684\u4f4d\u7f6e (X, Y) \u548c\u89d2\u5ea6 (AngleX, AngleY)</li> <li>\u5f84\u8ff9\u62df\u5408\u7684\u8d28\u91cf\u53c2\u6570 (\u5982 \\chi^2/ndf)</li> <li>\u6784\u6210\u8be5\u5f84\u8ff9\u7684 <code>TArtDCHit</code> \u5bf9\u8c61\u7684\u7d22\u5f15\u6216\u6307\u9488\u5217\u8868</li> <li>\u91cd\u5efa\u5f97\u5230\u7684\u7c92\u5b50\u52a8\u91cf (Momentum) \u6216\u78c1\u521a\u5ea6 (B\u03c1)</li> </ul> <p>\u7528\u6237\u5728\u5206\u6790\u65f6\uff0c\u901a\u5e38\u901a\u8fc7 <code>TArtStoreManager</code> \u83b7\u53d6\u8fd9\u4e9b\u5bf9\u8c61\u7684 <code>TClonesArray</code> \u5bb9\u5668\uff0c\u4f8b\u5982\uff0c\u540d\u4e3a \"SAMURAIBDCTrack\" \u6216 \"SAMURAIFDCTrack\" \u7684\u5bb9\u5668\u53ef\u80fd\u5b58\u50a8\u7740BDC\u6216FDC\u7684\u91cd\u5efa\u5f84\u8ff9\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#53-pdc\u6570\u636e\u523b\u5ea6-tartcalibdc-\u6216\u7c7b\u4f3c","title":"5.3 PDC\u6570\u636e\u523b\u5ea6 (<code>TArtCalibDC</code> \u6216\u7c7b\u4f3c)","text":"<p>\u6f02\u79fb\u5ba4\u7684\u539f\u59cb\u6570\u636e\uff08\u4e3b\u8981\u662fTDC\u503c\uff09\u5fc5\u987b\u7ecf\u8fc7\u4ed4\u7ec6\u523b\u5ea6\u624d\u80fd\u7528\u4e8e\u7cbe\u786e\u7684\u5f84\u8ff9\u91cd\u5efa\u3002\u523b\u5ea6\u8fc7\u7a0b\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u5173\u952e\u6b65\u9aa4\uff0c\u5176\u53c2\u6570\u4e00\u822c\u4eceXML\u6587\u4ef6\u4e2d\u52a0\u8f7d [14]\uff1a</p> <ul> <li>\u6f02\u79fb\u65f6\u95f4\u5230\u6f02\u79fb\u8ddd\u79bb\u7684\u8f6c\u6362 (t-d\u5173\u7cfb): \u8fd9\u662f\u6f02\u79fb\u5ba4\u523b\u5ea6\u7684\u6838\u5fc3\u3002\u9700\u8981\u4e3a\u6bcf\u4e2a\u6f02\u79fb\u5355\u5143\uff08\u6216\u6bcf\u79cd\u7c7b\u578b\u7684\u6f02\u79fb\u5355\u5143\uff09\u786e\u5b9a\u4ece\u6d4b\u91cf\u7684\u6f02\u79fb\u65f6\u95f4\u5230\u7c92\u5b50\u5f84\u8ff9\u4e0e\u9633\u6781\u4e1d\u4e4b\u95f4\u6700\u77ed\u8ddd\u79bb\uff08\u6f02\u79fb\u8ddd\u79bb\uff09\u7684\u7cbe\u786e\u5173\u7cfb\u3002\u8fd9\u4e2at-d\u5173\u7cfb\u901a\u5e38\u662f\u975e\u7ebf\u6027\u7684\uff0c\u4f9d\u8d56\u4e8e\u6f02\u79fb\u5ba4\u7684\u6c14\u4f53\u79cd\u7c7b\u3001\u538b\u5f3a\u3001\u6e29\u5ea6\u3001\u7535\u573a\u5f3a\u5ea6\u7b49\u56e0\u7d20\u3002\u5b83\u901a\u5e38\u901a\u8fc7\u4e13\u95e8\u7684\u523b\u5ea6\u5b9e\u9a8c\uff08\u4f8b\u5982\uff0c\u4f7f\u7528\u5df2\u77e5\u5f84\u8ff9\u7684\u5b87\u5b99\u5c04\u7ebf\u6216\u7279\u5b9a\u675f\u6d41\uff0c\u6216\u8005\u901a\u8fc7\u201c\u81ea\u523b\u5ea6\u201d\u65b9\u6cd5\uff09\u5e76\u7ed3\u5408\u590d\u6742\u7684\u62df\u5408\u7a0b\u5e8f\u6765\u786e\u5b9a [14]\u3002\u523b\u5ea6\u7ed3\u679c\uff08\u5982t-d\u51fd\u6570\u7684\u53c2\u6570\uff09\u4f1a\u88ab\u5b58\u50a8\u8d77\u6765\u4f9b\u540e\u7eed\u5206\u6790\u4f7f\u7528\u3002</li> <li>\u65f6\u95f4\u96f6\u70b9 (t_0t_0) \u7684\u786e\u5b9a: \u6bcf\u4e2aTDC\u901a\u9053\u90fd\u9700\u8981\u4e00\u4e2a\u7cbe\u786e\u7684\u65f6\u95f4\u96f6\u70b9\uff0c\u5373\u7c92\u5b50\u6070\u597d\u7a7f\u8fc7\u9633\u6781\u4e1d\uff08\u6f02\u79fb\u65f6\u95f4\u4e3a\u96f6\uff09\u65f6\u5bf9\u5e94\u7684TDC\u8bfb\u6570\u3002t_0t_0 \u7684\u4e0d\u786e\u5b9a\u6027\u4f1a\u76f4\u63a5\u5f71\u54cd\u6f02\u79fb\u8ddd\u79bb\u7684\u8ba1\u7b97\u7cbe\u5ea6\u3002</li> <li>\u4fe1\u53f7\u5e45\u5ea6\u5904\u7406 (ADC): \u5982\u679c\u6f02\u79fb\u5ba4\u4e5f\u8bb0\u5f55\u4e86\u9633\u6781\u4e1d\u4fe1\u53f7\u7684\u5e45\u5ea6\uff08ADC\u503c\uff09\uff0c\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7535\u79bb\u80fd\u529b\u7684\u4e8b\u4f8b\uff0c\u6216\u8005\u901a\u8fc7\u7535\u8377\u5171\u4eab\u7b49\u65b9\u6cd5\u8f85\u52a9\u63d0\u9ad8\u4f4d\u7f6e\u5206\u8fa8\u7387\uff0c\u751a\u81f3\u7528\u4e8e\u7c92\u5b50\u9274\u522b\uff08dE/dx\uff09\u3002ADC\u6570\u636e\u672c\u8eab\u4e5f\u9700\u8981\u523b\u5ea6\u3002</li> <li>\u51e0\u4f55\u6821\u51c6 (Alignment): \u7cbe\u786e\u4e86\u89e3\u6bcf\u6839\u9633\u6781\u4e1d\u5728\u7a7a\u95f4\u4e2d\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5404\u4e2a\u6f02\u79fb\u5ba4\u6a21\u5757\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u548c\u671d\u5411\uff08\u5373\u6240\u8c13\u7684\u201c\u5185\u7980\u5bf9\u51c6\u201d\u548c\u201c\u5916\u90e8\u5bf9\u51c6\u201d\uff09\u5bf9\u4e8e\u5f84\u8ff9\u91cd\u5efa\u81f3\u5173\u91cd\u8981\u3002\u8fd9\u4e9b\u51e0\u4f55\u53c2\u6570\u901a\u5e38\u901a\u8fc7\u7cbe\u5bc6\u6d4b\u91cf\uff08\u5982\u5149\u5b66\u6d4b\u91cf\uff09\u548c\u675f\u6d41\u5b9e\u9a8c\u6570\u636e\u8fdb\u884c\u5fae\u8c03\u786e\u5b9a\uff0c\u5e76\u4f5c\u4e3a\u53c2\u6570\u8f93\u5165\u5230\u5206\u6790\u8f6f\u4ef6\u4e2d [14]\u3002</li> <li>\u53c2\u6570\u6587\u4ef6: \u6240\u6709\u8fd9\u4e9b\u523b\u5ea6\u5e38\u6570\u3001t-d\u5173\u7cfb\u53c2\u6570\u3001\u51e0\u4f55\u53c2\u6570\u7b49\uff0c\u90fd\u901a\u8fc7ANAROOT\u7684\u53c2\u6570\u7ba1\u7406\u7cfb\u7edf\uff08\u901a\u5e38\u662fXML\u6587\u4ef6\uff0c\u7531 <code>TArtSAMURAIParameters</code> \u6216\u5176\u5b50\u7c7b\u52a0\u8f7d\uff09\u63d0\u4f9b\u7ed9\u523b\u5ea6\u548c\u91cd\u5efa\u6a21\u5757\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#54-pdc\u5f84\u8ff9\u91cd\u5efa\u4e0e\u52a8\u91cf\u5206\u6790","title":"5.4 PDC\u5f84\u8ff9\u91cd\u5efa\u4e0e\u52a8\u91cf\u5206\u6790","text":"<p>\u5728\u6f02\u79fb\u5ba4\u6570\u636e\u523b\u5ea6\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u5f84\u8ff9\u91cd\u5efa\u548c\u52a8\u91cf\u5206\u6790\u3002</p> <ul> <li>\u5f84\u8ff9\u5bfb\u627e\u7b97\u6cd5 (Track Finding):   \u5f84\u8ff9\u5bfb\u627e\u662f\u4ece\u5927\u91cf\u7684 <code>TArtDCHit</code> \u4e2d\u8bc6\u522b\u51fa\u5c5e\u4e8e\u540c\u4e00\u7c92\u5b50\u7a7f\u5f84\u7684\u90a3\u4e9b\u51fb\u4e2d\u70b9\uff0c\u5e76\u5c06\u5b83\u4eec\u7ec4\u5408\u6210\u5019\u9009\u5f84\u8ff9\u7684\u8fc7\u7a0b\u3002\u5bf9\u4e8e\u5177\u6709\u591a\u5c42\u4e0d\u540c\u671d\u5411\u9633\u6781\u4e1d\u7684\u6f02\u79fb\u5ba4\uff0c\u8fd9\u901a\u5e38\u662f\u4e00\u4e2a\u590d\u6742\u7684\u7ec4\u5408\u95ee\u9898\u3002\u4e00\u79cd\u65b9\u6cd5\u662f\uff0c\u5bf9\u4e8en\u4e2a\u88ab\u51fb\u4e2d\u7684\u5bfc\u7ebf\uff0c\u6bcf\u6839\u5bfc\u7ebf\u90fd\u5b58\u5728\u4e24\u79cd\u53ef\u80fd\u7684\u7c92\u5b50\u901a\u8fc7\u8def\u5f84\uff08\u5de6\u53f3\u6a21\u7cca\u6027\uff09\uff0c\u4ece\u800c\u4ea7\u751f 2^n2^n \u79cd\u51fb\u4e2d\u4f4d\u7f6e\u7ec4\u5408\u3002\u6bcf\u79cd\u7ec4\u5408\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2a\u7ebf\u6027\u51fd\u6570\uff08\u6216\u66f4\u590d\u6742\u7684\u51fd\u6570\uff09\u8fdb\u884c\u62df\u5408\uff0c\u5176\u4e2d\u62df\u5408\u8d28\u91cf\u6700\u597d\u7684\u7ec4\u5408\u88ab\u63a5\u53d7\u4e3a\u5019\u9009\u5f84\u8ff9 [14]\u3002\u5176\u4ed6\u66f4\u590d\u6742\u7684\u7b97\u6cd5\uff0c\u5982\u57fa\u4e8e\u8fde\u8def\uff08road finding\uff09\u3001\u970d\u592b\u53d8\u6362\uff08Hough transform\uff09\u6216\u9010\u6b65\u5efa\u7acb\u5f84\u8ff9\u7684\u65b9\u6cd5\uff08\u5982\u5361\u5c14\u66fc\u6ee4\u6ce2\u7684\u521d\u59cb\u9636\u6bb5\uff09\u4e5f\u53ef\u80fd\u88ab\u4f7f\u7528\u3002</li> <li>\u5f84\u8ff9\u62df\u5408 (Track Fitting):   \u4e00\u65e6\u627e\u5230\u4e86\u5019\u9009\u5f84\u8ff9\uff08\u5373\u4e00\u7ec4\u5c5e\u4e8e\u540c\u4e00\u5f84\u8ff9\u7684\u51fb\u4e2d\u70b9\uff09\uff0c\u5c31\u9700\u8981\u901a\u8fc7\u62df\u5408\u7b97\u6cd5\u6765\u7cbe\u786e\u786e\u5b9a\u8fd9\u6761\u5f84\u8ff9\u7684\u53c2\u6570\uff0c\u5982\u5176\u5728\u67d0\u4e2a\u53c2\u8003\u5e73\u9762\u7684\u4f4d\u7f6e\u548c\u65b9\u5411\u3002\u7b80\u5355\u7684\u62df\u5408\u53ef\u4ee5\u4f7f\u7528\u76f4\u7ebf\u6216\u629b\u7269\u7ebf\u6a21\u578b\uff08\u5c24\u5176\u662f\u5728\u65e0\u78c1\u573a\u6216\u5f31\u78c1\u573a\u533a\u57df\uff09\u3002\u5728\u5f3a\u78c1\u573a\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u8003\u8651\u7c92\u5b50\u5f84\u8ff9\u7684\u5f2f\u66f2\uff0c\u53ef\u80fd\u91c7\u7528\u87ba\u65cb\u7ebf\u6a21\u578b\u6216\u66f4\u590d\u6742\u7684\u6570\u503c\u79ef\u5206\u65b9\u6cd5\u3002\u5361\u5c14\u66fc\u6ee4\u6ce2\u65b9\u6cd5\u662f\u4e00\u79cd\u5f3a\u5927\u4e14\u5e7f\u6cdb\u5e94\u7528\u7684\u5f84\u8ff9\u62df\u5408\u6280\u672f\uff0c\u5b83\u80fd\u591f\u8fed\u4ee3\u5730\u66f4\u65b0\u5f84\u8ff9\u53c2\u6570\uff0c\u5e76\u81ea\u7136\u5730\u5904\u7406\u591a\u91cd\u6563\u5c04\u7b49\u6548\u5e94 [15]\u3002\u62df\u5408\u540e\u5f97\u5230\u7684\u5f84\u8ff9\u53c2\u6570\uff0c\u5982\u4f4d\u7f6e\u3001\u89d2\u5ea6\u3001\u66f2\u7387\u4ee5\u53ca\u62df\u5408\u7684\\chi^2\\chi^2\u503c\uff0c\u90fd\u5b58\u50a8\u5728 <code>TArtDCTrack</code> \u5bf9\u8c61\u4e2d\u3002</li> </ul> <p>\u4e3a\u4e86\u63d0\u9ad8\u5206\u8fa8\u7387\uff0c\u901a\u5e38\u8fd8\u4f1a\u8fdb\u884c\u6b8b\u5dee\u4fee\u6b63\uff08residual correction\uff09\u3002\u6b8b\u5dee\u5b9a\u4e49\u4e3a\u6d4b\u91cf\u5230\u7684\u51fb\u4e2d\u4f4d\u7f6e\u4e0e\u91cd\u5efa\u5f84\u8ff9\u5728\u8be5\u5bfc\u7ebf\u5904\u9884\u6d4b\u4f4d\u7f6e\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u901a\u8fc7\u5206\u6790\u6b8b\u5dee\u4e0e\u6f02\u79fb\u8ddd\u79bb\u7b49\u53d8\u91cf\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4fee\u6b63t-d\u5173\u7cfb\u6216\u5c40\u90e8\u5bf9\u51c6\u53c2\u6570\uff0c\u4ece\u800c\u4f18\u5316\u5f84\u8ff9\u91cd\u5efa\u7684\u7cbe\u5ea6 [14]\u3002 - \u5229\u7528SAMURAI\u78c1\u573a\u8fdb\u884c\u52a8\u91cf\u91cd\u5efa:   SAMURAI\u8d85\u5bfc\u78c1\u4f53\u63d0\u4f9b\u9ad8\u8fbe7 \u7279\u65af\u62c9\u00b7\u7c73 (Tm) \u7684\u5f2f\u66f2\u80fd\u529b [12, 13]\u3002\u5e26\u7535\u7c92\u5b50\u5728\u78c1\u573a\u4e2d\u8fd0\u52a8\u65f6\u4f1a\u53d7\u5230\u6d1b\u4f26\u5179\u529b\u800c\u53d1\u751f\u504f\u8f6c\uff0c\u5176\u504f\u8f6c\u534a\u5f84\u4e0e\u7c92\u5b50\u7684\u52a8\u91cf\u6210\u6b63\u6bd4\uff0c\u4e0e\u7535\u8377\u548c\u78c1\u573a\u5f3a\u5ea6\u6210\u53cd\u6bd4\u3002\u901a\u8fc7\u7cbe\u786e\u6d4b\u91cf\u7c92\u5b50\u5728\u78c1\u94c1\u4e2d\uff08\u6216\u78c1\u94c1\u524d\u540e\uff09\u7684\u5f84\u8ff9\uff0c\u53ef\u4ee5\u786e\u5b9a\u5176\u5f2f\u66f2\u66f2\u7387\uff0c\u8fdb\u800c\u8ba1\u7b97\u51fa\u5176\u78c1\u521a\u5ea6B\u03c1\u3002\u5bf9\u4e8e\u5df2\u77e5\u7535\u8377Z\u7684\u7c92\u5b50\uff0c\u5176\u52a8\u91cfp\u53ef\u4ee5\u901a\u8fc7\u516c\u5f0f p = Z \\cdot e \\cdot B\\rhop = Z \\cdot e \\cdot B\\rho \u8ba1\u7b97\u5f97\u5230\uff08\u5176\u4e2de\u662f\u5143\u7535\u8377\uff09[14]\u3002</p> <p>\u4e00\u79cd\u88ab\u79f0\u4e3a\u591a\u7ef4\u62df\u5408 (Multi-Dimensional Fit, MDF) \u7684\u65b9\u6cd5\u88ab\u7528\u4e8eSAMURAI\u7684\u788e\u7247\u8ffd\u8e2a\uff0c\u8be5\u65b9\u6cd5\u5c06\u5df2\u77e5\u7684\u78c1\u521a\u5ea6 (B\u03c1) \u548c\u98de\u884c\u957f\u5ea6 (l_fl_f) \u4f5c\u4e3a\u6f02\u79fb\u5ba4\u6d4b\u91cf\u5230\u7684\u4f4d\u7f6e\u548c\u89d2\u5ea6\u7684\u51fd\u6570\u8fdb\u884c\u62df\u5408\u3002\u8fd9\u4e9b\u62df\u5408\u51fd\u6570\uff08\u901a\u5e38\u662f\u591a\u9879\u5f0f\u7ec4\u5408\uff09\u7684\u7cfb\u6570\u901a\u8fc7\u5bf9\u5927\u91cfGEANT4\u6a21\u62df\u4e8b\u4f8b\u8fdb\u884c\u8bad\u7ec3\u5f97\u5230\u3002\u5728\u5206\u6790\u771f\u5b9e\u6570\u636e\u65f6\uff0c\u5c06\u5b9e\u9a8c\u6d4b\u91cf\u7684\u6f02\u79fb\u5ba4\u6570\u636e\u4ee3\u5165\u8fd9\u4e9b\u62df\u5408\u51fd\u6570\uff0c\u5373\u53ef\u5f97\u5230\u8be5\u4e8b\u4f8b\u7684B\u03c1\u548cl_fl_f [14]\u3002\u8fd9\u79cd\u65b9\u6cd5\u4f9d\u8d56\u4e8e\u7cbe\u786e\u7684GEANT4\u6a21\u62df\uff0c\u5305\u62ec\u78c1\u573a\u56fe\u8c31\u3001\u63a2\u6d4b\u5668\u51e0\u4f55\u548c\u6750\u6599\u7684\u51c6\u786e\u63cf\u8ff0\u3002\u4efb\u4f55\u6a21\u62df\u4e0e\u5b9e\u9645\u60c5\u51b5\u7684\u504f\u5dee\u90fd\u53ef\u80fd\u5f15\u5165\u7cfb\u7edf\u8bef\u5dee\uff0c\u56e0\u6b64\uff0c\u9a8c\u8bc1\u548c\u8c03\u6574\u6a21\u62df\u53c2\u6570\uff08\u5982\u78c1\u573a\u5f3a\u5ea6\u56e0\u5b50\uff09\u662f\u786e\u4fdd\u52a8\u91cf\u91cd\u5efa\u51c6\u786e\u6027\u7684\u91cd\u8981\u73af\u8282 [14]\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#55-\u5b9e\u4f8bpdc\u6570\u636e\u5206\u6790\u811a\u672c\u5b8f\u793a\u4f8b","title":"5.5 \u5b9e\u4f8b\uff1aPDC\u6570\u636e\u5206\u6790\u811a\u672c/\u5b8f\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u6982\u5ff5\u6027\u7684ANAROOT\u5206\u6790\u5b8f (C++ ROOT\u5b8f) \u7684\u9aa8\u67b6\uff0c\u7528\u4e8e\u6f14\u793a\u5982\u4f55\u5904\u7406SAMURAI PDC\u6570\u636e\u3002\u5b9e\u9645\u4ee3\u7801\u9700\u8981\u6839\u636e\u5177\u4f53\u7684ANAROOT\u7248\u672c\u548c\u5b9e\u9a8c\u914d\u7f6e\u8fdb\u884c\u8c03\u6574\u3002</p> <pre><code>// MyPDCAnalysis.C\nvoid MyPDCAnalysis(const char* ridfFile = \"run0001.ridf\", const char* outRootFile = \"pdc_hists.root\") {\n// 1. ANAROOT\u73af\u5883\u521d\u59cb\u5316 (\u901a\u5e38\u5728rootlogon.C\u6216setup.sh\u4e2d\u5b8c\u6210)\n// gSystem-&gt;Load(\"libanacore.so\"); // \u7b49ANAROOT\u6838\u5fc3\u5e93\n// gSystem-&gt;Load(\"libanasamurai.so\"); // \u7b49SAMURAI\u76f8\u5173\u5e93\n\n// 2. \u521b\u5efa\u53c2\u6570\u7ba1\u7406\u5668\u5e76\u52a0\u8f7d\u53c2\u6570\u6587\u4ef6\nTArtSAMURAIParameters *samuraiPara = TArtSAMURAIParameters::Instance();\nsamuraiPara-&gt;LoadParameter(\"db/SAMURAIBDC.xml\"); // BDC\u53c2\u6570\nsamuraiPara-&gt;LoadParameter(\"db/SAMURAIFDC.xml\"); // FDC\u53c2\u6570\n//... \u5176\u4ed6\u5fc5\u8981\u7684\u53c2\u6570\u6587\u4ef6\n\n// 3. \u521b\u5efa\u5e76\u914d\u7f6eEventStore\nTArtEventStore *estore = new TArtEventStore();\nestore-&gt;Open(ridfFile);\n\n// 4. \u521b\u5efa\u523b\u5ea6/\u91cd\u5efa\u5bf9\u8c61 (\u901a\u5e38\u5728AnaLoop\u7684Construct\u4e2d\u5b8c\u6210)\n// \u4f8b\u5982: TArtCalibBDC *calibBDC = new TArtCalibBDC();\n// TArtCalibFDC *calibFDC = new TArtCalibFDC();\n// TArtRecoDCTrack *recoTrack = new TArtRecoDCTrack(); // \u5047\u8bbe\u6709\u8fd9\u6837\u7684\u5f84\u8ff9\u91cd\u5efa\u7c7b\n\n// 5. \u9884\u5b9a\u76f4\u65b9\u56fe\nTFile *outFile = new TFile(outRootFile, \"RECREATE\");\nTH1F *h_fdc_x = new TH1F(\"h_fdc_x\", \"FDC Track X Position; X (mm); Counts\", 200, -1000, 1000);\nTH1F *h_fdc_p = new TH1F(\"h_fdc_p\", \"FDC Track Momentum; p (MeV/c); Counts\", 200, 0, 3000);\n//... \u66f4\u591a\u76f4\u65b9\u56fe\n\n// 6. \u4e8b\u4ef6\u5faa\u73af\nTArtStoreManager *sman = TArtStoreManager::Instance();\nwhile (estore-&gt;GetNextEvent()) {\n// \u6e05\u9664\u4e0a\u4e00\u4e8b\u4f8b\u7684\u6570\u636e (Calib/Reco\u5bf9\u8c61\u5185\u90e8\u901a\u5e38\u4f1a\u5904\u7406)\n// calibBDC-&gt;ClearData(); calibFDC-&gt;ClearData(); recoTrack-&gt;ClearData();\n\n// \u6267\u884c\u523b\u5ea6\u548c\u91cd\u5efa (Calib/Reco\u5bf9\u8c61\u5185\u90e8\u901a\u5e38\u4f1a\u4eceestore\u83b7\u53d6\u539f\u59cb\u6570\u636e\u5e76\u5904\u7406)\n// calibBDC-&gt;ReconstructData();\n// calibFDC-&gt;ReconstructData();\n// recoTrack-&gt;ReconstructData(); // \u4f9d\u8d56\u4e8e\u523b\u5ea6\u540e\u7684DCHit\n\n// 7. \u4eceStoreManager\u83b7\u53d6\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bb9\u5668\nTClonesArray *fdcTracks = (TClonesArray*)sman-&gt;FindDataContainer(\"SAMURAIFDCTrack\"); // \u5047\u8bbe\u91cd\u5efa\u5f84\u8ff9\u5bb9\u5668\u540d\u4e3a\u6b64\n\nif (fdcTracks) {\nint nTracks = fdcTracks-&gt;GetEntriesFast();\nfor (int i = 0; i &lt; nTracks; ++i) {\nTArtDCTrack *track = (TArtDCTrack*)fdcTracks-&gt;At(i);\nif (track) {\n// \u8bbf\u95ee\u5f84\u8ff9\u53c2\u6570\u5e76\u586b\u5145\u76f4\u65b9\u56fe\nh_fdc_x-&gt;Fill(track-&gt;GetPositionX()); // \u5047\u8bbe\u6709GetPositionX()\u65b9\u6cd5\n// h_fdc_p-&gt;Fill(track-&gt;GetMomentum()); // \u5047\u8bbe\u6709GetMomentum()\u65b9\u6cd5\n//... \u6839\u636e\u5b9e\u9645TArtDCTrack\u7c7b\u7684\u65b9\u6cd5\u83b7\u53d6\u6570\u636e\n}\n}\n}\nestore-&gt;ClearData(); // \u6e05\u7406TArtEventStore\u4e2d\u7684\u539f\u59cb\u6570\u636e\u7f13\u5b58\n}\n\n// 8. \u4fdd\u5b58\u76f4\u65b9\u56fe\u5e76\u5173\u95ed\u6587\u4ef6\noutFile-&gt;Write();\noutFile-&gt;Close();\n\ndelete estore;\n// delete calibBDC; delete calibFDC; delete recoTrack; // \u82e5\u5728\u6b64\u5904\u521b\u5efa\ndelete outFile;\n\nstd::cout &lt;&lt; \"Analysis finished. Output saved to \" &lt;&lt; outRootFile &lt;&lt; std::endl;\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u4e0a\u8ff0\u4ee3\u7801\u662f\u4e00\u4e2a\u9ad8\u5ea6\u7b80\u5316\u7684\u793a\u4f8b\u6846\u67b6\u3002\u5b9e\u9645\u7684ANAROOT\u5206\u6790\u901a\u5e38\u4f1a\u4f7f\u7528 <code>TArtAnaLoop</code> \u7684\u6d3e\u751f\u7c7b\u6765\u7ec4\u7ec7\u5206\u6790\u903b\u8f91\uff0c\u5176\u4e2d\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u914d\u7f6e\u5728 <code>Construct()</code> \u65b9\u6cd5\u4e2d\uff0c\u4e8b\u4ef6\u5904\u7406\u5728 <code>Calculate()</code> \u65b9\u6cd5\u4e2d\uff0c\u6e05\u7406\u5de5\u4f5c\u5728 <code>Destruct()</code> \u65b9\u6cd5\u4e2d\u3002\u6570\u636e\u5bb9\u5668\u7684\u786e\u5207\u540d\u79f0 (<code>\"SAMURAIFDCTrack\"</code>) \u548c <code>TArtDCTrack</code> \u7c7b\u7684\u65b9\u6cd5\u540d (<code>GetPositionX</code>, <code>GetMomentum</code>) \u9700\u8981\u53c2\u8003\u5177\u4f53\u7684ANAROOT\u7248\u672c\u548cSAMURAI\u5206\u6790\u6a21\u5757\u7684\u5b9e\u73b0\u3002</p> <ul> <li>\u8868 3: SAMURAI PDC (\u6f02\u79fb\u5ba4) \u6570\u636e\u53c2\u6570\u793a\u4f8b (ANAROOT\u4e2d)</li> </ul> \u53c2\u6570\u540d (Parameter Name in Class - \u793a\u4f8b) \u6240\u5c5e\u7c7b (Class e.g., TArtDCHit, TArtDCTrack) \u63cf\u8ff0 (Description) \u5355\u4f4d (Unit) \u76f8\u5173\u6765\u6e90 (Snippet Ref.) <code>GetTDC()</code> <code>TArtDCHit</code> \u539f\u59cbTDC\u503c\uff0c\u4e0e\u6f02\u79fb\u65f6\u95f4\u76f8\u5173 channels [5, 8] (\u63a8\u65ad) <code>GetDriftLength()</code> <code>TArtDCHit</code> \u901a\u8fc7t-d\u5173\u7cfb\u8ba1\u7b97\u5f97\u5230\u7684\u6f02\u79fb\u8ddd\u79bb mm [5, 8] (\u63a8\u65ad)[14] <code>GetWireID()</code> <code>TArtDCHit</code> \u51fb\u4e2d\u9633\u6781\u4e1d\u7684\u552f\u4e00\u6807\u8bc6\u7b26 N/A (ANAROOT\u901a\u7528\u7ed3\u6784) <code>GetLayer()</code> <code>TArtDCHit</code> \u9633\u6781\u4e1d\u6240\u5728\u7684\u5c42\u9762\u7f16\u53f7 N/A (ANAROOT\u901a\u7528\u7ed3\u6784) <code>GetPositionX()</code>, <code>GetPositionY()</code> <code>TArtDCTrack</code> \u91cd\u5efa\u5f84\u8ff9\u5728\u7279\u5b9a\u53c2\u8003\u5e73\u9762\u7684X, Y\u5750\u6807 mm [5, 8] (\u63a8\u65ad)[14] <code>GetAngleX()</code>, <code>GetAngleY()</code> <code>TArtDCTrack</code> \u91cd\u5efa\u5f84\u8ff9\u5728\u7279\u5b9a\u53c2\u8003\u5e73\u9762\u7684X, Y\u65b9\u5411\u89d2 (\u5982 dx/dz, dy/dz) mrad \u6216 rad [5, 8] (\u63a8\u65ad)[14] <code>GetMomentum()</code> <code>TArtDCTrack</code> (\u6216\u76f8\u5173\u91cd\u5efa\u7c7b) \u91cd\u5efa\u5f97\u5230\u7684\u7c92\u5b50\u52a8\u91cf MeV/c \u6216 GeV/c [14, 12, 13] (\u7269\u7406\u76ee\u6807) <code>GetBrho()</code> <code>TArtDCTrack</code> (\u6216\u76f8\u5173\u91cd\u5efa\u7c7b) \u91cd\u5efa\u5f97\u5230\u7684\u7c92\u5b50\u78c1\u521a\u5ea6 Tm [14] (\u7269\u7406\u76ee\u6807) <code>GetChi2()</code> <code>TArtDCTrack</code> \u5f84\u8ff9\u62df\u5408\u7684\u5361\u65b9\u503c\uff0c\u8868\u5f81\u62df\u5408\u4f18\u5ea6 N/A (\u6807\u51c6\u5f84\u8ff9\u53c2\u6570) <p>\u6b64\u8868\u65e8\u5728\u5e2e\u52a9\u7528\u6237\u7406\u89e3\u5728\u5206\u6790SAMURAI\u6f02\u79fb\u5ba4\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4eceANAROOT\u7684\u6570\u636e\u5bb9\u5668\u4e2d\u83b7\u53d6\u54ea\u4e9b\u5173\u952e\u7684\u7269\u7406\u4fe1\u606f\u6216\u4e2d\u95f4\u91cf\uff0c\u5e76\u6307\u5bfc\u4ed6\u4eec\u5982\u4f55\u5728\u81ea\u5df1\u7684\u5206\u6790\u4ee3\u7801\u4e2d\u8bbf\u95ee\u8fd9\u4e9b\u91cf\u3002\u5b9e\u9645\u53ef\u7528\u7684\u65b9\u6cd5\u548c\u53d8\u91cf\u540d\u9700\u67e5\u9605\u5bf9\u5e94ANAROOT\u7248\u672c\u7684\u7c7b\u6587\u6863\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#6-\u4f7f\u7528anaroot\u5206\u6790nebula\u63a2\u6d4b\u5668\u6570\u636e","title":"6. \u4f7f\u7528ANAROOT\u5206\u6790NEBULA\u63a2\u6d4b\u5668\u6570\u636e","text":"<p>NEBULA (Neutron Detection System for Breakup of Unstable Nuclei with Large Acceptance) \u662fSAMURAI\u5b9e\u9a8c\u4e2d\u7528\u4e8e\u63a2\u6d4b\u4e2d\u5b50\u7684\u91cd\u8981\u5b50\u7cfb\u7edf\u3002\u672c\u8282\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528ANAROOT\u5206\u6790NEBULA\u63a2\u6d4b\u5668\u7684\u6570\u636e\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#61-nebula\u63a2\u6d4b\u5668\u7b80\u4ecb","title":"6.1 NEBULA\u63a2\u6d4b\u5668\u7b80\u4ecb","text":"<p>[14, 16, 17] NEBULA\u63a2\u6d4b\u5668\u9635\u5217\u7531\u591a\u5c42\u5851\u6599\u95ea\u70c1\u4f53\u68d2\u7ec4\u6210\uff0c\u6bcf\u6839\u95ea\u70c1\u4f53\u68d2\u4e24\u7aef\u7531\u5149\u7535\u500d\u589e\u7ba1 (Photomultiplier Tubes, PMTs) \u8bfb\u51fa [17]\u3002\u5f53\u5feb\u4e2d\u5b50\u5165\u5c04\u5230\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u65f6\uff0c\u4e3b\u8981\u901a\u8fc7\u4e0e\u6c22\u6838\uff08\u8d28\u5b50\uff09\u53d1\u751f\u5f39\u6027\u6563\u5c04\uff0c\u5c06\u90e8\u5206\u80fd\u91cf\u4f20\u9012\u7ed9\u8d28\u5b50\u3002\u8fd9\u4e9b\u53cd\u51b2\u8d28\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u4ea7\u751f\u95ea\u70c1\u5149\uff0c\u5149\u4fe1\u53f7\u88abPMT\u6536\u96c6\u5e76\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7 [18]\u3002NEBULA\u8bbe\u8ba1\u7528\u4e8e\u63a2\u6d4b\u4ece\u6838\u53cd\u5e94\u4e2d\u51fa\u5c04\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u4e2d\u5b50\uff0c\u5e76\u80fd\u591f\u6d4b\u91cf\u5b83\u4eec\u7684\u65f6\u95f4\u548c\u80fd\u91cf\u6c89\u79ef\u4fe1\u606f\uff0c\u4ece\u800c\u91cd\u5efa\u4e2d\u5b50\u7684\u80fd\u91cf\u548c\u52a8\u91cf [17]\u3002NEBULA-Plus\u662fNEBULA\u7684\u5347\u7ea7\u7248\u672c\uff0c\u901a\u8fc7\u589e\u52a0\u989d\u5916\u7684\u63a2\u6d4b\u5668\u5899\u6765\u63d0\u9ad8\u7279\u522b\u662f\u5bf9\u591a\u4e2d\u5b50\u4e8b\u4f8b\u7684\u63a2\u6d4b\u6548\u7387 [17]\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#62-nebula\u6570\u636e\u7279\u70b9\u4e0eanaroot\u4e2d\u7684\u8868\u793a","title":"6.2 NEBULA\u6570\u636e\u7279\u70b9\u4e0eANAROOT\u4e2d\u7684\u8868\u793a","text":"<p>\u5728ANAROOT\u4e2d\uff0cNEBULA\u5851\u6599\u95ea\u70c1\u4f53\u7684\u6570\u636e\u4e3b\u8981\u901a\u8fc7 <code>TArtNEBULAPla</code> \u7c7b\u6765\u8868\u793a [5, 8]\u3002\u4e00\u4e2a <code>TArtNEBULAPla</code> \u5bf9\u8c61\u901a\u5e38\u5bf9\u5e94\u4e8eNEBULA\u9635\u5217\u4e2d\u7684\u4e00\u6839\u5851\u6599\u95ea\u70c1\u4f53\u68d2\u7684\u4e00\u6b21\u51fb\u4e2d\u4e8b\u4ef6\u3002\u5176\u53ef\u80fd\u5305\u542b\u7684\u6570\u636e\u6210\u5458\u6709\uff1a</p> <ul> <li>\u63a2\u6d4b\u5668\u5355\u5143\uff08\u68d2\uff09\u7684ID (Bar ID)</li> <li>\u4e24\u7aefPMT\u7684\u539f\u59cbTDC\u503c (TDC_L, TDC_R)</li> <li>\u4e24\u7aefPMT\u7684\u539f\u59cbADC\u6216QDC\u503c (ADC_L, ADC_R \u6216 QDC_L, QDC_R)\uff0c\u53cd\u6620\u80fd\u91cf\u6c89\u79ef</li> <li>\u7ecf\u8fc7\u523b\u5ea6\u540e\u7684\u65f6\u95f4\u4fe1\u606f (\u5982\u51fb\u4e2d\u65f6\u95f4 Time_L, Time_R, \u6216\u5e73\u5747\u65f6\u95f4 Time_Mean)</li> <li>\u7ecf\u8fc7\u523b\u5ea6\u540e\u7684\u80fd\u91cf\u6c89\u79ef\u4fe1\u606f (\u5982 Q_L, Q_R, \u6216\u51e0\u4f55\u5e73\u5747\u503c Q_Mean)</li> <li>\u8ba1\u7b97\u5f97\u5230\u7684\u51fb\u4e2d\u4f4d\u7f6e (Position)</li> <li>\u8ba1\u7b97\u5f97\u5230\u7684\u98de\u884c\u65f6\u95f4 (TOF)</li> <li>\u8109\u51b2\u5f62\u72b6\u7504\u522b (PSD) \u53c2\u6570 (\u5982\u679c\u652f\u6301\u5e76\u5df2\u8ba1\u7b97)</li> </ul> <p>\u5982\u679cNEBULA\u5b9e\u9a8c\u914d\u7f6e\u4e2d\u8fd8\u5305\u542b\u9ad8\u7eaf\u9517\u63a2\u6d4b\u5668 (HPGe) \u7528\u4e8e\u7b26\u5408\u6d4b\u91cf\u4f3d\u9a6c\u5c04\u7ebf\uff0c\u5219\u53ef\u80fd\u4f1a\u7528\u5230 <code>TArtNEBULAHPC</code> \u7c7b [5, 8]\u3002\u672c\u6307\u5357\u4e3b\u8981\u5173\u6ce8\u57fa\u4e8e <code>TArtNEBULAPla</code> \u7684\u4e2d\u5b50\u5206\u6790\u3002\u7528\u6237\u901a\u8fc7 <code>TArtStoreManager</code> \u83b7\u53d6\u540d\u4e3a \"NEBULAPla\" (\u6216\u7c7b\u4f3c\u540d\u79f0) \u7684 <code>TClonesArray</code> \u6570\u636e\u5bb9\u5668\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#63-nebula\u6570\u636e\u523b\u5ea6-tartcalibnebula-\u6216\u7c7b\u4f3c-14","title":"6.3 NEBULA\u6570\u636e\u523b\u5ea6 (<code>TArtCalibNEBULA</code> \u6216\u7c7b\u4f3c) [14]","text":"<p>NEBULA\u6570\u636e\u7684\u7cbe\u786e\u523b\u5ea6\u5bf9\u4e8e\u540e\u7eed\u7684\u4e2d\u5b50\u9274\u522b\u548c\u7269\u7406\u5206\u6790\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u65f6\u95f4\u523b\u5ea6 (Timing Calibration):</li> <li>TDC\u8f6c\u6362: \u5c06\u6bcf\u4e2aPMT\u7684\u539f\u59cbTDC\u9053\u6570\u8f6c\u6362\u4e3a\u7eb3\u79d2 (ns) \u5355\u4f4d\u7684\u65f6\u95f4\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u5df2\u77e5\u65f6\u95f4\u95f4\u9694\u7684\u8109\u51b2\u4fe1\u53f7\uff08\u5982\u7535\u5b50\u5b66\u6d4b\u8bd5\u8109\u51b2\u6216\u5b87\u5b99\u5c04\u7ebf\u4e8b\u4f8b\uff09\u8fdb\u884c\u7ebf\u6027\u523b\u5ea6 [14]\u3002</li> <li>Walk\u4fee\u6b63: PMT\u4fe1\u53f7\u7684\u6e21\u8d8a\u65f6\u95f4\u53ef\u80fd\u968f\u4fe1\u53f7\u5e45\u5ea6\u53d8\u5316\uff08\u5373\u201cWalk\u6548\u5e94\u201d\uff09\uff0c\u5bfc\u81f4\u5927\u4fe1\u53f7\u7684\u5230\u8fbe\u65f6\u95f4\u770b\u8d77\u6765\u66f4\u65e9\u3002\u9700\u8981\u6839\u636e\u4fe1\u53f7\u5e45\u5ea6\uff08ADC/QDC\u503c\uff09\u5bf9\u65f6\u95f4\u8fdb\u884c\u4fee\u6b63\u3002\u5e38\u7528\u7684\u4fee\u6b63\u51fd\u6570\u5f62\u5f0f\u5982 t_{corr} = t_{raw} - (a/\\sqrt{Q} + b)t_{corr} = t_{raw} - (a/\\sqrt{Q} + b) \u6216\u7c7b\u4f3c\u5f62\u5f0f\uff0c\u5176\u4e2dQ\u662f\u7535\u8377\u503c\uff0ca\u548cb\u662f\u62df\u5408\u53c2\u6570 [14]\u3002</li> <li>\u68d2\u5185\u65f6\u95f4\u540c\u6b65\u4e0e\u7edd\u5bf9\u65f6\u95f4\u96f6\u70b9: \u540c\u6b65\u4e00\u6839\u68d2\u4e24\u7aefPMT\u7684\u65f6\u95f4\u54cd\u5e94\uff0c\u5e76\u786e\u5b9a\u6574\u4e2a\u63a2\u6d4b\u5668\u76f8\u5bf9\u4e8e\u5b9e\u9a8c\u89e6\u53d1\u6216\u675f\u6d41\u4fe1\u53f7\u7684\u7edd\u5bf9\u65f6\u95f4\u96f6\u70b9\u3002\u901a\u5e38\u5229\u7528\u4ece\u9776\u4ea7\u751f\u7684\u77ac\u53d1\\gamma\\gamma\u5c04\u7ebf\u4e8b\u4f8b\u8fdb\u884c\u3002\u7531\u4e8e\\gamma\\gamma\u5c04\u7ebf\u4ee5\u5149\u901f\u4f20\u64ad\uff0c\u5176\u98de\u884c\u65f6\u95f4\u5df2\u77e5\uff0c\u53ef\u4ee5\u6b64\u4e3a\u57fa\u51c6\u8c03\u6574\u5404PMT\u7684\u65f6\u95f4\u504f\u79fb [14]\u3002</li> <li> <p>\u8fd0\u884c\u671f\u95f4\u65f6\u95f4\u6f02\u79fb\u4fee\u6b63: \u63a2\u6d4b\u5668\u548c\u7535\u5b50\u5b66\u7cfb\u7edf\u7684\u65f6\u95f4\u54cd\u5e94\u53ef\u80fd\u968f\u5b9e\u9a8c\u8fd0\u884c\u65f6\u95f4\u53d1\u751f\u7f13\u6162\u6f02\u79fb\uff0c\u9700\u8981\u76d1\u6d4b\u5e76\u8fdb\u884c\u4fee\u6b63\uff0c\u4f8b\u5982\u5229\u7528\u5b87\u5b99\u5c04\u7ebf\u6216\\gamma\\gamma-flash\u7684\u5e73\u5747\u65f6\u95f4\u4f5c\u4e3a\u53c2\u8003 [14]\u3002</p> </li> <li> <p>\u4f4d\u7f6e\u523b\u5ea6 (Position Calibration):   \u4e2d\u5b50\u5728\u95ea\u70c1\u4f53\u68d2\u4e2d\u76f8\u4e92\u4f5c\u7528\u7684\u4f4d\u7f6e\uff08\u6cbf\u68d2\u957f\u65b9\u5411\uff09\u53ef\u4ee5\u901a\u8fc7\u6d4b\u91cf\u5149\u4fe1\u53f7\u5230\u8fbe\u4e24\u7aefPMT\u7684\u65f6\u95f4\u5dee \\Delta t = t_L - t_R\\Delta t = t_L - t_R \u6765\u786e\u5b9a\u3002\u4f4d\u7f6e xx \u4e0e \\Delta t\\Delta t \u8fd1\u4f3c\u6210\u7ebf\u6027\u5173\u7cfb\uff1ax \\approx v_{eff} \\cdot \\Delta t / 2 + x_0x \\approx v_{eff} \\cdot \\Delta t / 2 + x_0\uff0c\u5176\u4e2d v_{eff}v_{eff} \u662f\u5149\u5728\u95ea\u70c1\u4f53\u4e2d\u7684\u6709\u6548\u4f20\u64ad\u901f\u5ea6\uff0cx_0x_0 \u662f\u68d2\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u6216\u4e00\u7aef\u7684\u4f4d\u7f6e\u3002v_{eff}v_{eff} \u548c x_0x_0 \u9700\u8981\u901a\u8fc7\u523b\u5ea6\u786e\u5b9a\uff0c\u4f8b\u5982\u5229\u7528\u5df2\u77e5\u4f4d\u7f6e\u7684\\gamma\\gamma\u6e90\u7167\u5c04\u95ea\u70c1\u4f53\u68d2\u7684\u4e0d\u540c\u4f4d\u7f6e\uff0c\u6216\u5229\u7528\u5b87\u5b99\u5c04\u7ebf\u5f84\u8ff9\u7a7f\u8fc7\u6574\u6839\u68d2\u65f6\u5728\u4e24\u7aef\u4ea7\u751f\u7684\u4fe1\u53f7 [14]\u3002</p> </li> <li> <p>\u80fd\u91cf\u523b\u5ea6 (Energy Deposition Calibration / Light Output):   PMT\u6d4b\u5f97\u7684\u7535\u8377\u91cf (ADC/QDC\u503c) \u9700\u8981\u8f6c\u6362\u4e3a\u7c92\u5b50\u5728\u95ea\u70c1\u4f53\u4e2d\u6c89\u79ef\u7684\u80fd\u91cf\uff0c\u901a\u5e38\u4ee5\u7535\u5b50\u7b49\u6548\u80fd\u91cf MeVee (MeV electron equivalent) \u4e3a\u5355\u4f4d\u3002\u5bf9\u4e8e\u4e2d\u5b50\u63a2\u6d4b\uff0c\u5b9e\u9645\u5173\u5fc3\u7684\u662f\u53cd\u51b2\u8d28\u5b50\u6c89\u79ef\u7684\u80fd\u91cf\u3002\u5851\u6599\u95ea\u70c1\u4f53\u5bf9\u4e0d\u540c\u7c7b\u578b\u7c92\u5b50\u7684\u5149\u4ea7\u989d\u4e0d\u540c\uff0c\u4e14\u5bf9\u8d28\u5b50\u7b49\u91cd\u5e26\u7535\u7c92\u5b50\u7684\u5149\u4ea7\u989d\u4e0e\u5176\u80fd\u91cf\u4e4b\u95f4\u901a\u5e38\u5448\u975e\u7ebf\u6027\u5173\u7cfb\uff0c\u8fd9\u53ef\u4ee5\u7528Birks\u5b9a\u5f8b\u7b49\u6a21\u578b\u6765\u63cf\u8ff0 [14]\u3002\u80fd\u91cf\u523b\u5ea6\u901a\u5e38\u4f7f\u7528\u5df2\u77e5\u80fd\u91cf\u7684\\gamma\\gamma\u6e90\uff08\u5982 ^{60}Co^{60}Co, ^{137}Cs^{137}Cs \u7b49\uff0c\u5229\u7528\u5176\u5eb7\u666e\u987f\u6563\u5c04\u8fb9\u7f18\uff09\u6216\u5b87\u5b99\u03bc\u5b50\u7a7f\u8fc7\u65f6\u7684\u80fd\u91cf\u635f\u5931\u6765\u8fdb\u884c\u3002</p> </li> </ul> <p>\u6240\u6709\u8fd9\u4e9b\u523b\u5ea6\u53c2\u6570\uff08TDC\u8f6c\u6362\u7cfb\u6570\u3001Walk\u4fee\u6b63\u53c2\u6570\u3001\u65f6\u95f4\u504f\u79fb\u3001\u4f4d\u7f6e\u523b\u5ea6\u7cfb\u6570\u3001\u80fd\u91cf\u523b\u5ea6\u51fd\u6570\u53c2\u6570\u7b49\uff09\u90fd\u5e94\u5b58\u50a8\u5728XML\u53c2\u6570\u6587\u4ef6\u4e2d\uff0c\u7531ANAROOT\u7684\u53c2\u6570\u7ba1\u7406\u7cfb\u7edf\u52a0\u8f7d\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#64-nebula\u4e2d\u5b50\u9274\u522b\u4e0e\u5206\u6790\u6280\u672f","title":"6.4 NEBULA\u4e2d\u5b50\u9274\u522b\u4e0e\u5206\u6790\u6280\u672f","text":"<ul> <li>\u98de\u884c\u65f6\u95f4\u6cd5 (Time-of-Flight, TOF) \u8ba1\u7b97\u4e2d\u5b50\u80fd\u91cf/\u52a8\u91cf:   \u4e2d\u5b50\u4e0d\u5e26\u7535\uff0c\u65e0\u6cd5\u76f4\u63a5\u901a\u8fc7\u78c1\u573a\u504f\u8f6c\u6d4b\u91cf\u5176\u52a8\u91cf\u3002\u5176\u52a8\u80fd\u4e3b\u8981\u901a\u8fc7\u6d4b\u91cf\u98de\u884c\u65f6\u95f4 (TOF) \u6765\u786e\u5b9a [14]\u3002TOF\u662f\u6307\u4e2d\u5b50\u4ece\u53cd\u5e94\u9776\u70b9\u4ea7\u751f\u5230\u5728NEBULA\u4e2d\u53d1\u751f\u9996\u6b21\u76f8\u4e92\u4f5c\u7528\u6240\u7ecf\u8fc7\u7684\u65f6\u95f4\u3002\u98de\u884c\u8def\u5f84\u957f\u5ea6 LL \u662f\u4ece\u53cd\u5e94\u9776\u70b9\u5230NEBULA\u4e2d\u5b50\u76f8\u4e92\u4f5c\u7528\u70b9\u7684\u76f4\u7ebf\u8ddd\u79bb\u3002\u4e00\u65e6TOF\u548c LL \u5df2\u77e5\uff0c\u4e2d\u5b50\u7684\u901f\u5ea6 v = L/TOFv = L/TOF \u5373\u53ef\u7b97\u51fa\u3002</li> </ul> <p>\u5bf9\u4e8e\u975e\u76f8\u5bf9\u8bba\u6027\u4e2d\u5b50\uff0c\u5176\u52a8\u80fd KE = \\frac{1}{2} m_n v^2KE = \\frac{1}{2} m_n v^2\uff0c\u5176\u4e2d m_nm_n \u662f\u4e2d\u5b50\u8d28\u91cf\u3002\u5bf9\u4e8eRIBF\u5b9e\u9a8c\u4e2d\u53ef\u80fd\u4ea7\u751f\u7684\u9ad8\u80fd\u4e2d\u5b50\uff0c\u9700\u8981\u4f7f\u7528\u76f8\u5bf9\u8bba\u516c\u5f0f\uff1aKE = (\\gamma - 1)m_n c^2KE = (\\gamma - 1)m_n c^2\uff0c\u5176\u4e2d\u6d1b\u4f26\u5179\u56e0\u5b50 \\gamma = 1/\\sqrt{1 - (v/c)^2}\\gamma = 1/\\sqrt{1 - (v/c)^2}\u3002\u4e2d\u5b50\u7684\u52a8\u91cf p = \\gamma m_n vp = \\gamma m_n v\u3002</p> <p>\u51c6\u786e\u7684TOF\u6d4b\u91cf\u9700\u8981\u4e00\u4e2a\u7cbe\u786e\u7684\u201c\u8d77\u59cb\u201d\u65f6\u95f4\u4fe1\u53f7\uff08\u901a\u5e38\u6765\u81ea\u675f\u6d41\u63a2\u6d4b\u5668\u4fe1\u53f7\u3001\u9776\u533a\u77ac\u53d1\\gamma\\gamma\u4fe1\u53f7\u6216\u5b9e\u9a8c\u4e3b\u89e6\u53d1\uff09\u548c\u4e00\u4e2a\u7cbe\u786e\u7684\u201c\u7ec8\u6b62\u201d\u65f6\u95f4\u4fe1\u53f7\uff08\u6765\u81eaNEBULA PMT\uff09\u3002\u98de\u884c\u8def\u5f84 LL \u7684\u8ba1\u7b97\u5219\u4f9d\u8d56\u4e8e\u53cd\u5e94\u9876\u70b9\u4f4d\u7f6e\u548cNEBULA\u4e2d\u5b50\u76f8\u4e92\u4f5c\u7528\u70b9\u4f4d\u7f6e\u7684\u7cbe\u786e\u91cd\u5efa\u3002 - \u8109\u51b2\u5f62\u72b6\u7504\u522b (Pulse Shape Discrimination, PSD):   \u5851\u6599\u95ea\u70c1\u4f53\uff08\u5c24\u5176\u662f\u67d0\u4e9b\u7279\u5b9a\u7c7b\u578b\u6216\u7ecf\u8fc7\u7279\u6b8a\u5904\u7406\u7684\uff09\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u5165\u5c04\u7c92\u5b50\uff08\u5982\\gamma\\gamma\u5c04\u7ebf\u548c\u4e2d\u5b50\uff09\u4ea7\u751f\u7684\u95ea\u70c1\u5149\u8109\u51b2\u5f62\u72b6\u4f1a\u6709\u7ec6\u5fae\u5dee\u5f02\u3002\u4e2d\u5b50\u4e3b\u8981\u901a\u8fc7\u53cd\u51b2\u8d28\u5b50\u4ea7\u751f\u5149\uff0c\u800c\\gamma\\gamma\u5c04\u7ebf\u4e3b\u8981\u901a\u8fc7\u5eb7\u666e\u987f\u6563\u5c04\u4ea7\u751f\u7535\u5b50\u3002\u53cd\u51b2\u8d28\u5b50\u901a\u5e38\u6bd4\u7535\u5b50\u4ea7\u751f\u66f4\u591a\u7684\u6162\u8870\u51cf\u6210\u5206\u7684\u5149\u4fe1\u53f7\u3002\u5229\u7528\u8fd9\u4e00\u7279\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u5206\u6790PMT\u8f93\u51fa\u8109\u51b2\u7684\u5f62\u72b6\uff08\u4f8b\u5982\uff0c\u6bd4\u8f83\u8109\u51b2\u4e0d\u540c\u65f6\u95f4\u7a97\u53e3\u5185\u7684\u7535\u8377\u79ef\u5206\u6bd4\u4f8b\uff0c\u5373\u6240\u8c13\u7684\u201c\u957f\u77ed\u95e8\u201d\u6cd5\u6216\u201c\u5c3e\u90e8/\u603b\u91cf\u201d\u6cd5\uff09\u6765\u533a\u5206\u4e2d\u5b50\u4e8b\u4f8b\u548c\\gamma\\gamma\u672c\u5e95\u4e8b\u4f8b [14, 18]\u3002PSD\u662f\u7eaf\u51c0\u4e2d\u5b50\u6d4b\u91cf\u7684\u5173\u952e\u6280\u672f\uff0c\u5c24\u5176\u662f\u5728\\gamma\\gamma\u672c\u5e95\u8f83\u9ad8\u7684\u5b9e\u9a8c\u73af\u5883\u4e2d\u3002ANAROOT\u4e2d\u53ef\u80fd\u901a\u8fc7 <code>TArtCalibNEBULA</code> \u6216\u7528\u6237\u5728 <code>AnaLoop</code> \u4e2d\u5b9e\u73b0\u7684\u7b97\u6cd5\u6765\u8fdb\u884cPSD\u53c2\u6570\u7684\u8ba1\u7b97\u548c\u5207\u53e3\u7684\u8bbe\u5b9a\u3002 - Cross-talk (\u4e32\u6270) \u4fee\u6b63 [14]:   \u4e00\u4e2a\u5165\u5c04\u4e2d\u5b50\u53ef\u80fd\u5728NEBULA\u63a2\u6d4b\u5668\u9635\u5217\u4e2d\u53d1\u751f\u591a\u6b21\u6563\u5c04\uff0c\u6bcf\u6b21\u6563\u5c04\u90fd\u53ef\u80fd\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u95ea\u70c1\u4f53\u68d2\u4e2d\u4ea7\u751f\u4fe1\u53f7\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u201c\u6563\u5c04\u4e32\u6270\u201d\u3002\u6b64\u5916\uff0c\u4e00\u4e2a\u4e2d\u5b50\u76f8\u4e92\u4f5c\u7528\u4ea7\u751f\u7684\u6b21\u7ea7\u7c92\u5b50\uff08\u5982\u53e6\u4e00\u4e2a\u4e2d\u5b50\u6216\\gamma\\gamma\u5c04\u7ebf\uff09\u4e5f\u53ef\u80fd\u51fb\u4e2d\u5176\u4ed6\u68d2\uff0c\u9020\u6210\u201c\u6b21\u7ea7\u7c92\u5b50\u4e32\u6270\u201d\u3002\u8fd9\u4e9b\u4e32\u6270\u4e8b\u4f8b\u4f1a\u4f7f\u5f97\u5bf9\u5165\u5c04\u4e2d\u5b50\u6570\u76ee\u548c\u80fd\u91cf\u7684\u5224\u65ad\u590d\u6742\u5316\u3002</p> <p>ANAROOT\uff08\u6216\u7528\u6237\u5206\u6790\u4ee3\u7801\uff09\u9700\u8981\u91c7\u7528\u7b97\u6cd5\u6765\u8bc6\u522b\u548c\u5254\u9664\u8fd9\u4e9b\u4e32\u6270\u4fe1\u53f7\uff0c\u4ee5\u6b63\u786e\u91cd\u5efa\u771f\u5b9e\u7684\u4e2d\u5b50\u51fb\u4e2d\u4fe1\u606f\u3002[14]\u4e2d\u63d0\u53ca\u7684\u4e32\u6270\u6392\u9664\u6b65\u9aa4\u5305\u62ec\uff1a   1.  TOF\u5207\u5272: \u5254\u9664TOF\u8fc7\u5c0f\u6216\u8fc7\u5927\u7684\u4e8b\u4f8b\uff0c\u8fd9\u4e9b\u901a\u5e38\u5bf9\u5e94\u4e8e\u968f\u673a\u7b26\u5408\u6216\u52a0\u901f\u5668\u76f8\u5173\u7684\u80cc\u666f\u3002   2.  \u805a\u7c7b (Clustering): \u5c06\u65f6\u95f4\u548c\u7a7a\u95f4\u4e0a\u4e34\u8fd1\u7684\u51fb\u4e2d\u7ec4\u5408\u6210\u201c\u7c07 (cluster)\u201d\u3002\u8fd9\u6709\u52a9\u4e8e\u6392\u9664\u7531\u6b21\u7ea7\u5e26\u7535\u7c92\u5b50\u5f15\u8d77\u7684\u5927\u90e8\u5206\u4e32\u6270\u3002   3.  \u80fd\u91cf\u9608\u503c\u5207\u5272 (Q-cut): \u603b\u80fd\u91cf\u6c89\u79ef\u4f4e\u4e8e\u67d0\u4e2a\u9608\u503c\uff08\u59825 MeVee\uff09\u7684\u7c07\u88ab\u8ba4\u4e3a\u662f\u4e32\u6270\u3002\u7c07\u7684\u9996\u4e2a\u51fb\u4e2d\u4e5f\u9700\u8981\u6709\u8db3\u591f\u7684\u80fd\u91cf\u6c89\u79ef\u4ee5\u4fdd\u8bc1\u826f\u597d\u7684TOF\u5206\u8fa8\u3002\u8fd9\u6709\u52a9\u4e8e\u6392\u9664\u4f4e\u80fd\\gamma\\gamma\u5c04\u7ebf\u548c\u6563\u5c04\u4e2d\u5b50\u5f15\u8d77\u7684\u4e32\u6270\u3002   4.  \\gamma\\gamma\u4e32\u6270\u6392\u9664: \u901a\u8fc7\u6bd4\u8f83\u7c07\u5bf9\u7684\u7279\u6027\uff08\u5982\u76f8\u5bf9\u901f\u5ea6\u63a5\u8fd1\u5149\u901f\u4e14\u80fd\u91cf\u8f83\u5c0f\uff09\u6765\u8bc6\u522b\u9ad8\u80fd\\gamma\\gamma\u5c04\u7ebf\u5f15\u8d77\u7684\u4e32\u6270\u3002   5.  \u56e0\u679c\u5173\u7cfb\u5207\u5272 (Causality cut): \u5229\u7528\u6563\u5c04\u4e2d\u5b50\u80fd\u91cf\u635f\u5931\u540e\u901f\u5ea6\u53d8\u6162\u7684\u7279\u6027\u3002\u5982\u679c\u4e00\u4e2a\u7c07\u53ef\u4ee5\u88ab\u89e3\u91ca\u4e3a\u7531\u524d\u4e00\u4e2a\u7c07\u4e2d\u6563\u5c04\u51fa\u7684\u4e2d\u5b50\u4ea7\u751f\uff0c\u5219\u540e\u8005\u88ab\u8ba4\u4e3a\u662f\u4e32\u6270\u3002   6.  \u8fd1\u8ddd\u79bb\u4e32\u6270 (Nearby cross-talk): \u7279\u522b\u662f\u9488\u5bf9NeuLAND\uff0c\u5bf9\u5c0f\u8ddd\u79bb\u7c07\u4e4b\u95f4\u53ef\u80fd\u7531\u4e8e\u5206\u8fa8\u4e0d\u8db3\u800c\u5b58\u6d3b\u4e0b\u6765\u7684\u4e32\u6270\uff0c\u65bd\u52a0\u989d\u5916\u7684\u7a7a\u95f4\u8ddd\u79bb\u5207\u5272\u3002   7.  \u5426\u51b3\u903b\u8f91 (Veto condition): \u5229\u7528NEBULA\u5899\u524d\u65b9\u7684\u5e26\u7535\u7c92\u5b50\u5426\u51b3\u677f\u4fe1\u53f7\uff0c\u6392\u9664\u5176\u540e\u65b9\u63a2\u6d4b\u5668\u5899\u5185\u7531\u5e26\u7535\u7c92\u5b50\u5f15\u8d77\u7684\u4f2a\u4e2d\u5b50\u4fe1\u53f7\u3002</p> <ul> <li>\u6548\u7387\u4e0e\u63a5\u6536\u5ea6\u6821\u6b63 (Efficiency and Acceptance Correction):   NEBULA\u63a2\u6d4b\u5668\u5bf9\u4e2d\u5b50\u7684\u63a2\u6d4b\u6548\u7387\u5e76\u975e100%\uff0c\u4e14\u4f9d\u8d56\u4e8e\u4e2d\u5b50\u7684\u80fd\u91cf\u3002\u540c\u65f6\uff0c\u7531\u4e8e\u51e0\u4f55\u5c3a\u5bf8\u7684\u9650\u5236\uff0c\u63a2\u6d4b\u5668\u53ea\u80fd\u8986\u76d6\u4e00\u90e8\u5206\u7acb\u4f53\u89d2\uff08\u5373\u63a5\u6536\u5ea6\uff09\u3002\u4e3a\u4e86\u5f97\u5230\u771f\u5b9e\u7684\u7269\u7406\u4ea7\u989d\uff0c\u6d4b\u91cf\u7684\u4e2d\u5b50\u8ba1\u6570\u9700\u8981\u5bf9\u63a2\u6d4b\u6548\u7387\u548c\u63a5\u6536\u5ea6\u8fdb\u884c\u4fee\u6b63\u3002\u8fd9\u4e9b\u4fee\u6b63\u56e0\u5b50\u901a\u5e38\u901a\u8fc7\u8be6\u7ec6\u7684\u8499\u7279\u5361\u7f57\u6a21\u62df\uff08\u5982\u4f7f\u7528GEANT4\u8f6f\u4ef6\u5305\uff09\u5f97\u5230 [14]\u3002\u6a21\u62df\u9700\u8981\u7cbe\u786e\u63cf\u8ff0\u63a2\u6d4b\u5668\u7684\u51e0\u4f55\u7ed3\u6784\u3001\u6750\u6599\u7ec4\u5206\u4ee5\u53ca\u4e2d\u5b50\u4e0e\u7269\u8d28\u76f8\u4e92\u4f5c\u7528\u7684\u7269\u7406\u8fc7\u7a0b\u3002\u6a21\u62df\u7ed3\u679c\u901a\u5e38\u9700\u8981\u901a\u8fc7\u5b9e\u9a8c\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\u548c\u8c03\u6574\uff0c\u4f8b\u5982\uff0c\u5229\u7528\u5df2\u77e5\u4ea7\u989d\u548c\u89d2\u5206\u5e03\u7684\u4e2d\u5b50\u6e90\uff08\u5982^{252}^{252}Cf\u81ea\u53d1\u88c2\u53d8\u6e90\uff09\u6216\u7279\u5b9a\u6838\u53cd\u5e94\uff08\u5982 ^7\\text{Li}(p,n)^7\\text{Be}^7\\text{Li}(p,n)^7\\text{Be} \u53cd\u5e94 [17]\uff09\u8fdb\u884c\u523b\u5ea6\u548c\u6548\u7387\u6807\u5b9a\u3002[14]\u4e2d\u63d0\u5230\uff0c\u6a21\u62df\u7684\u5355\u4e2d\u5b50\u63a2\u6d4b\u6548\u7387\u4f1a\u6839\u636e\u4e13\u95e8\u7684\u5b9e\u9a8c\u7ed3\u679c\u8fdb\u884c\u4e00\u4e2a\u5168\u5c40\u56e0\u5b50\u7684\u7f29\u653e\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#65-\u5b9e\u4f8bnebula\u6570\u636e\u5206\u6790\u811a\u672c\u5b8f\u793a\u4f8b","title":"6.5 \u5b9e\u4f8b\uff1aNEBULA\u6570\u636e\u5206\u6790\u811a\u672c/\u5b8f\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u6982\u5ff5\u6027\u7684ANAROOT\u5206\u6790\u5b8f (C++ ROOT\u5b8f) \u7684\u9aa8\u67b6\uff0c\u7528\u4e8e\u6f14\u793a\u5982\u4f55\u5904\u7406NEBULA\u6570\u636e\u3002</p> <pre><code>// MyNEBULAAnalysis.C\nvoid MyNEBULAAnalysis(const char* ridfFile = \"run0001.ridf\", const char* outRootFile = \"nebula_hists.root\") {\n// 1. ANAROOT\u73af\u5883\u521d\u59cb\u5316 (\u901a\u5e38\u5728rootlogon.C\u6216setup.sh\u4e2d\u5b8c\u6210)\n// gSystem-&gt;Load(\"libanacore.so\");\n// gSystem-&gt;Load(\"libanasamurai.so\"); // \u5305\u542bNEBULA\u76f8\u5173\u7c7b\n\n// 2. \u521b\u5efa\u53c2\u6570\u7ba1\u7406\u5668\u5e76\u52a0\u8f7d\u53c2\u6570\u6587\u4ef6\nTArtSAMURAIParameters *samuraiPara = TArtSAMURAIParameters::Instance(); // \u6216\u8005 TArtNEBULAParameters \u82e5\u5b58\u5728\nsamuraiPara-&gt;LoadParameter(\"db/NEBULA.xml\"); // NEBULA\u53c2\u6570\u6587\u4ef6\n//... \u5176\u4ed6\u5fc5\u8981\u7684\u53c2\u6570\u6587\u4ef6\n\n// 3. \u521b\u5efa\u5e76\u914d\u7f6eEventStore\nTArtEventStore *estore = new TArtEventStore();\nestore-&gt;Open(ridfFile);\n\n// 4. \u521b\u5efa\u523b\u5ea6/\u91cd\u5efa\u5bf9\u8c61 (\u901a\u5e38\u5728AnaLoop\u7684Construct\u4e2d\u5b8c\u6210)\nTArtCalibNEBULA *calibNEBULA = new TArtCalibNEBULA(); // \u5047\u8bbe\u7684NEBULA\u523b\u5ea6\u7c7b\n\n// 5. \u9884\u5b9a\u76f4\u65b9\u56fe\nTFile *outFile = new TFile(outRootFile, \"RECREATE\");\nTH1F *h_nebula_tof = new TH1F(\"h_nebula_tof\", \"NEBULA TOF; TOF (ns); Counts\", 500, 0, 500);\nTH1F *h_nebula_q = new TH1F(\"h_nebula_q\", \"NEBULA QDC (Mean); Q (MeVee); Counts\", 200, 0, 100);\nTH2F *h_psd_q = new TH2F(\"h_psd_q\", \"NEBULA PSD vs Q; Q (MeVee); PSD parameter\", 200, 0, 100, 200, 0, 2);\n//... \u66f4\u591a\u76f4\u65b9\u56fe\n\n// 6. \u4e8b\u4ef6\u5faa\u73af\nTArtStoreManager *sman = TArtStoreManager::Instance();\nwhile (estore-&gt;GetNextEvent()) {\ncalibNEBULA-&gt;ClearData();\ncalibNEBULA-&gt;ReconstructData(); // \u6267\u884cNEBULA\u6570\u636e\u7684\u523b\u5ea6\u548c\u521d\u6b65\u5904\u7406\n\n// 7. \u4eceStoreManager\u83b7\u53d6NEBULA\u6570\u636e\u5bb9\u5668\nTClonesArray *nebulaPlaArray = (TClonesArray*)sman-&gt;FindDataContainer(\"NEBULAPla\"); // \u5047\u8bbe\u5bb9\u5668\u540d\u4e3aNEBULAPla\n\nif (nebulaPlaArray) {\nint nHits = nebulaPlaArray-&gt;GetEntriesFast();\nfor (int i = 0; i &lt; nHits; ++i) {\nTArtNEBULAPla *pla = (TArtNEBULAPla*)nebulaPlaArray-&gt;At(i);\nif (pla) {\n// \u8bbf\u95eeNEBULA\u5851\u6599\u68d2\u6570\u636e\u5e76\u586b\u5145\u76f4\u65b9\u56fe\n// double tof = pla-&gt;GetTOF(); // \u5047\u8bbe\u6709GetTOF()\u65b9\u6cd5\uff0c\u53ef\u80fd\u9700\u8981\u7ed3\u5408\u9776\u65f6\u95f4\u8ba1\u7b97\n// double q_mean = pla-&gt;GetQ();   // \u5047\u8bbe\u6709GetQ()\u65b9\u6cd5\u83b7\u53d6\u523b\u5ea6\u540e\u7684\u80fd\u91cf\u6c89\u79ef\n// double psd_param = pla-&gt;GetPSD(); // \u5047\u8bbe\u6709GetPSD()\u65b9\u6cd5\u83b7\u53d6PSD\u53c2\u6570\n\n// h_nebula_tof-&gt;Fill(tof);\n// h_nebula_q-&gt;Fill(q_mean);\n// h_psd_q-&gt;Fill(q_mean, psd_param);\n//... \u6839\u636e\u5b9e\u9645TArtNEBULAPla\u7c7b\u7684\u65b9\u6cd5\u83b7\u53d6\u6570\u636e\n}\n}\n}\nestore-&gt;ClearData();\n}\n\n// 8. \u4fdd\u5b58\u76f4\u65b9\u56fe\u5e76\u5173\u95ed\u6587\u4ef6\noutFile-&gt;Write();\noutFile-&gt;Close();\n\ndelete estore;\ndelete calibNEBULA;\ndelete outFile;\n\nstd::cout &lt;&lt; \"NEBULA analysis finished. Output saved to \" &lt;&lt; outRootFile &lt;&lt; std::endl;\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u4e0ePDC\u793a\u4f8b\u7c7b\u4f3c\uff0c\u8fd9\u662f\u4e00\u4e2a\u6982\u5ff5\u6027\u6846\u67b6\u3002\u5b9e\u9645\u4f7f\u7528\u4e2d\u5e94\u901a\u8fc7\u6d3e\u751f <code>TArtAnaLoop</code> \u6765\u5b9e\u73b0\u3002<code>TArtCalibNEBULA</code> \u7684\u5177\u4f53\u65b9\u6cd5\u548c <code>TArtNEBULAPla</code> \u7684\u6210\u5458\u51fd\u6570\uff08\u5982 <code>GetTOF()</code>, <code>GetQ()</code>, <code>GetPSD()</code>\uff09\u9700\u8981\u4f9d\u636eANAROOT\u7684\u5b9e\u9645\u5b9a\u4e49\u3002TOF\u7684\u8ba1\u7b97\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u8d77\u59cb\u65f6\u95f4\u53c2\u8003\uff08\u5982\u9776\u4fe1\u53f7\u6216\u675f\u6d41\u5851\u6599\u95ea\u70c1\u4f53\u4fe1\u53f7\uff09\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u5728 <code>AnaLoop</code> \u4e2d\u989d\u5916\u5904\u7406\u3002</p> <ul> <li>\u8868 4: NEBULA \u6570\u636e\u53c2\u6570\u793a\u4f8b (ANAROOT\u4e2d)</li> </ul> \u53c2\u6570\u540d (Parameter Name in Class - \u793a\u4f8b) \u6240\u5c5e\u7c7b (Class e.g., TArtNEBULAPla) \u63cf\u8ff0 (Description) \u5355\u4f4d (Unit) \u76f8\u5173\u6765\u6e90 (Snippet Ref.) <code>GetID()</code> <code>TArtNEBULAPla</code> \u95ea\u70c1\u4f53\u68d2\u7684\u552f\u4e00\u6807\u8bc6\u7b26 N/A [5, 8] (\u63a8\u65ad) <code>GetTDC(pmt_id)</code> <code>TArtNEBULAPla</code> PMT (0\u62161) \u7684\u539f\u59cbTDC\u503c channels [5, 8] (\u63a8\u65ad) <code>GetQDC(pmt_id)</code> \u6216 <code>GetADC(pmt_id)</code> <code>TArtNEBULAPla</code> PMT (0\u62161) \u7684\u539f\u59cbADC/QDC\u503c channels [5, 8] (\u63a8\u65ad) <code>GetTime()</code> <code>TArtNEBULAPla</code> \u523b\u5ea6\u540e\u7684\u76f8\u4e92\u4f5c\u7528\u5e73\u5747\u65f6\u95f4 ns [14] (\u7269\u7406\u76ee\u6807) <code>GetPos()</code> <code>TArtNEBULAPla</code> \u91cd\u5efa\u5f97\u5230\u7684\u6cbf\u68d2\u957f\u7684\u51fb\u4e2d\u4f4d\u7f6e mm [14] (\u7269\u7406\u76ee\u6807) <code>GetQ()</code> <code>TArtNEBULAPla</code> \u523b\u5ea6\u540e\u7684\u603b\u80fd\u91cf\u6c89\u79ef MeVee [14] (\u7269\u7406\u76ee\u6807) <code>GetTOF()</code> <code>TArtNEBULAPla</code> (\u6216\u7528\u6237\u8ba1\u7b97) \u98de\u884c\u65f6\u95f4 (\u901a\u5e38\u9700\u7ed3\u5408\u5916\u90e8\u8d77\u59cb\u4fe1\u53f7\u8ba1\u7b97) ns (\u4e2d\u5b50\u5206\u6790\u6838\u5fc3\u7269\u7406\u91cf) <code>GetPSDValue()</code> <code>TArtNEBULAPla</code> (\u6216\u7528\u6237\u8ba1\u7b97) \u8109\u51b2\u5f62\u72b6\u7504\u522b\u53c2\u6570 (\u4efb\u610f\u5355\u4f4d) [14] (\u6280\u672f\u9700\u6c42) <p>\u6b64\u8868\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5728 <code>TArtNEBULAPla</code> \u5bf9\u8c61\u4e2d\u53ef\u80fd\u83b7\u53d6\u7684\u5173\u952e\u4fe1\u606f\uff0c\u4fbf\u4e8e\u8fdb\u884c\u4e2d\u5b50\u6570\u636e\u5206\u6790\u3002\u5177\u4f53\u53ef\u7528\u7684\u65b9\u6cd5\u548c\u53d8\u91cf\u540d\u9700\u67e5\u9605\u76f8\u5e94ANAROOT\u7248\u672c\u7684\u7c7b\u6587\u6863\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#\u7b2c\u4e09\u90e8\u5206anaroot\u8fdb\u9636\u4f7f\u7528","title":"\u7b2c\u4e09\u90e8\u5206\uff1aANAROOT\u8fdb\u9636\u4f7f\u7528","text":""},{"location":"sci/project/samurai/anaroot2version/#7-anaroot\u5206\u6790\u6d41\u7a0b\u63a7\u5236\u4e0e\u811a\u672c\u7f16\u5199","title":"7. ANAROOT\u5206\u6790\u6d41\u7a0b\u63a7\u5236\u4e0e\u811a\u672c\u7f16\u5199","text":""},{"location":"sci/project/samurai/anaroot2version/#71-analoop-tartanaloop-\u8be6\u89e3","title":"7.1 <code>AnaLoop</code> (<code>TArtAnaLoop</code>) \u8be6\u89e3","text":"<p><code>AnaLoop</code>\uff08\u5176\u786e\u5207\u7684\u57fa\u7c7b\u540d\u4e3a <code>TArtAnaLoop</code>\uff09\u662fANAROOT\u4e2d\u7528\u4e8e\u63a7\u5236\u7528\u6237\u81ea\u5b9a\u4e49\u5206\u6790\u6d41\u7a0b\u7684\u6838\u5fc3\u62bd\u8c61\u7c7b [10]\u3002\u7528\u6237\u901a\u8fc7\u7ee7\u627f <code>TArtAnaLoop</code> \u5e76\u91cd\u5199\u5176\u7279\u5b9a\u7684\u865a\u51fd\u6570\uff0c\u6765\u6784\u5efa\u81ea\u5df1\u7684\u5206\u6790\u6a21\u5757\u3002\u4e3b\u8981\u9700\u8981\u5b9e\u73b0\u7684\u6210\u5458\u51fd\u6570\u5305\u62ec\uff1a</p> <ul> <li><code>Construct()</code>: \u6b64\u51fd\u6570\u5728\u5206\u6790\u5f00\u59cb\u65f6\uff08\u5f53\u8c03\u7528 <code>start()</code> \u547d\u4ee4\u540e\uff09\u88ab\u8c03\u7528\u4e00\u6b21 [20]\u3002\u5176\u4e3b\u8981\u7528\u9014\u662f\u8fdb\u884c\u5206\u6790\u524d\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u4f8b\u5982\u521b\u5efa\u548c\u914d\u7f6e\u523b\u5ea6\u5668 (<code>TArtCalibXXX</code>) \u548c\u91cd\u5efa\u5668 (<code>TArtRecoXXX</code>) \u5bf9\u8c61\u5b9e\u4f8b\uff08\u5982 <code>new TArtCalibNEBULA()</code>\uff09\uff0c\u4ee5\u53ca\u9884\u5b9a\uff08booking\uff09\u7528\u6237\u9700\u8981\u7684\u76f4\u65b9\u56fe (<code>TH1</code>, <code>TH2</code>) \u548cN\u5143\u7ec4 (<code>TNtuple</code> \u6216 <code>TTree</code>) [10]\u3002</li> <li><code>Calculate()</code>: \u6b64\u51fd\u6570\u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u4e3a\u6bcf\u4e2a\u4e8b\u4ef6\u8c03\u7528\u4e00\u6b21 [10]\u3002\u8fd9\u662f\u6267\u884c\u4e3b\u8981\u5206\u6790\u903b\u8f91\u7684\u5730\u65b9\uff0c\u5305\u62ec\uff1a</li> <li>\u4ece <code>TArtStoreManager</code> \u4e2d\u83b7\u53d6\u5f53\u524d\u4e8b\u4ef6\u7684\u5404\u79cd\u6570\u636e\u5bb9\u5668\uff08\u5982 <code>TArtDCHit</code>, <code>TArtNEBULAPla</code> \u7b49\uff09\u3002</li> <li>\u5bf9\u83b7\u53d6\u7684\u6570\u636e\u8fdb\u884c\u7b5b\u9009\u3001\u5e94\u7528\u7269\u7406\u5224\u9009\u6761\u4ef6\uff08\u5207\u53e3\uff09\u3002</li> <li>\u8ba1\u7b97\u6d3e\u751f\u7269\u7406\u91cf\u3002</li> <li>\u586b\u5145\u5728 <code>Construct()</code> \u4e2d\u9884\u5b9a\u7684\u76f4\u65b9\u56fe\u548cN\u5143\u7ec4\u3002</li> <li><code>Destruct()</code>: \u6b64\u51fd\u6570\u5728\u5206\u6790\u7ed3\u675f\u65f6\uff08\u5f53\u8c03\u7528 <code>end()</code> \u547d\u4ee4\u540e\uff0c\u6216\u5206\u6790\u6d41\u7a0b\u6b63\u5e38\u7ec8\u6b62\u65f6\uff09\u88ab\u8c03\u7528\u4e00\u6b21 [20]\u3002\u5176\u4e3b\u8981\u7528\u9014\u662f\u91ca\u653e\u5728 <code>Construct()</code> \u4e2d\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u8fdb\u884c\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f [10]\u3002</li> <li><code>ClassName()</code>: \u4e00\u4e2a\u7b80\u5355\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u8fd4\u56de\u5f53\u524d <code>AnaLoop</code> \u6d3e\u751f\u7c7b\u7684\u540d\u79f0\uff0c\u4e3b\u8981\u7528\u4e8e\u5728 <code>status()</code> \u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\u663e\u793a\u4fe1\u606f [10]\u3002</li> </ul> <p>\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u4e3b\u8981\u65b9\u5f0f\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 <code>AnaLoop</code>\uff1a 1.  \u7f16\u8bd1\u8fdb\u5e93 (Built-in to library): \u5c06\u6d3e\u751f\u7c7b\u6e90\u6587\u4ef6\uff08<code>.hh</code> \u548c <code>.cc</code>\uff09\u653e\u7f6e\u5728ANAROOT\u6e90\u7801\u7684\u7279\u5b9a\u76ee\u5f55\u4e0b\uff08\u5982 <code>$TARTSYS/source/AnaLoop/include</code> \u548c <code>$TARTSYS/source/AnaLoop/src</code>\uff09\uff0c\u7136\u540e\u91cd\u65b0\u7f16\u8bd1\u6574\u4e2aANAROOT\u5e93\u3002\u8fd9\u79cd\u65b9\u5f0f\u9002\u5408\u63d0\u4f9b\u7ed9\u4e0d\u5e0c\u671b\u6df1\u5165\u4ee3\u7801\u7ec6\u8282\u7684\u7528\u6237\uff0c\u5f62\u6210\u4e00\u4e2a\u201c\u9ed1\u76d2\u201d\u5206\u6790\u6a21\u5757 [10]\u3002 2.  \u52a8\u6001\u52a0\u8f7d\u5b8f (Load dynamically as a macro): \u5728\u7528\u6237\u7684\u5de5\u4f5c\u76ee\u5f55\u4e0b\u521b\u5efa\u6d3e\u751f\u7c7b\u7684\u6e90\u6587\u4ef6\uff08\u4f8b\u5982 <code>MyAnaLoop.C</code>\uff09\uff0c\u7136\u540e\u5728ROOT/ANAROOT\u7684\u4ea4\u4e92\u5f0f\u4f1a\u8bdd\u4e2d\u901a\u8fc7 <code>.L MyAnaLoop.C+</code> \u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u548c\u52a0\u8f7d\uff08\u6ce8\u610f\u672b\u5c3e\u7684 <code>+</code> \u53f7\u8868\u793a\u7f16\u8bd1\uff09[10, 4]\u3002\u8fd9\u79cd\u65b9\u5f0f\u975e\u5e38\u9002\u5408\u9700\u8981\u9891\u7e41\u4fee\u6539\u548c\u6d4b\u8bd5\u5206\u6790\u903b\u8f91\u7684\u7528\u6237\uff0c\u56e0\u4e3a\u5b83\u907f\u514d\u4e86\u91cd\u65b0\u7f16\u8bd1\u6574\u4e2aANAROOT\u5e93\u7684\u8017\u65f6\u8fc7\u7a0b\u3002</p> <p><code>TArtAnaLoop</code> \u662fANAROOT\u4e2d\u5b9e\u73b0\u5b9a\u5236\u5316\u5206\u6790\u7684\u6838\u5fc3\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6e05\u6670\u7684\u7ed3\u6784\u6765\u7ba1\u7406\u5206\u6790\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u548c\u5904\u7406\u4e8b\u4ef6\u6570\u636e\u6d41\u3002\u7279\u522b\u662f\u52a8\u6001\u52a0\u8f7d <code>AnaLoop</code> \u5b8f\u7684\u529f\u80fd\uff0c\u4e3a\u5feb\u901f\u5f00\u53d1\u548c\u8c03\u8bd5\u5206\u6790\u4ee3\u7801\u63d0\u4f9b\u4e86\u6781\u5927\u7684\u4fbf\u5229\u3002</p> <p>\u4e00\u4e2a\u7279\u6b8a\u7684 <code>AnaLoop</code> \u6d3e\u751f\u7c7b\u662f <code>TAlEncExample</code>\u3002\u5f53\u7528\u6237\u5e0c\u671b\u7ed3\u5408\u4f7f\u7528 <code>Anafile</code>\uff08\u89c17.2\u8282\uff09\u8fdb\u884c\u5206\u6790\u65f6\uff0c\u901a\u5e38\u4f1a\u7528\u5230\u8fd9\u4e2a\u7c7b\u3002<code>TAlEncExample</code> \u5185\u90e8\u4f1a\u6ce8\u518c\u4e00\u7cfb\u5217\u7ee7\u627f\u81ea <code>TAlEncSub</code> \u7684\u5b50\u5206\u6790\u6a21\u5757\uff08\u5982 <code>TAlEncSAMURAIExample</code>, <code>TAlEncDALIExample</code>, <code>TAlEncNEBULAExample</code>\uff09\uff0c\u5e76\u6309\u7167 <code>Anafile</code> \u4e2d <code>&lt;analys&gt;</code> \u6807\u7b7e\u6307\u5b9a\u7684\u987a\u5e8f\u4f9d\u6b21\u8c03\u7528\u8fd9\u4e9b\u5b50\u6a21\u5757\u8fdb\u884c\u5206\u6790 [10]\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#72-anafile-\u7684\u4f7f\u7528\u5b9a\u4e49\u76f4\u65b9\u56fe\u5207\u5272\u6761\u4ef6\u4e0entuple","title":"7.2 <code>Anafile</code> \u7684\u4f7f\u7528\uff1a\u5b9a\u4e49\u76f4\u65b9\u56fe\u3001\u5207\u5272\u6761\u4ef6\u4e0eNtuple","text":"<p><code>Anafile</code> \u662f\u4e00\u79cd\u6587\u672c\u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u7ebf\u5206\u6790\u6216\u5feb\u901f\u79bb\u7ebf\u5206\u6790\u65f6\uff0c\u4ee5\u975e\u7f16\u7a0b\u7684\u65b9\u5f0f\u5b9a\u4e49\u76f4\u65b9\u56fe\u3001\u8bbe\u7f6e\u6570\u636e\u9009\u62e9\u6761\u4ef6\uff08\u201c\u95e8\u201d\u6216\u201c\u5207\u53e3\u201d\uff09\u4ee5\u53ca\u5b9a\u4e49N\u5143\u7ec4\u7684\u7ed3\u6784 [1, 4]\u3002\u5f53\u4f7f\u7528\u5982 <code>TAlEncExample</code> \u8fd9\u6837\u7684 <code>AnaLoop</code> \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>book(new TAlEncExample, \"myconfig.ana\")</code> \u547d\u4ee4\u5c06 <code>Anafile</code> \u4e0e\u5206\u6790\u6d41\u7a0b\u5173\u8054\u8d77\u6765 [4]\u3002</p> <p><code>Anafile</code> \u7684\u8bed\u6cd5\u5305\u542b\u4e00\u7cfb\u5217\u7279\u5b9a\u7684\u6807\u7b7e\u548c\u53c2\u6570 [1]\uff1a - <code>&lt;analys&gt; id1,id2,...&lt;/analys&gt;</code>: \u6307\u5b9a\u5206\u6790\u6a21\u5757\u7684\u6267\u884c\u987a\u5e8f\u3002\u8fd9\u91cc\u7684ID\u5bf9\u5e94\u4e8e\u5728 <code>TAlEncExample</code> \u4e2d\u6ce8\u518c\u7684 <code>TAlEncSub</code> \u6a21\u5757\u7684\u679a\u4e3e\u7c7b\u578b <code>EAnalyser</code>\u3002 - <code>&lt;include&gt; \"path/to/another.ana\"&lt;/include&gt;</code>: \u5305\u542b\u53e6\u4e00\u4e2a <code>Anafile</code>\uff0c\u4fbf\u4e8e\u6a21\u5757\u5316\u7ba1\u7406\u914d\u7f6e\u3002 - <code>&lt;gate&gt; gate_id, {analyser_id,start_id,end_id,wnum}, low_val, high_val, \"title\"&lt;/gate&gt;</code>: \u5b9a\u4e49\u4e00\u4e2a\u4e00\u7ef4\u95e8\uff08\u5207\u5272\u6761\u4ef6\uff09\u3002   - <code>gate_id</code>: \u95e8\u7684\u552f\u4e00\u6807\u8bc6\u3002   - <code>{analyser_id,start_id,end_id,wnum}</code>: \u6307\u5b9a\u95e8\u4f5c\u7528\u7684\u7269\u7406\u91cf\u3002<code>analyser_id</code> \u662f <code>EAnalyser</code> \u503c\uff0c<code>start_id</code> \u548c <code>end_id</code> \u5b9a\u4e49\u4e86\u63a2\u6d4b\u5668\u6216\u901a\u9053\u7684\u8303\u56f4\uff0c<code>wnum</code> \u662f <code>EWNum</code> \u503c\uff0c\u4ee3\u8868\u5177\u4f53\u7684\u7269\u7406\u91cf\uff08\u5982TOF\u3001\u80fd\u91cf\u6c89\u79ef\u7b49\uff09[10]\u3002   - <code>low_val</code>, <code>high_val</code>: \u95e8\u7684\u4e0a\u4e0b\u9650\u3002   - <code>\"title\"</code>: \u95e8\u7684\u63cf\u8ff0\u6027\u6807\u9898\u3002 - <code>&lt;and&gt; new_gate_id, gate_id1, gate_id2,..., \"title\"&lt;/and&gt;</code>: \u5c06\u591a\u4e2a\u5df2\u5b9a\u4e49\u7684\u95e8\u901a\u8fc7\u903b\u8f91\u201c\u4e0e\u201d\u64cd\u4f5c\u7ec4\u5408\u6210\u4e00\u4e2a\u65b0\u7684\u95e8\u3002 - <code>&lt;or&gt; new_gate_id, gate_id1, gate_id2,..., \"title\"&lt;/or&gt;</code>: \u5c06\u591a\u4e2a\u5df2\u5b9a\u4e49\u7684\u95e8\u901a\u8fc7\u903b\u8f91\u201c\u6216\u201d\u64cd\u4f5c\u7ec4\u5408\u6210\u4e00\u4e2a\u65b0\u7684\u95e8\u3002 - 1D\u76f4\u65b9\u56fe\u5b9a\u4e49: <code>gate_id, analyser_id,start_id,end_id,wnum, nbins, xlow, xhigh, \"title\"</code>   - <code>gate_id</code>: \u5e94\u7528\u4e8e\u6b64\u76f4\u65b9\u56fe\u7684\u95e8ID\uff080\u8868\u793a\u65e0\u95e8\uff09\u3002   - \u5176\u4ed6\u53c2\u6570\u4e0e\u95e8\u5b9a\u4e49\u4e2d\u7684\u7c7b\u4f3c\uff0c<code>nbins</code>, <code>xlow</code>, <code>xhigh</code> \u5b9a\u4e49\u76f4\u65b9\u56fe\u7684X\u8f74\u3002 - 2D\u76f4\u65b9\u56fe\u5b9a\u4e49: <code>gate_id, analyser_id_X,start_id_X,end_id_X,wnum_X, nbinsX, xlow, xhigh, analyser_id_Y,start_id_Y,end_id_Y,wnum_Y, nbinsY, ylow, yhigh, \"title\"</code>   - \u5206\u522b\u5b9a\u4e49X\u8f74\u548cY\u8f74\u7684\u7269\u7406\u91cf\u548c\u8303\u56f4\u3002</p> <p><code>EAnalyser</code> \u548c <code>EWNum</code> \u662f\u5728ANAROOT\u5185\u90e8\u5b9a\u4e49\u7684\u679a\u4e3e\u7c7b\u578b\uff08\u901a\u5e38\u5728\u5982 <code>EAnalyser.hh</code> \u548c <code>EWNum.hh</code> \u6587\u4ef6\u4e2d\uff09\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u4e0d\u540c\u7684\u5206\u6790\u6a21\u5757\uff08\u63a2\u6d4b\u5668\u7cfb\u7edf\uff09\u548c\u5b83\u4eec\u4ea7\u751f\u7684\u7269\u7406\u91cf [10]\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 <code>lv()</code> \u547d\u4ee4\u5728ANAROOT\u7684CUI\u4e2d\u67e5\u770b\u8fd9\u4e9b\u679a\u4e3e\u7684\u5217\u8868\u3002</p> <p><code>Anafile</code> \u63d0\u4f9b\u4e86\u4e00\u79cd\u76f8\u5bf9\u7b80\u5355\u3001\u57fa\u4e8e\u6587\u672c\u7684\u914d\u7f6e\u65b9\u5f0f\uff0c\u5c24\u5176\u9002\u5408\u5728\u7ebf\u76d1\u63a7\u548c\u5feb\u901f\u7684\u6570\u636e\u63a2\u7d22\u6027\u5206\u6790\uff0c\u964d\u4f4e\u4e86\u90a3\u4e9b\u4e0d\u719f\u6089C++\u7f16\u7a0b\u7684\u7528\u6237\u8fdb\u884c\u57fa\u672c\u5206\u6790\u8bbe\u7f6e\u7684\u95e8\u69db\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#73-\u547d\u4ee4\u884c\u754c\u9762-cui-\u4e0e\u5e38\u7528\u547d\u4ee4","title":"7.3 \u547d\u4ee4\u884c\u754c\u9762 (CUI) \u4e0e\u5e38\u7528\u547d\u4ee4","text":"<p>ANAROOT\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u4e8e\u547d\u4ee4\u884c\u7684\u7528\u6237\u754c\u9762 (CUI)\uff0c\u5176\u98ce\u683c\u501f\u9274\u4e86\u65e9\u671f\u7684ANAPAW\u5206\u6790\u8f6f\u4ef6\uff0c\u5e76\u4f7f\u7528\u4e86Nadeko\u5e93\u6765\u5b9e\u73b0 [1]\u3002\u8fd9\u4e2aCUI\u5141\u8bb8\u7528\u6237\u4ee5\u4ea4\u4e92\u65b9\u5f0f\u63a7\u5236\u5206\u6790\u6d41\u7a0b\u3001\u7ba1\u7406\u76f4\u65b9\u56fe\u7b49\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684CUI\u547d\u4ee4\u53ca\u5176\u529f\u80fd [20]\uff1a</p> <p>\u5206\u6790\u7ba1\u7406\u547d\u4ee4: - <code>book(TArtAnaLoop* analoop, const char* anafilename = 0)</code>: \u6ce8\u518c\u4e00\u4e2a <code>AnaLoop</code> \u5bf9\u8c61\uff0c\u5e76\u53ef\u9009\u5730\u5173\u8054\u4e00\u4e2a <code>Anafile</code>\u3002\u8fd9\u662f\u542f\u52a8\u5206\u6790\u524d\u5fc5\u987b\u6267\u884c\u7684\u6b65\u9aa4\u3002\u793a\u4f8b\uff1a<code>book(new TAlRawDataExample, \"rawdata.ana\")</code> [20, 4]\u3002 - <code>push(const char* filename, int eventnumber = -1)</code>: \u5c06\u4e00\u4e2aRIDF\u6570\u636e\u6587\u4ef6\u6dfb\u52a0\u5230\u5f85\u5904\u7406\u7684\u6587\u4ef6\u6808\u4e2d\u3002<code>eventnumber</code> \u53c2\u6570\u53ef\u4ee5\u9650\u5236\u5904\u7406\u8be5\u6587\u4ef6\u4e2d\u7684\u4e8b\u4ef6\u6570\u76ee\uff08-1\u8868\u793a\u5904\u7406\u6240\u6709\u4e8b\u4ef6\uff09\u3002\u793a\u4f8b\uff1a<code>push(\"run0007.ridf\")</code> [20, 4]\u3002 - <code>push(int sid = 0, int eventnumber = -1)</code>: \u8fde\u63a5\u5230\u5728\u7ebf\u5171\u4eab\u5185\u5b58\u6570\u636e\u6e90\u3002<code>sid</code> \u662f\u5171\u4eab\u5185\u5b58ID\u3002\u793a\u4f8b\uff1a<code>push(0)</code> \u8fde\u63a5\u5230ID\u4e3a0\u7684\u5171\u4eab\u5185\u5b58 [20, 4]\u3002 - <code>spush(const char* filename_start, const char* filename_end, int start_run, int end_run, int width = 4, char fill = '0')</code>: \u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u4e2a\u5177\u6709\u76f8\u4f3c\u547d\u540d\u683c\u5f0f\u7684RIDF\u6587\u4ef6\u3002\u4f8b\u5982\uff0c<code>spush(\"ridf/run\", \".ridf\", 1, 11)</code> \u4f1a\u6dfb\u52a0 <code>ridf/run0001.ridf</code> \u5230 <code>ridf/run0011.ridf</code> [20]\u3002 - <code>pop(int i)</code>: \u4ece\u6587\u4ef6\u6808\u4e2d\u79fb\u9664\u6307\u5b9a\u7d22\u5f15\u7684\u6587\u4ef6 [20]\u3002 - <code>start()</code>: \u542f\u52a8\u4e8b\u4ef6\u5faa\u73af\uff0c\u5f00\u59cb\u6570\u636e\u5206\u6790\u3002<code>AnaLoop</code> \u7684 <code>Construct()</code> \u65b9\u6cd5\u4f1a\u5728\u9996\u6b21\u8c03\u7528 <code>start()</code> \u65f6\u6267\u884c [20, 4]\u3002 - <code>stop()</code>: \u6682\u505c\u6b63\u5728\u8fdb\u884c\u7684\u5206\u6790\u3002\u53ef\u4ee5\u4f7f\u7528 <code>start()</code> \u547d\u4ee4\u6062\u590d\u5206\u6790 [20]\u3002 - <code>next()</code>: \u8df3\u8fc7\u5f53\u524dRIDF\u6587\u4ef6\u4e2d\u5269\u4f59\u7684\u4e8b\u4ef6\uff0c\u76f4\u63a5\u5904\u7406\u6587\u4ef6\u6808\u4e2d\u7684\u4e0b\u4e00\u4e2a\u6587\u4ef6 [20]\u3002 - <code>join()</code>: (\u4e3b\u8981\u7528\u4e8e\u5b8f\u4e2d) \u7b49\u5f85\u5f53\u524d\u5206\u6790\u4efb\u52a1\u5b8c\u6210\u3002\u7531\u4e8e\u5206\u6790\u53ef\u80fd\u5728\u540e\u53f0\u7ebf\u7a0b\u4e2d\u8fd0\u884c\uff0c\u6b64\u547d\u4ee4\u786e\u4fdd\u4e3b\u7ebf\u7a0b\uff08\u5982\u5b8f\u811a\u672c\uff09\u5728\u5206\u6790\u7ed3\u675f\u524d\u4e0d\u4f1a\u9000\u51fa [20]\u3002 - <code>end()</code>: \u7ec8\u6b62\u5f53\u524d\u5206\u6790\u3002<code>AnaLoop</code> \u7684 <code>Destruct()</code> \u65b9\u6cd5\u4f1a\u88ab\u8c03\u7528 [20]\u3002 - <code>clear()</code>: \u6e05\u9664\u6240\u6709\u5df2\u9884\u5b9a\u7684\u76f4\u65b9\u56fe\uff0c\u5e76\u9500\u6bc1 <code>TArtAnaLoopManager</code> \u5bf9\u8c61\uff0c\u91cd\u7f6e\u5206\u6790\u73af\u5883 [20]\u3002 - <code>status()</code>: \u6253\u5370\u5f53\u524d\u5206\u6790\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5982\u5df2\u5904\u7406\u4e8b\u4ef6\u6570\u3001\u6587\u4ef6\u6808\u5185\u5bb9\u3001\u5f53\u524d <code>AnaLoop</code> \u7c7b\u540d\u7b49 [20]\u3002</p> <p>\u76f4\u65b9\u56fe\u7ba1\u7406\u547d\u4ee4: - <code>fetch(char* filename)</code>: \u4ece\u6307\u5b9a\u7684ROOT\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6240\u6709 <code>TH1</code> \u5bf9\u8c61\u5230\u5f53\u524d\u7684ROOT\u76ee\u5f55\u4e2d [20]\u3002 - <code>hstore(char* filename)</code>: \u5c06\u5f53\u524dROOT\u76ee\u5f55\u4e2d\u6240\u6709 <code>TH1</code> \u5bf9\u8c61\u4fdd\u5b58\u5230\u6307\u5b9a\u7684ROOT\u6587\u4ef6\u4e2d [20]\u3002 - <code>hdel(int id_start = -1, int id_end = -1)</code>: \u5220\u9664\u6307\u5b9aID\u8303\u56f4\u5185\u7684\u76f4\u65b9\u56fe\uff08\u82e5\u4e0d\u6307\u5b9a\u53c2\u6570\u5219\u5220\u9664\u6240\u6709\uff09[20]\u3002 - <code>erase()</code>: \u91cd\u7f6e\uff08\u6e05\u7a7a\u5185\u5bb9\u4f46\u4fdd\u7559\u5b9a\u4e49\uff09\u5f53\u524dROOT\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u76f4\u65b9\u56fe [20]\u3002 - <code>ls()</code>: \u5217\u51fa\u5f53\u524dROOT\u76ee\u5f55\u4e2d\u7684\u5bf9\u8c61\u5217\u8868\uff08\u7c7b\u4f3cshell\u7684ls\u547d\u4ee4\uff09[20]\u3002 - <code>ht(int id, Option_t* option = \"\")</code>: \u7ed8\u5236\u6307\u5b9aID\u7684\u76f4\u65b9\u56fe\u3002<code>option</code> \u53c2\u6570\u53ef\u4ee5\u4f20\u9012\u7ed9ROOT\u7684 <code>Draw()</code> \u65b9\u6cd5\uff08\u5982 \"SAME\", \"COLZ\" \u7b49\uff09[20, 4]\u3002 - <code>htp()</code>: \u7ed8\u5236\u5f53\u524d\u6d3b\u52a8\u7684\u76f4\u65b9\u56fe [20]\u3002 - <code>hn()</code>: \u7ed8\u5236\u4e0b\u4e00\u4e2aID\u7684\u76f4\u65b9\u56fe [20, 4]\u3002 - <code>hb()</code>: \u7ed8\u5236\u4e0a\u4e00\u4e2aID\u7684\u76f4\u65b9\u56fe [20]\u3002 - <code>lg()</code>, <code>ln()</code>, <code>lgx()</code>, <code>lgy()</code>, <code>lgz()</code>, <code>lnx()</code>, <code>lny()</code>, <code>lnz()</code>: \u8bbe\u7f6e\u6216\u53d6\u6d88\u753b\u5e03\u4e0a\u5750\u6807\u8f74\u7684\u5bf9\u6570\u523b\u5ea6 [20]\u3002 - <code>size(UInt_t ww, UInt_t wh)</code>: \u6539\u53d8\u5f53\u524d\u753b\u5e03\u7684\u5c3a\u5bf8 [20]\u3002 - <code>cd(Int_t subpadnumber = 0)</code>: \u5207\u6362\u5f53\u524d\u6d3b\u52a8\u5b50\u753b\u5e03 [20]\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u4ea4\u4e92\u5f0f\u5206\u6790\u4f1a\u8bdd\u6d41\u7a0b\u53ef\u80fd\u5982\u4e0b\uff1a 1.  \u542f\u52a8ROOT\u5e76\u52a0\u8f7dANAROOT\u5e93\uff1a<code>root -l</code>, <code>gSystem-&gt;Load(\"libXMLParser.so\"); gSystem-&gt;Load(\"libanaroot.so\");</code> [4]\u3002 2.  \u6ce8\u518c<code>AnaLoop</code>\u548c<code>Anafile</code>\uff08\u5982\u679c\u4f7f\u7528\uff09\uff1a<code>book(new MyPDCNEBULAAnalysis, \"pdc_nebula.ana\");</code> 3.  \u6dfb\u52a0\u6570\u636e\u6587\u4ef6\uff1a<code>push(\"data/run0123.ridf\"); push(\"data/run0124.ridf\");</code> 4.  \u5f00\u59cb\u5206\u6790\uff1a<code>start();</code> 5.  \u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u6216\u7ed3\u675f\u540e\u67e5\u770b\u76f4\u65b9\u56fe\uff1a<code>ht(101); hn();</code> 6.  \u4fdd\u5b58\u7ed3\u679c\uff1a<code>hstore(\"results/my_analysis_hists.root\");</code> 7.  \u7ed3\u675f\u5206\u6790\u4f1a\u8bdd\uff1a<code>end();.q</code></p>"},{"location":"sci/project/samurai/anaroot2version/#74-\u7f16\u5199\u548c\u4f7f\u7528root\u5b8f\u8fdb\u884c\u5206\u6790","title":"7.4 \u7f16\u5199\u548c\u4f7f\u7528ROOT\u5b8f\u8fdb\u884c\u5206\u6790","text":"<p>\u9664\u4e86\u4ea4\u4e92\u5f0fCUI\u64cd\u4f5c\uff0cANAROOT\u7684\u5206\u6790\u6d41\u7a0b\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199ROOT\u5b8f (C++\u811a\u672c) \u6765\u5b9e\u73b0\u81ea\u52a8\u5316\u548c\u6279\u91cf\u5904\u7406 [21, 22]\u3002ANAROOT\u7684 <code>example/Macros/</code> \u76ee\u5f55\u4e0b\u63d0\u4f9b\u4e86\u4e00\u4e9b\u793a\u4f8b\u5b8f\uff0c\u5982 <code>RIDF2Tree.C</code> (\u5c06RIDF\u6570\u636e\u8f6c\u6362\u4e3aTTree)\u3001<code>Online/ShowModule.C</code> (\u5728\u7ebf\u663e\u793a\u6a21\u5757\u8ba1\u6570\u7387)\u3001<code>BigRIPS/RecoPID.C</code> (BigRIPS\u7c92\u5b50\u9274\u522b\u91cd\u5efa) \u7b49 [4]\u3002</p> <p>\u5728ROOT\u5b8f\u4e2d\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528ANAROOT\u7684CUI\u547d\u4ee4\uff08\u901a\u8fc7 <code>gROOT-&gt;ProcessLine(\".command\")</code> \u7684\u65b9\u5f0f\u6267\u884c\uff09\u548c\u76f4\u63a5\u8c03\u7528ANAROOT\u7684C++\u7c7b\u53ca\u65b9\u6cd5\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u5206\u6790\u5b8f\u7ed3\u6784\u53ef\u80fd\u5305\u62ec\uff1a 1.  \u52a0\u8f7d\u5fc5\u8981\u7684ANAROOT\u5e93\u3002 2.  \u521b\u5efa\u548c\u914d\u7f6e\u53c2\u6570\u7ba1\u7406\u5668\u5bf9\u8c61\uff08\u5982 <code>TArtSAMURAIParameters</code>\uff09\uff0c\u5e76\u52a0\u8f7dXML\u53c2\u6570\u6587\u4ef6\u3002 3.  \u521b\u5efa <code>TArtEventStore</code> \u5bf9\u8c61\u5e76\u6253\u5f00\u6570\u636e\u6587\u4ef6(\u4e32)\u3002 4.  \u521b\u5efa\u7528\u6237\u81ea\u5b9a\u4e49\u7684 <code>AnaLoop</code> \u5bf9\u8c61\uff08\u6216\u8005\u76f4\u63a5\u5728\u5b8f\u5185\u5b9e\u73b0\u4e8b\u4ef6\u5faa\u73af\u548c\u5206\u6790\u903b\u8f91\uff0c\u5982\u679c\u5206\u6790\u76f8\u5bf9\u7b80\u5355\uff09\u3002 5.  \u5982\u679c\u4f7f\u7528 <code>AnaLoop</code>\uff0c\u5219\u901a\u8fc7 <code>book()</code> \u547d\u4ee4\u6ce8\u518c\u3002 6.  \u542f\u52a8\u4e8b\u4ef6\u5faa\u73af\uff08\u76f4\u63a5\u8c03\u7528 <code>estore-&gt;GetNextEvent()</code> \u8fdb\u884c\u5faa\u73af\uff0c\u6216\u8005\u901a\u8fc7 <code>start()</code> \u548c <code>join()</code> \u547d\u4ee4\u63a7\u5236 <code>AnaLoop</code> \u7684\u6267\u884c\uff09\u3002 7.  \u5728\u4e8b\u4ef6\u5faa\u73af\u5185\u90e8\uff0c\u83b7\u53d6 <code>TArtStoreManager</code> \u5b9e\u4f8b\uff0c\u4ece\u4e2d\u63d0\u53d6\u6240\u9700\u7684\u539f\u59cb\u6570\u636e\u3001\u523b\u5ea6\u540e\u6570\u636e\u6216\u91cd\u5efa\u540e\u7684\u6570\u636e\u5bb9\u5668\uff08\u5982 <code>TArtDCHit</code>, <code>TArtDCTrack</code>, <code>TArtNEBULAPla</code>\uff09\u3002 8.  \u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\u3001\u5e94\u7528\u9009\u62e9\u6761\u4ef6\u3001\u586b\u5145\u76f4\u65b9\u56fe\u548cN\u5143\u7ec4\u3002 9.  \u5206\u6790\u7ed3\u675f\u540e\uff0c\u4fdd\u5b58\u7ed3\u679c\u5230ROOT\u6587\u4ef6\u6216\u5176\u4ed6\u683c\u5f0f\u3002</p> <p>\u4f8b\u5982\uff0c<code>RecoPID.C</code> \u5b8f\u5c31\u5c55\u793a\u4e86\u5982\u4f55\u52a0\u8f7dBigRIPS\u76f8\u5173\u7684\u53c2\u6570\uff0c\u5faa\u73af\u5904\u7406\u4e8b\u4ef6\uff0c\u8fdb\u884cPID\u91cd\u5efa\uff0c\u5e76\u6700\u7ec8\u8f93\u51fa\u5305\u542bPID\u76f8\u5173\u76f4\u65b9\u56fe\u548cN\u5143\u7ec4\u7684ROOT\u6587\u4ef6 [2, 4]\u3002\u7528\u6237\u53ef\u4ee5\u53c2\u7167\u8fd9\u79cd\u7ed3\u6784\uff0c\u7f16\u5199\u9488\u5bf9SAMURAI PDC\u548cNEBULA\u6570\u636e\u5206\u6790\u7684\u4e13\u7528\u5b8f\u3002</p> <ul> <li>\u8868 5: \u5e38\u7528ANAROOT CUI\u547d\u4ee4\u53ca\u5176\u7528\u6cd5</li> </ul> \u547d\u4ee4 (Command) \u4e3b\u8981\u529f\u80fd (Main Function) \u793a\u4f8b\u7528\u6cd5 (Example Usage) \u76f8\u5173\u6765\u6e90 (Snippet Ref.) <code>book(loop, anafile)</code> \u6ce8\u518cAnaLoop\u548cAnafile <code>book(new TAlRawDataExample, \"raw.ana\")</code> [20, 4] <code>push(\"filename\")</code> \u6216 <code>push(shm_id)</code> \u6dfb\u52a0RIDF\u6587\u4ef6\u6216\u8fde\u63a5\u5171\u4eab\u5185\u5b58\u6570\u636e\u6e90 <code>push(\"run0123.ridf\")</code>, <code>push(0)</code> [20, 4] <code>start()</code> \u5f00\u59cb\u5206\u6790\u4e8b\u4ef6\u5faa\u73af <code>start()</code> [20, 4] <code>stop()</code> \u6682\u505c\u5f53\u524d\u5206\u6790 <code>stop()</code> [20] <code>join()</code> (\u5728\u5b8f\u4e2d) \u7b49\u5f85\u5206\u6790\u5b8c\u6210 <code>root .x myMacroWithStartJoin.C</code> [20] <code>end()</code> \u7ed3\u675f\u5f53\u524d\u5206\u6790\u4f1a\u8bdd\uff0c\u8c03\u7528AnaLoop\u7684Destruct <code>end()</code> [20] <code>hstore(\"output.root\")</code> \u5c06\u5f53\u524d\u5185\u5b58\u4e2d\u7684\u6240\u6709\u76f4\u65b9\u56fe\u4fdd\u5b58\u5230\u6307\u5b9aROOT\u6587\u4ef6 <code>hstore(\"myhists.root\")</code> [20] <code>ht(histogram_id)</code> \u7ed8\u5236\u6307\u5b9aID\u7684\u76f4\u65b9\u56fe <code>ht(101)</code> [20, 4] <code>hn()</code> \u7ed8\u5236\u4e0b\u4e00\u4e2aID\u7684\u76f4\u65b9\u56fe <code>hn()</code> [20, 4] <code>status()</code> \u663e\u793a\u5f53\u524d\u5206\u6790\u7684\u72b6\u6001\u4fe1\u606f <code>status()</code> [20] <code>clear()</code> \u6e05\u9664\u6240\u6709\u76f4\u65b9\u56fe\u5e76\u9500\u6bc1AnaLoopManager <code>clear()</code> [20] <code>gSystem-&gt;Load(\"libname.so\")</code> (ROOT\u547d\u4ee4) \u52a0\u8f7d\u5171\u4eab\u5e93 <code>gSystem-&gt;Load(\"libanaroot.so\")</code> [4] <code>.L YourAnaLoop.C+</code> (ROOT\u547d\u4ee4) \u7f16\u8bd1\u5e76\u52a0\u8f7d\u7528\u6237\u81ea\u5b9a\u4e49\u7684AnaLoop\u5b8f <code>.L MyPDCAna.C+</code> [10, 4] <p>\u6b64\u8868\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5e38\u7528CUI\u547d\u4ee4\u7684\u5feb\u901f\u53c2\u8003\uff0c\u6709\u52a9\u4e8e\u4ed6\u4eec\u5feb\u901f\u4e0a\u624bANAROOT\u7684\u4ea4\u4e92\u5f0f\u5206\u6790\u73af\u5883\uff0c\u4ece\u800c\u6709\u6548\u5730\u63a7\u5236\u5206\u6790\u6d41\u7a0b\u548c\u7ba1\u7406\u76f4\u65b9\u56fe\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#8-\u6570\u636e\u53ef\u89c6\u5316\u4e0e\u7ed3\u679c\u8f93\u51fa","title":"8. \u6570\u636e\u53ef\u89c6\u5316\u4e0e\u7ed3\u679c\u8f93\u51fa","text":"<p>\u6570\u636e\u53ef\u89c6\u5316\u662f\u7269\u7406\u5206\u6790\u4e2d\u7406\u89e3\u6570\u636e\u7279\u5f81\u3001\u68c0\u9a8c\u523b\u5ea6\u8d28\u91cf\u3001\u5c55\u793a\u7269\u7406\u7ed3\u679c\u7684\u5173\u952e\u73af\u8282\u3002ANAROOT\u4f9d\u6258ROOT\u6846\u67b6\uff0c\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u53ef\u89c6\u5316\u529f\u80fd\u3002\u540c\u65f6\uff0c\u5c06\u5206\u6790\u7ed3\u679c\u4ee5\u9002\u5f53\u683c\u5f0f\u4fdd\u5b58\uff0c\u5bf9\u4e8e\u540e\u7eed\u5904\u7406\u548c\u6210\u679c\u53d1\u8868\u4e5f\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#81-\u4f7f\u7528root\u8fdb\u884c\u76f4\u65b9\u56fe\u548cntuple\u53ef\u89c6\u5316","title":"8.1 \u4f7f\u7528ROOT\u8fdb\u884c\u76f4\u65b9\u56fe\u548cNtuple\u53ef\u89c6\u5316","text":"<p>[1, 23, 24, 19] ANAROOT\u4e2d\u521b\u5efa\u7684\u76f4\u65b9\u56fe\u672c\u8d28\u4e0a\u662fROOT\u7684 <code>TH1</code> (\u4e00\u7ef4)\u3001<code>TH2</code> (\u4e8c\u7ef4) \u6216 <code>TH3</code> (\u4e09\u7ef4) \u7cfb\u5217\u5bf9\u8c61 [23, 24]\u3002\u56e0\u6b64\uff0c\u6240\u6709ROOT\u63d0\u4f9b\u7684\u4e30\u5bcc\u7684\u76f4\u65b9\u56fe\u7ed8\u5236\u548c\u64cd\u4f5c\u529f\u80fd\u5747\u53ef\u76f4\u63a5\u5e94\u7528\u4e8eANAROOT\u7684\u5206\u6790\u7ed3\u679c\u3002</p> <ul> <li>\u76f4\u65b9\u56fe\u7ed8\u5236\uff1a \u5728ANAROOT\u7684CUI\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>ht(id)</code>, <code>hn()</code>, <code>hb()</code>, <code>htp()</code> \u7b49\u547d\u4ee4\u5feb\u901f\u7ed8\u5236\u5df2\u586b\u5145\u7684\u76f4\u65b9\u56fe [20]\u3002\u5728ROOT\u5b8f\u6216\u7f16\u8bd1\u578b\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 <code>TH1::Draw()</code> \u65b9\u6cd5\uff0c\u5e76\u914d\u5408\u5404\u79cd\u7ed8\u56fe\u9009\u9879\uff08\u5982 \"COLZ\" \u7ed8\u5236\u989c\u8272\u586b\u5145\u7684\u4e8c\u7ef4\u56fe\uff0c\"SAME\" \u5c06\u591a\u4e2a\u76f4\u65b9\u56fe\u7ed8\u5236\u5728\u540c\u4e00\u753b\u5e03\uff0c\"E\" \u7ed8\u5236\u8bef\u5dee\u68d2\u7b49\uff09\u3002</li> <li>\u76f4\u65b9\u56fe\u64cd\u4f5c\uff1a ROOT\u5141\u8bb8\u5bf9\u76f4\u65b9\u56fe\u8fdb\u884c\u591a\u79cd\u64cd\u4f5c\uff0c\u5982\u91cd\u5212\u5206bin (Rebin)\u3001\u5f52\u4e00\u5316 (Normalize)\u3001\u52a0\u51cf\u4e58\u9664\u3001\u6295\u5f71 (ProjectionX, ProjectionY)\u3001\u62df\u5408 (Fit) \u7b49\u3002\u8fd9\u4e9b\u529f\u80fd\u5bf9\u4e8e\u6570\u636e\u5206\u6790\u548c\u7ed3\u679c\u63d0\u53d6\u975e\u5e38\u6709\u7528\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4eceNEBULA\u7684\u4e8c\u7ef4PSD\u53c2\u6570 vs \u80fd\u91cf\u6c89\u79ef\u56fe\u4e2d\u6295\u5f71\u51fa\u7279\u5b9a\u80fd\u91cf\u533a\u57df\u7684PSD\u5206\u5e03\uff0c\u7136\u540e\u8fdb\u884c\u62df\u5408\u4ee5\u533a\u5206\u4e2d\u5b50\u548c\\gamma\\gamma\u5c04\u7ebf\u3002</li> <li>Ntuple/TTree\u53ef\u89c6\u5316\uff1a ANAROOT\u5206\u6790\u4e2d\u4ea7\u751f\u7684Ntuple\u6216TTree\uff08\u4f8b\u5982\u7531 <code>TAlRawDataExample</code> \u521b\u5efa\u7684\u539f\u59cb\u6570\u636eNtuple [4]\uff0c\u6216\u7528\u6237\u5728\u81ea\u5b9a\u4e49 <code>AnaLoop</code> \u4e2d\u521b\u5efa\u7684\u5305\u542b\u91cd\u5efa\u7269\u7406\u91cf\u7684TTree\uff09\u53ef\u4ee5\u4f7f\u7528 <code>TTree::Draw()</code> \u65b9\u6cd5\u8fdb\u884c\u5f3a\u5927\u7684\u53ef\u89c6\u5316\u5206\u6790\u3002\u8be5\u65b9\u6cd5\u5141\u8bb8\u7528\u6237\u4ee5\u7075\u6d3b\u7684\u8868\u8fbe\u5f0f\u7ed8\u5236\u4efb\u610f\u53d8\u91cf\u4e4b\u95f4\u7684\u4e00\u7ef4\u3001\u4e8c\u7ef4\u3001\u4e09\u7ef4\u5173\u7cfb\u56fe\uff0c\u5e76\u53ef\u4ee5\u65bd\u52a0\u590d\u6742\u7684\u5207\u5272\u6761\u4ef6\u3002\u4f8b\u5982\uff0c<code>ntp-&gt;Draw(\"NEBULAPla.fTOF:NEBULAPla.fQ\", \"NEBULAPla.fPSD &gt; 0.5 &amp;&amp; SAMURAIDCTrack.fMomentum &gt; 1000\")</code> \u53ef\u4ee5\u7ed8\u5236NEBULA\u4e2d\u6ee1\u8db3\u7279\u5b9aPSD\u548cPDC\u52a8\u91cf\u6761\u4ef6\u7684\u51fb\u4e2d\u7684TOF vs Q\u7684\u4e8c\u7ef4\u6563\u70b9\u56fe\u3002<code>TTree::Scan()</code> \u65b9\u6cd5\u53ef\u4ee5\u5217\u8868\u5f62\u5f0f\u6253\u5370\u51fa\u6ee1\u8db3\u6761\u4ef6\u7684Ntuple\u6761\u76ee\uff0c<code>TTree::Print()</code> \u53ef\u4ee5\u663e\u793aNtuple\u7684\u7ed3\u6784\u3002</li> <li>ROOT\u56fe\u5f62\u754c\u9762\uff1a <code>TBrowser</code> \u662fROOT\u63d0\u4f9b\u7684\u4e00\u4e2a\u5f3a\u5927\u7684\u56fe\u5f62\u5316\u6d4f\u89c8\u5668\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5b83\u76f4\u89c2\u5730\u6d4f\u89c8ROOT\u6587\u4ef6\u5185\u5bb9\uff0c\u67e5\u770b\u548c\u64cd\u4f5c\u5176\u4e2d\u7684\u76f4\u65b9\u56fe\u3001Ntuple\u7b49\u5bf9\u8c61\uff0c\u5e76\u8fdb\u884c\u4ea4\u4e92\u5f0f\u62df\u5408\u3001\u4fee\u6539\u7ed8\u56fe\u5c5e\u6027\u7b49\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#82-\u4fdd\u5b58\u5206\u6790\u7ed3\u679c-root\u6587\u4ef6-\u6587\u672c\u6587\u4ef6\u7b49","title":"8.2 \u4fdd\u5b58\u5206\u6790\u7ed3\u679c (ROOT\u6587\u4ef6, \u6587\u672c\u6587\u4ef6\u7b49)","text":"<p>\u5206\u6790\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u76f4\u65b9\u56fe\u3001Ntuple/TTree\u4ee5\u53ca\u5176\u4ed6\u91cd\u8981\u7684\u7ed3\u679c\u5bf9\u8c61\uff0c\u9700\u8981\u88ab\u59a5\u5584\u4fdd\u5b58\u4ee5\u4f9b\u540e\u7eed\u67e5\u9605\u3001\u8fdb\u4e00\u6b65\u5206\u6790\u6216\u6587\u7ae0\u53d1\u8868\u3002</p> <ul> <li>\u4fdd\u5b58\u5230ROOT\u6587\u4ef6\uff1a</li> <li>\u4f7f\u7528CUI\u547d\u4ee4 <code>hstore(\"filename.root\")</code> \u53ef\u4ee5\u5c06\u5f53\u524dANAROOT\u4f1a\u8bdd\u5185\u5b58\u4e2d\uff08\u5373ROOT\u7684 <code>gDirectory</code> \u4e2d\uff09\u7684\u6240\u6709 <code>TH1</code> \u5bf9\u8c61\uff08\u5305\u62ec <code>TH2</code>, <code>TH3</code>\uff09\u4fdd\u5b58\u5230\u4e00\u4e2a\u65b0\u7684\u6216\u5df2\u5b58\u5728\u7684ROOT\u6587\u4ef6\u4e2d [20]\u3002</li> <li>\u5728ROOT\u5b8f\u6216\u7f16\u8bd1\u578b\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a <code>TFile</code> \u5bf9\u8c61\uff08\u4ee5 \"RECREATE\", \"UPDATE\", \"READ\" \u7b49\u6a21\u5f0f\u6253\u5f00\uff09\uff0c\u7136\u540e\u8c03\u7528\u5404\u4e2a\u5bf9\u8c61\uff08\u5982 <code>TH1</code>, <code>TTree</code>\uff09\u7684 <code>Write()</code> \u65b9\u6cd5\u5c06\u5176\u5199\u5165\u6587\u4ef6\uff0c\u6700\u540e\u5173\u95ed <code>TFile</code> \u5bf9\u8c61\u3002\u4f8b\u5982\uff0c<code>example/Macros/RIDF2Tree.C</code> \u5b8f\u5c31\u6f14\u793a\u4e86\u5982\u4f55\u5c06\u89e3\u7801\u540e\u7684\u6570\u636e\u586b\u5145\u5230TTree\u4e2d\u5e76\u4fdd\u5b58\u5230ROOT\u6587\u4ef6 [4]\u3002</li> <li>\u4fdd\u5b58\u4e3a\u5176\u4ed6\u683c\u5f0f\uff1a</li> <li>\u6587\u672c\u6587\u4ef6\uff1a \u5bf9\u4e8e\u4e00\u4e9b\u7b80\u5355\u7684\u5217\u8868\u6570\u636e\u3001\u53c2\u6570\u8bbe\u7f6e\u3001\u62df\u5408\u7ed3\u679c\u7b49\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528C++\u7684\u6587\u4ef6\u8f93\u51fa\u6d41\uff08<code>std::ofstream</code>\uff09\u5c06\u5176\u4fdd\u5b58\u4e3a\u6587\u672c\u6587\u4ef6\uff08\u5982 <code>.txt</code>, <code>.csv</code>\uff09\u3002\u8fd9\u5bf9\u4e8e\u4e0e\u5176\u4ed6\u975eROOT\u57fa\u7840\u7684\u8f6f\u4ef6\u4ea4\u6362\u6570\u636e\uff0c\u6216\u8005\u8fdb\u884c\u7b80\u5355\u7684\u8868\u683c\u5904\u7406\u53ef\u80fd\u66f4\u4e3a\u65b9\u4fbf\u3002</li> <li>\u56fe\u50cf\u6587\u4ef6\uff1a ROOT\u753b\u5e03 (<code>TCanvas</code>) \u4e0a\u7684\u56fe\u50cf\u53ef\u4ee5\u76f4\u63a5\u4fdd\u5b58\u4e3a\u591a\u79cd\u683c\u5f0f\u7684\u56fe\u50cf\u6587\u4ef6\uff08\u5982 <code>.png</code>, <code>.jpg</code>, <code>.pdf</code>, <code>.eps</code>\uff09\uff0c\u901a\u8fc7\u753b\u5e03\u83dc\u5355\u7684 \"File -&gt; Save As...\" \u9009\u9879\uff0c\u6216\u5728\u4ee3\u7801\u4e2d\u8c03\u7528 <code>TCanvas::SaveAs(\"filename.png\")</code> \u7b49\u65b9\u6cd5\u3002</li> <li>\u81ea\u5b9a\u4e49\u5bf9\u8c61\uff1a \u5982\u679c\u7528\u6237\u5728\u5206\u6790\u4e2d\u521b\u5efa\u4e86\u81ea\u5b9a\u4e49\u7684C++\u7c7b\u5bf9\u8c61\uff0c\u5e76\u4e14\u8fd9\u4e9b\u7c7b\u7ee7\u627f\u81ea <code>TObject</code> \u5e76\u6b63\u786e\u5b9e\u73b0\u4e86\u76f8\u5173\u7684I/O\u65b9\u6cd5\uff08\u901a\u5e38\u901a\u8fc7ROOT\u7684 <code>ClassDef</code> \u548c <code>ClassImp</code> \u5b8f\u4ee5\u53ca\u5b57\u5178\u751f\u6210\u6765\u8f85\u52a9\u5b8c\u6210\uff09\uff0c\u90a3\u4e48\u8fd9\u4e9b\u81ea\u5b9a\u4e49\u5bf9\u8c61\u4e5f\u53ef\u4ee5\u50cf\u6807\u51c6ROOT\u5bf9\u8c61\u4e00\u6837\u88ab\u4fdd\u5b58\u5230ROOT\u6587\u4ef6\u4e2d\u3002</li> </ul> <p>\u9009\u62e9\u5408\u9002\u7684\u4fdd\u5b58\u683c\u5f0f\u53d6\u51b3\u4e8e\u7ed3\u679c\u7684\u7c7b\u578b\u548c\u540e\u7eed\u7528\u9014\u3002ROOT\u6587\u4ef6\u683c\u5f0f\u7531\u4e8e\u5176\u5bf9\u590d\u6742\u6570\u636e\u7ed3\u6784\u548c\u5927\u91cf\u6570\u636e\u7684\u826f\u597d\u652f\u6301\uff0c\u662f\u9ad8\u80fd\u7269\u7406\u548c\u6838\u7269\u7406\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u4e2d\u6700\u5e38\u7528\u7684\u5f52\u6863\u683c\u5f0f\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#9-\u9ad8\u7ea7\u8bdd\u9898\u4e0e\u6280\u5de7","title":"9. \u9ad8\u7ea7\u8bdd\u9898\u4e0e\u6280\u5de7","text":"<p>\u638c\u63e1\u4e86ANAROOT\u7684\u57fa\u7840\u64cd\u4f5c\u548c\u9488\u5bf9\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u6570\u636e\u5206\u6790\u65b9\u6cd5\u540e\uff0c\u672c\u8282\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u8fdb\u9636\u7684\u4f7f\u7528\u6280\u5de7\uff0c\u5305\u62ec\u5728\u7ebf\u6570\u636e\u5206\u6790\u3001\u591a\u63a2\u6d4b\u5668\u8054\u5408\u5206\u6790\u7684\u521d\u6b65\u6982\u5ff5\uff0c\u4ee5\u53ca\u6027\u80fd\u4f18\u5316\u548c\u8c03\u8bd5\u65b9\u9762\u7684\u4e00\u4e9b\u5efa\u8bae\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#91-\u5728\u7ebf\u6570\u636e\u5206\u6790","title":"9.1 \u5728\u7ebf\u6570\u636e\u5206\u6790","text":"<p>[1, 4] ANAROOT \u4e0d\u4ec5\u652f\u6301\u79bb\u7ebf\u6570\u636e\u5904\u7406\uff0c\u8fd8\u5177\u5907\u5f3a\u5927\u7684\u5728\u7ebf\u6570\u636e\u5206\u6790\u80fd\u529b\uff0c\u8fd9\u5bf9\u4e8e\u5b9e\u9a8c\u8fc7\u7a0b\u4e2d\u7684\u5b9e\u65f6\u76d1\u63a7\u3001\u6570\u636e\u8d28\u91cf\u68c0\u67e5\u548c\u5feb\u901f\u7269\u7406\u53cd\u9988\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u6570\u636e\u6e90\uff1a ANAROOT \u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u5230RIBF DAQ\u7cfb\u7edf\u4ea7\u751f\u7684\u5728\u7ebf\u6570\u636e\u6d41\u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u5b9e\u73b0\uff1a\u8bfb\u53d6\u5171\u4eab\u5185\u5b58 (shared memory) \u4e2d\u7684\u6570\u636e\uff0c\u6216\u8005\u4ece\u6570\u636e\u6d41\u670d\u52a1\u5668 (data streaming server) \u83b7\u53d6\u6570\u636e [1, 4]\u3002\u5728CUI\u4e2d\uff0c\u4f7f\u7528 <code>push(0)</code> (\u6216\u5176\u4ed6\u5171\u4eab\u5185\u5b58ID) \u547d\u4ee4\u5373\u53ef\u8fde\u63a5\u5230\u5171\u4eab\u5185\u5b58\u6570\u636e\u6e90 [4]\u3002</li> <li><code>AnaLoop</code> \u7684\u5e94\u7528\uff1a <code>AnaLoop</code> \u6846\u67b6\u662f\u5b9e\u73b0\u5728\u7ebf\u76d1\u63a7\u7684\u6838\u5fc3\u3002\u7528\u6237\u53ef\u4ee5\u5728 <code>AnaLoop</code> \u7684 <code>Calculate()</code> \u65b9\u6cd5\u4e2d\u5b9e\u73b0\u5bf9\u6bcf\u4e2a\u5728\u7ebf\u4e8b\u4f8b\u7684\u5feb\u901f\u5904\u7406\uff0c\u4f8b\u5982\u586b\u5145\u5173\u952e\u7269\u7406\u91cf\u7684\u76f4\u65b9\u56fe\u3001\u68c0\u67e5\u63a2\u6d4b\u5668\u8ba1\u6570\u7387\u3001\u76d1\u63a7\u89e6\u53d1\u6761\u4ef6\u7b49 [2]\u3002\u8fd9\u4e9b\u76f4\u65b9\u56fe\u53ef\u4ee5\u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u52a8\u6001\u66f4\u65b0\u663e\u793a\uff0c\u4e3a\u5b9e\u9a8c\u4eba\u5458\u63d0\u4f9b\u5b9e\u65f6\u7684\u53ef\u89c6\u5316\u53cd\u9988\u3002</li> <li>\u5206\u5e03\u5f0f\u5728\u7ebf\u8ba1\u7b97\uff1a \u5bf9\u4e8e\u6570\u636e\u7387\u8f83\u9ad8\u6216\u5728\u7ebf\u5206\u6790\u4efb\u52a1\u8f83\u91cd\u7684\u5b9e\u9a8c\uff0cRIBF\u91c7\u7528\u4e86\u5206\u5e03\u5f0f\u5728\u7ebf\u8ba1\u7b97\u67b6\u6784 [1]\u3002\u8be5\u67b6\u6784\u901a\u5e38\u5305\u62ec <code>babild</code> (\u4e8b\u4ef6\u6784\u5efa\u670d\u52a1\u5668\uff0cEvent Building Server) \u548c <code>babian</code> (\u5728\u7ebf\u5206\u6790\u670d\u52a1\u5668\uff0cOnline analysis Server)\u3002\u591a\u4e2a\u684c\u9762PC\u53ef\u4ee5\u8fd0\u884cANAROOT\u5b9e\u4f8b\uff0c\u5206\u522b\u8fde\u63a5\u5230 <code>babian</code> \u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u5e76\u8fdb\u884c\u5e76\u884c\u5904\u7406\u3002\u8fd9\u79cd\u5206\u5e03\u5f0f\u8bbe\u8ba1\u4e0d\u4ec5\u63d0\u9ad8\u4e86\u5728\u7ebf\u5206\u6790\u7684\u5904\u7406\u80fd\u529b\uff0c\u4e5f\u589e\u5f3a\u4e86\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\uff0c\u5355\u4e2a\u5206\u6790\u8282\u70b9\u7684\u6545\u969c\u4e0d\u4f1a\u5f71\u54cd\u5230\u4e3bDAQ\u7cfb\u7edf\u6216\u5176\u4ed6\u5206\u6790\u8282\u70b9 [1]\u3002\u8fd9\u79cd\u67b6\u6784\u5bf9\u4e8e\u5927\u578b\u5b9e\u9a8c\u800c\u8a00\uff0c\u662f\u4fdd\u969c\u6709\u6548\u5728\u7ebf\u76d1\u63a7\u548c\u6570\u636e\u8d28\u91cf\u63a7\u5236\u7684\u5173\u952e\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#92-\u591a\u63a2\u6d4b\u5668\u8054\u5408\u5206\u6790\u521d\u6b65","title":"9.2 \u591a\u63a2\u6d4b\u5668\u8054\u5408\u5206\u6790\u521d\u6b65","text":"<p>\u73b0\u4ee3\u6838\u7269\u7406\u5b9e\u9a8c\u901a\u5e38\u6d89\u53ca\u591a\u4e2a\u5b50\u63a2\u6d4b\u5668\u7cfb\u7edf\uff0c\u5b83\u4eec\u4ece\u4e0d\u540c\u89d2\u5ea6\u548c\u5c42\u9762\u8bb0\u5f55\u540c\u4e00\u4e2a\u7269\u7406\u4e8b\u4f8b\u7684\u4fe1\u606f\u3002\u8981\u5b8c\u6574\u5730\u7406\u89e3\u548c\u91cd\u6784\u7269\u7406\u4e8b\u4f8b\uff0c\u5f80\u5f80\u9700\u8981\u5c06\u6765\u81ea\u4e0d\u540c\u63a2\u6d4b\u5668\u7684\u4fe1\u606f\u5173\u8054\u8d77\u6765\u8fdb\u884c\u8054\u5408\u5206\u6790\u3002</p> <ul> <li>\u6570\u636e\u6574\u5408\u57fa\u7840\uff1a ANAROOT\u7684 <code>TArtStoreManager</code> \u5728\u6b64\u626e\u6f14\u4e86\u5173\u952e\u89d2\u8272\u3002\u5728\u4e00\u4e2a\u4e8b\u4f8b\u7684\u5904\u7406\u5468\u671f\u5185\uff08\u4f8b\u5982\u5728 <code>TArtAnaLoop::Calculate()</code> \u65b9\u6cd5\u4e2d\uff09\uff0c<code>TArtStoreManager</code> \u5141\u8bb8\u7528\u6237\u83b7\u53d6\u5f53\u524d\u4e8b\u4f8b\u4e2d\u6240\u6709\u5df2\u6ce8\u518c\u63a2\u6d4b\u5668\u7684\u6570\u636e\u5bb9\u5668 [5, 8]\u3002\u8fd9\u610f\u5473\u7740\u5206\u6790\u4ee3\u7801\u53ef\u4ee5\u540c\u65f6\u8bbf\u95ee\u6765\u81eaSAMURAI PDC\u7684\u5f84\u8ff9\u4fe1\u606f\u3001\u6765\u81eaNEBULA\u7684\u4e2d\u5b50\u4fe1\u606f\u3001\u6765\u81eaBigRIPS\u7684\u5165\u5c04\u7c92\u5b50\u9274\u522b\u4fe1\u606f\uff08\u5982\u679c\u76f8\u5173\u6570\u636e\u6d41\u5df2\u5408\u5e76\u6216\u53ef\u5173\u8054\uff09\u7b49\u3002</li> <li>\u4e8b\u4f8b\u5339\u914d\u4e0e\u5173\u8054\uff1a \u8fdb\u884c\u8054\u5408\u5206\u6790\u7684\u524d\u63d0\u662f\u80fd\u591f\u6b63\u786e\u5339\u914d\u5c5e\u4e8e\u540c\u4e00\u7269\u7406\u4e8b\u4f8b\u7684\u4e0d\u540c\u63a2\u6d4b\u5668\u7684\u4fe1\u53f7\u3002\u8fd9\u901a\u5e38\u57fa\u4e8e\u4e8b\u4ef6\u53f7 (event number) \u6216\u9ad8\u7cbe\u5ea6\u7684\u65f6\u95f4\u6233 (timestamp) \u6765\u5b9e\u73b0\u3002ANAROOT\u7684\u4e8b\u4ef6\u6784\u5efa\u673a\u5236\uff08\u5c24\u5176\u662f\u5728\u7ebf\u5206\u6790\u4e2d\u7684 <code>babild</code>\uff09\u4f1a\u5904\u7406\u539f\u59cb\u6570\u636e\u7684\u4e8b\u4f8b\u5bf9\u9f50\u95ee\u9898\u3002</li> <li>\u5206\u6790\u793a\u4f8b\uff1a</li> <li>\u95e8\u6761\u4ef6\u8bbe\u7f6e\uff1a \u53ef\u4ee5\u5229\u7528\u4e00\u4e2a\u63a2\u6d4b\u5668\u7684\u4fe1\u606f\u4f5c\u4e3a\u5bf9\u53e6\u4e00\u4e2a\u63a2\u6d4b\u5668\u6570\u636e\u8fdb\u884c\u7b5b\u9009\u7684\u95e8\u6761\u4ef6\u3002\u4f8b\u5982\uff0c\u6839\u636eBigRIPS PPACs\u9274\u522b\u51fa\u7684\u5165\u5c04\u7c92\u5b50\u79cd\u7c7b\uff0c\u6765\u9009\u62e9\u6027\u5730\u5206\u6790NEBULA\u7684\u4e2d\u5b50\u6570\u636e\uff1b\u6216\u8005\uff0c\u6839\u636eSAMURAI PDC\u91cd\u5efa\u51fa\u7684\u5e26\u7535\u7c92\u5b50\u5f84\u8ff9\u7279\u5f81\uff08\u5982\u52a8\u91cf\u3001\u6563\u5c04\u89d2\uff09\uff0c\u6765\u7814\u7a76\u4e0e\u4e4b\u7b26\u5408\u51fa\u5c04\u7684\u4e2d\u5b50\u7684\u6027\u8d28\u3002</li> <li>\u8fd0\u52a8\u5b66\u91cd\u5efa\uff1a \u5728\u4e00\u4e9b\u53cd\u5e94\u9053\u4e2d\uff0c\u901a\u8fc7\u6d4b\u91cf\u6240\u6709\u672b\u6001\u7c92\u5b50\u7684\u52a8\u91cf\u77e2\u91cf\uff08\u4f8b\u5982\uff0cPDC\u6d4b\u91cf\u5e26\u7535\u7c92\u5b50\uff0cNEBULA\u6d4b\u91cf\u4e2d\u5b50\uff09\uff0c\u53ef\u4ee5\u8fdb\u884c\u5b8c\u6574\u7684\u8fd0\u52a8\u5b66\u91cd\u5efa\uff0c\u5982\u8ba1\u7b97\u53cd\u5e94\u7684Q\u503c\u3001\u4e0d\u53d8\u8d28\u91cf\u3001\u4e22\u5931\u8d28\u91cf\u7b49\u3002</li> <li>\u7b26\u5408\u6d4b\u91cf\uff1a \u7814\u7a76\u4e0d\u540c\u7c92\u5b50\u4e4b\u95f4\u7684\u7b26\u5408\u5173\u7cfb\uff0c\u5982\u8d28\u5b50-\u4e2d\u5b50\u7b26\u5408\u3001\\gamma\\gamma-\u4e2d\u5b50\u7b26\u5408\u7b49\uff0c\u5bf9\u4e8e\u7406\u89e3\u53cd\u5e94\u673a\u5236\u548c\u6838\u7ed3\u6784\u7279\u6027\u975e\u5e38\u91cd\u8981\u3002</li> </ul> <p>\u867d\u7136\u672c\u6307\u5357\u4e0d\u6df1\u5165\u63a2\u8ba8\u590d\u6742\u7684\u591a\u63a2\u6d4b\u5668\u8054\u5408\u5206\u6790\u7684\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\uff08\u8fd9\u901a\u5e38\u9ad8\u5ea6\u4f9d\u8d56\u4e8e\u5177\u4f53\u7684\u7269\u7406\u76ee\u6807\u548c\u5b9e\u9a8c\u8bbe\u7f6e\uff09\uff0c\u4f46\u7528\u6237\u5e94\u610f\u8bc6\u5230ANAROOT\u7684\u67b6\u6784\u4e3a\u8fd9\u7c7b\u5206\u6790\u63d0\u4f9b\u4e86\u57fa\u7840\u7684\u6570\u636e\u8bbf\u95ee\u548c\u7ba1\u7406\u80fd\u529b\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#93-anaroot\u6027\u80fd\u4f18\u5316\u4e0e\u8c03\u8bd5\u6280\u5de7","title":"9.3 ANAROOT\u6027\u80fd\u4f18\u5316\u4e0e\u8c03\u8bd5\u6280\u5de7","text":"<p>\u5728\u5904\u7406\u5927\u91cf\u5b9e\u9a8c\u6570\u636e\u65f6\uff0c\u5206\u6790\u4ee3\u7801\u7684\u6267\u884c\u6548\u7387\u548c\u6b63\u786e\u6027\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u6027\u80fd\u4f18\u5316\u5efa\u8bae\uff1a</li> <li>\u907f\u514d\u5728\u4e8b\u4ef6\u5faa\u73af (Calculate() \u65b9\u6cd5) \u4e2d\u9891\u7e41\u521b\u5efa\u548c\u9500\u6bc1\u5bf9\u8c61\uff1a \u5bf9\u8c61\u7684\u6784\u9020\u548c\u6790\u6784\u662f\u76f8\u5bf9\u8017\u65f6\u7684\u64cd\u4f5c\u3002\u5e94\u5c3d\u91cf\u5728 <code>Construct()</code> \u65b9\u6cd5\u4e2d\u521b\u5efa\u6240\u9700\u7684\u5bf9\u8c61\uff08\u5982\u76f4\u65b9\u56fe\u3001\u8f85\u52a9\u8ba1\u7b97\u7c7b\u5b9e\u4f8b\uff09\uff0c\u5728 <code>Calculate()</code> \u4e2d\u590d\u7528\u5b83\u4eec\u3002</li> <li>\u9ad8\u6548\u4f7f\u7528ROOT\u5bb9\u5668\uff1a \u5bf9\u4e8e <code>TClonesArray</code> \u7b49\u5bb9\u5668\uff0c\u4f7f\u7528 <code>GetEntriesFast()</code> \u800c\u975e <code>GetEntries()</code>\uff08\u5982\u679c\u4e0d\u9700\u8981\u4e25\u683c\u7684\u5bf9\u8c61\u6709\u6548\u6027\u68c0\u67e5\uff09\uff0c\u5e76\u76f4\u63a5\u901a\u8fc7 <code>At(i)</code> \u83b7\u53d6\u5bf9\u8c61\u6307\u9488\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d\u3002</li> <li>\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\uff1a \u4ed4\u7ec6\u5ba1\u89c6\u5206\u6790\u903b\u8f91\uff0c\u907f\u514d\u5728\u5faa\u73af\u4e2d\u91cd\u590d\u8ba1\u7b97\u4e0d\u968f\u4e8b\u4ef6\u53d8\u5316\u7684\u91cf\u3002</li> <li>\u5408\u7406\u9009\u62e9\u6570\u636e\u7ed3\u6784\uff1a \u6839\u636e\u8bbf\u95ee\u6a21\u5f0f\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff08\u5982 <code>std::vector</code> vs <code>std::map</code>\uff09\u3002</li> <li>\u7f16\u8bd1\u4f18\u5316\uff1a \u5728\u7f16\u8bd1\u7528\u6237 <code>AnaLoop</code> \u5b8f\u6216\u6574\u4e2aANAROOT\u65f6\uff0c\u4f7f\u7528\u7f16\u8bd1\u5668\u63d0\u4f9b\u7684\u4f18\u5316\u9009\u9879\uff08\u5982 <code>-O2</code> \u6216 <code>-O3</code>\uff09\uff0c\u4f46\u8fd9\u53ef\u80fd\u4f1a\u589e\u52a0\u7f16\u8bd1\u65f6\u95f4\u5e76\u4f7f\u5f97\u8c03\u8bd5\u66f4\u56f0\u96be\u3002</li> <li>\u5173\u6ce8I/O\u74f6\u9888\uff1a \u5982\u679c\u5206\u6790\u901f\u5ea6\u53d7\u9650\u4e8e\u6570\u636e\u8bfb\u53d6\uff0c\u8003\u8651\u4f7f\u7528\u66f4\u5feb\u7684\u5b58\u50a8\u8bbe\u5907\uff0c\u6216\u4f18\u5316\u6570\u636e\u8bfb\u53d6\u6a21\u5f0f\uff08\u5982\u8c03\u6574TTree\u7684\u7f13\u5b58\u5927\u5c0f\uff09\u3002RIBF\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u751a\u81f3\u63a2\u7d22\u4f7f\u7528FPGA\u8fdb\u884c\u786c\u4ef6\u52a0\u901f\u4ee5\u63d0\u5347\u7279\u5b9a\u5206\u6790\u4efb\u52a1\uff08\u5982PID\uff09\u7684\u541e\u5410\u7387 [11]\uff0c\u8fd9\u53cd\u6620\u4e86\u5bf9\u9ad8\u6027\u80fd\u5904\u7406\u7684\u9700\u6c42\u3002</li> <li>\u8c03\u8bd5\u6280\u5de7\uff1a</li> <li>\u6253\u5370\u4fe1\u606f\uff1a \u5728\u4ee3\u7801\u5173\u952e\u4f4d\u7f6e\u63d2\u5165\u6253\u5370\u8bed\u53e5\uff08<code>std::cout</code>, <code>printf</code>, \u6216ANAROOT\u63d0\u4f9b\u7684\u65e5\u5fd7\u5de5\u5177\u5982 <code>TArtCore::Info</code>, <code>TArtCore::Warning</code>, <code>TArtCore::Error</code>\uff09\u8f93\u51fa\u53d8\u91cf\u503c\u6216\u7a0b\u5e8f\u6d41\u7a0b\u4fe1\u606f\uff0c\u662f\u7b80\u5355\u6709\u6548\u7684\u8c03\u8bd5\u624b\u6bb5\u3002</li> <li>\u4f7f\u7528\u8c03\u8bd5\u5668\uff1a \u5229\u7528GDB (GNU Debugger) \u6216ROOT\u5185\u7f6e\u7684CINT/Cling\u8c03\u8bd5\u529f\u80fd\u6765\u5355\u6b65\u6267\u884c\u4ee3\u7801\u3001\u68c0\u67e5\u53d8\u91cf\u3001\u8bbe\u7f6e\u65ad\u70b9\u3002</li> <li>\u6a21\u5757\u5316\u6d4b\u8bd5\uff1a \u5c06\u590d\u6742\u7684\u5206\u6790\u903b\u8f91\u5206\u89e3\u4e3a\u5c0f\u7684\u3001\u53ef\u72ec\u7acb\u6d4b\u8bd5\u7684\u6a21\u5757\u6216\u51fd\u6570\uff0c\u5206\u522b\u9a8c\u8bc1\u5176\u6b63\u786e\u6027\u3002</li> <li>\u68c0\u67e5\u53c2\u6570\u6587\u4ef6\uff1a \u8bb8\u591a\u95ee\u9898\u6e90\u4e8e\u53c2\u6570\u6587\u4ef6 (XML) \u7684\u914d\u7f6e\u9519\u8bef\u3002\u4ed4\u7ec6\u6838\u5bf9\u53c2\u6570\u540d\u79f0\u3001\u6570\u503c\u548c\u7c7b\u578b\u662f\u5426\u6b63\u786e\u3002</li> <li>\u5c0f\u6570\u636e\u96c6\u6d4b\u8bd5\uff1a \u9996\u5148\u5728\u5c0f\u89c4\u6a21\u7684\u3001\u7279\u5f81\u660e\u786e\u7684\u6570\u636e\u96c6\u4e0a\u6d4b\u8bd5\u548c\u8c03\u8bd5\u5206\u6790\u4ee3\u7801\uff0c\u786e\u8ba4\u57fa\u672c\u903b\u8f91\u65e0\u8bef\u540e\uff0c\u518d\u6269\u5c55\u5230\u5b8c\u6574\u6570\u636e\u96c6\u3002</li> <li>\u5229\u7528ANAROOT\u7684\u8bca\u65ad\u4fe1\u606f\uff1a \u6ce8\u610fANAROOT\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8f93\u51fa\u7684\u8b66\u544a\u548c\u9519\u8bef\u4fe1\u606f\uff0c\u5b83\u4eec\u5f80\u5f80\u80fd\u6307\u793a\u95ee\u9898\u7684\u6240\u5728\u3002</li> <li>\u7248\u672c\u63a7\u5236\uff1a \u4f7f\u7528Git\u7b49\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7ba1\u7406\u5206\u6790\u4ee3\u7801\uff0c\u4fbf\u4e8e\u8ffd\u8e2a\u4fee\u6539\u3001\u56de\u6eaf\u95ee\u9898\u548c\u534f\u540c\u5de5\u4f5c\u3002</li> </ul> <p>\u5bf9\u4e8e\u590d\u6742\u7684\u6027\u80fd\u95ee\u9898\u6216\u96be\u4ee5\u5b9a\u4f4d\u7684bug\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u4e13\u4e1a\u7684\u6027\u80fd\u5206\u6790\u5de5\u5177 (profilers) \u6216\u66f4\u6df1\u5165\u5730\u7406\u89e3ANAROOT\u548cROOT\u7684\u5185\u90e8\u5de5\u4f5c\u673a\u5236\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#\u7b2c\u56db\u90e8\u5206\u9644\u5f55","title":"\u7b2c\u56db\u90e8\u5206\uff1a\u9644\u5f55","text":""},{"location":"sci/project/samurai/anaroot2version/#a-anaroot\u5e38\u7528\u7c7b\u5e93\u53c2\u8003\u6458\u8981","title":"A. ANAROOT\u5e38\u7528\u7c7b\u5e93\u53c2\u8003\u6458\u8981","text":"<p>\u672c\u9644\u5f55\u65e8\u5728\u63d0\u4f9b\u4e00\u4e2aANAROOT\u6838\u5fc3\u7c7b\u7684\u5feb\u901f\u53c2\u8003\uff0c\u603b\u7ed3\u5176\u4e3b\u8981\u529f\u80fd\u548c\u5e38\u7528\u65b9\u6cd5\u3002\u8be6\u7ec6\u4fe1\u606f\u8bf7\u67e5\u9605ANAROOT\u5b98\u65b9\u6587\u6863\u6216\u76f8\u5173\u5934\u6587\u4ef6\u3002</p> <ul> <li><code>TArtStoreManager</code>:</li> <li>\u529f\u80fd: \u6570\u636e\u548c\u53c2\u6570\u7684\u4e2d\u592e\u7ba1\u7406\u5668\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5:<ul> <li><code>static TArtStoreManager* Instance()</code>: \u83b7\u53d6\u5168\u5c40\u552f\u4e00\u7684 <code>TArtStoreManager</code> \u5b9e\u4f8b\u3002</li> <li><code>TClonesArray* FindDataContainer(const char* name)</code>: \u6839\u636e\u540d\u79f0\u67e5\u627e\u5e76\u8fd4\u56de\u6570\u636e\u5bb9\u5668 (\u901a\u5e38\u662f <code>TClonesArray</code>)\u3002</li> <li><code>TArtRawSegmentObject* FindSegment(Int_t dev, Int_t fp, Int_t det)</code>: (\u53ef\u80fd\u5b58\u5728) \u67e5\u627e\u7279\u5b9a\u7684\u539f\u59cb\u6570\u636e\u6bb5\u3002</li> <li><code>void Register(const char* name, TObject* obj)</code>: (\u5185\u90e8\u4f7f\u7528) \u6ce8\u518c\u6570\u636e\u5bb9\u5668\u6216\u53c2\u6570\u3002</li> <li><code>TArtParam* FindParameter(const char* name)</code>: \u67e5\u627e\u53c2\u6570\u5bf9\u8c61\u3002</li> </ul> </li> <li><code>TArtEventStore</code>:</li> <li>\u529f\u80fd: RIDF\u6570\u636e\u89e3\u7801\u4e0e\u4e8b\u4ef6\u5faa\u73af\u63a7\u5236\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5:<ul> <li><code>Bool_t Open(const char* filename)</code>: \u6253\u5f00RIDF\u6587\u4ef6\u3002</li> <li><code>Bool_t Open(Int_t shm_id)</code>: \u8fde\u63a5\u5230\u5171\u4eab\u5185\u5b58\u3002</li> <li><code>Bool_t GetNextEvent()</code>: \u8bfb\u53d6\u5e76\u89e3\u7801\u4e0b\u4e00\u4e2a\u4e8b\u4ef6\u3002</li> <li><code>void ClearData()</code>: \u6e05\u9664\u5f53\u524d\u4e8b\u4ef6\u7684\u89e3\u7801\u6570\u636e\u3002</li> <li><code>TArtRawEventObject* GetRawEventObject()</code>: \u83b7\u53d6\u5f53\u524d\u4e8b\u4ef6\u7684\u539f\u59cb\u6570\u636e\u5bf9\u8c61\u3002</li> <li><code>void LoadMapConfig(const char* mapfilename)</code>: \u52a0\u8f7dANAPAW\u98ce\u683c\u7684\u6620\u5c04\u6587\u4ef6\u3002</li> </ul> </li> <li><code>TArtRawEventObject</code>:</li> <li>\u529f\u80fd: \u5b58\u50a8\u89e3\u7801\u540e\u7684\u6574\u4e2a\u4e8b\u4ef6\u7684\u539f\u59cb\u6570\u636e\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5:<ul> <li><code>Int_t GetNumSegment()</code>: \u83b7\u53d6\u6570\u636e\u6bb5 (Segment) \u7684\u6570\u91cf\u3002</li> <li><code>TArtRawSegmentObject* GetSegment(Int_t i)</code>: \u83b7\u53d6\u6307\u5b9a\u7d22\u5f15\u7684\u6570\u636e\u6bb5\u3002</li> <li><code>Int_t GetRunNumber()</code>, <code>Int_t GetEventNumber()</code>: \u83b7\u53d6\u8fd0\u884c\u53f7\u548c\u4e8b\u4ef6\u53f7\u3002</li> </ul> </li> <li><code>TArtRawSegmentObject</code>:</li> <li>\u529f\u80fd: \u5b58\u50a8\u7279\u5b9a\u8bbe\u5907\u5206\u6bb5\u7684\u539f\u59cb\u6570\u636e\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5:<ul> <li><code>Int_t GetNumData()</code>: \u83b7\u53d6\u6570\u636e\u5bf9\u8c61 (DataObject) \u7684\u6570\u91cf\u3002</li> <li><code>TArtRawDataObject* GetData(Int_t i)</code>: \u83b7\u53d6\u6307\u5b9a\u7d22\u5f15\u7684\u6570\u636e\u5bf9\u8c61\u3002</li> <li><code>Int_t GetDevice()</code>, <code>Int_t GetFocalPlane()</code>, <code>Int_t GetDetector()</code>: \u83b7\u53d6\u8bbe\u5907\u3001\u7126\u5e73\u9762\u3001\u63a2\u6d4b\u5668ID\u3002</li> </ul> </li> <li><code>TArtRawDataObject</code>:</li> <li>\u529f\u80fd: \u5b58\u50a8\u6700\u5e95\u5c42\u7684\u539f\u59cb\u6570\u636e\u5355\u5143 (\u5982\u5355\u4e2aADC/TDC\u503c)\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5:<ul> <li><code>Int_t GetValue()</code>: \u83b7\u53d6\u539f\u59cb\u503c\u3002</li> <li><code>Int_t GetGeo()</code>, <code>Int_t GetCh()</code>: \u83b7\u53d6\u5730\u7406\u5730\u5740\u548c\u901a\u9053\u53f7\u3002</li> <li><code>Int_t GetCategoryID()</code>, <code>Int_t GetDetectorID()</code>, <code>Int_t GetDatatypeID()</code>: (\u914d\u5408MapConfig\u4f7f\u7528) \u83b7\u53d6\u7c7b\u522b\u3001\u63a2\u6d4b\u5668\u3001\u6570\u636e\u7c7b\u578bID\u3002</li> </ul> </li> <li><code>TArtAnaLoop</code> (\u57fa\u7c7b):</li> <li>\u529f\u80fd: \u7528\u6237\u5206\u6790\u5faa\u73af\u7684\u57fa\u7c7b\u3002</li> <li>\u9700\u91cd\u5199\u7684\u65b9\u6cd5: <code>Construct()</code>, <code>Calculate()</code>, <code>Destruct()</code>, <code>ClassName()</code>\u3002</li> <li>\u63a2\u6d4b\u5668\u6570\u636e\u7c7b (\u5982 <code>TArtPPAC</code>, <code>TArtDCHit</code>, <code>TArtDCTrack</code>, <code>TArtNEBULAPla</code>):</li> <li>\u529f\u80fd: \u5b58\u50a8\u7279\u5b9a\u63a2\u6d4b\u5668\u7684\u523b\u5ea6\u540e\u6216\u91cd\u5efa\u540e\u7684\u6570\u636e\u3002</li> <li>\u5e38\u7528\u65b9\u6cd5: \u901a\u5e38\u5305\u542b\u4e00\u7cfb\u5217 <code>GetXXX()</code> \u65b9\u6cd5\u7528\u4e8e\u8bbf\u95ee\u5177\u4f53\u7684\u7269\u7406\u91cf (\u5982\u4f4d\u7f6e\u3001\u65f6\u95f4\u3001\u80fd\u91cf\u3001\u89d2\u5ea6\u3001\u52a8\u91cf\u7b49)\uff0c\u5177\u4f53\u65b9\u6cd5\u540d\u9700\u67e5\u9605\u76f8\u5e94\u7c7b\u7684\u5934\u6587\u4ef6\u3002\u4f8b\u5982\uff0c<code>TArtPPAC::GetX()</code>, <code>TArtNEBULAPla::GetTime()</code>, <code>TArtDCTrack::GetMomentum()</code> (\u8fd9\u4e9b\u662f\u57fa\u4e8e\u901a\u7528\u547d\u540d\u4e60\u60ef\u7684\u63a8\u6d4b\uff0c\u5b9e\u9645\u540d\u79f0\u53ef\u80fd\u4e0d\u540c)\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#b-xml\u53c2\u6570\u6587\u4ef6\u793a\u4f8b-pdc-nebula","title":"B. XML\u53c2\u6570\u6587\u4ef6\u793a\u4f8b (PDC, NEBULA)","text":"<p>ANAROOT\u4f7f\u7528XML\u6587\u4ef6\u7ba1\u7406\u53c2\u6570\u3002\u4ee5\u4e0b\u662fPDC (\u6f02\u79fb\u5ba4) \u548cNEBULA\u53c2\u6570\u6587\u4ef6\u7ed3\u6784\u7684\u793a\u610f\u6027\u793a\u4f8b\uff0c\u5177\u4f53\u6807\u7b7e\u548c\u5c42\u7ea7\u9700\u53c2\u8003\u5b9e\u9645ANAROOT\u6a21\u5757\u7684\u5b9a\u4e49\u3002</p> <p>PDC (Drift Chamber) \u53c2\u6570\u6587\u4ef6\u793a\u4f8b (<code>SAMURAIFDC.xml</code> - \u6982\u5ff5\u6027)</p> <pre><code>&lt;SAMURAIFDCParameters&gt;\n&lt;Detector name=\"FDC1\"&gt;\n&lt;Layer id=\"0\"&gt;\n&lt;Wire id=\"0\"&gt;\n&lt;T0Offset&gt;123.4&lt;/T0Offset&gt;\n&lt;TDCoeff a=\"0.05\" b=\"-1.2\" c=\"15.0\"/&gt;\n&lt;Position x=\"100.0\" y=\"0.0\" z=\"1500.0\"/&gt;\n&lt;Resolution&gt;0.2&lt;/Resolution&gt;\n&lt;/Wire&gt;\n&lt;/Layer&gt;\n&lt;Alignment dx=\"0.1\" dy=\"-0.05\" dz=\"0.0\" rx=\"0.001\" ry=\"0.0\" rz=\"-0.0005\"/&gt;\n&lt;/Detector&gt;\n&lt;/SAMURAIFDCParameters&gt;\n</code></pre> <p>NEBULA \u53c2\u6570\u6587\u4ef6\u793a\u4f8b (<code>NEBULA.xml</code> - \u6982\u5ff5\u6027)</p> <pre><code>&lt;NEBULAParameters&gt;\n&lt;Global&gt;\n&lt;TimeZeroOffsetGlobal&gt;-5.6&lt;/TimeZeroOffsetGlobal&gt;\n&lt;PSDCutNeutronMin&gt;0.8&lt;/PSDCutNeutronMin&gt;\n&lt;PSDCutNeutronMax&gt;1.5&lt;/PSDCutNeutronMax&gt;\n&lt;/Global&gt;\n&lt;Bar id=\"1\"&gt;\n&lt;PMT id=\"0\"&gt; &lt;TDCToNsSlope&gt;0.025&lt;/TDCToNsSlope&gt;\n&lt;TDCToNsOffset&gt;-10.2&lt;/TDCToNsOffset&gt;\n&lt;QDCToMeVeeSlope&gt;0.1&lt;/QDCToMeVeeSlope&gt;\n&lt;WalkCoeffA&gt;50.0&lt;/WalkCoeffA&gt;\n&lt;WalkCoeffB&gt;-0.5&lt;/WalkCoeffB&gt;\n&lt;/PMT&gt;\n&lt;PMT id=\"1\"&gt; &lt;/PMT&gt;\n&lt;PositionCalibVeff&gt;150.0&lt;/PositionCalibVeff&gt; &lt;PositionCalibOffset&gt;0.0&lt;/PositionCalibOffset&gt; &lt;EnergyCalibNonLinearA&gt;...&lt;/EnergyCalibNonLinearA&gt;\n&lt;/Bar&gt;\n&lt;/NEBULAParameters&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a \u4ee5\u4e0aXML\u7ed3\u6784\u7eaf\u5c5e\u793a\u4f8b\uff0c\u5b9e\u9645ANAROOT\u4e2d\u4f7f\u7528\u7684XML\u6807\u7b7e\u548c\u5c42\u7ea7\u7ed3\u6784\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u7528\u6237\u9700\u8981\u53c2\u8003\u5176\u4f7f\u7528\u7684ANAROOT\u7248\u672c\u548c\u5177\u4f53\u5206\u6790\u6a21\u5757\u6240\u671f\u671b\u7684\u53c2\u6570\u6587\u4ef6\u683c\u5f0f\u3002[9]\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u901a\u7528\u7684 <code>TArtUserParameters</code> \u7684XML\u89e3\u6790\u4ee3\u7801\u7247\u6bb5\uff0c\u663e\u793a\u4e86 <code>&lt;parameter&gt;&lt;NAME&gt;...&lt;/NAME&gt;&lt;val&gt;...&lt;/val&gt;&lt;type&gt;...&lt;/type&gt;&lt;/parameter&gt;</code> \u8fd9\u6837\u7684\u7ed3\u6784\u3002</p>"},{"location":"sci/project/samurai/anaroot2version/#c-\u5e38\u89c1\u95ee\u9898-faq-\u4e0e\u89e3\u7b54","title":"C. \u5e38\u89c1\u95ee\u9898 (FAQ) \u4e0e\u89e3\u7b54","text":"<ul> <li>Q1: \u5b89\u88c5ANAROOT\u65f6\u63d0\u793a\u627e\u4e0d\u5230ROOT\u76f8\u5173\u7684\u5934\u6587\u4ef6\u6216\u5e93\u600e\u4e48\u529e\uff1f   A1: \u8bf7\u786e\u4fdd\u5df2\u6b63\u786e\u5b89\u88c5ROOT\uff0c\u5e76\u4e14\u6b63\u786e\u8bbe\u7f6e\u4e86 <code>$ROOTSYS</code> \u73af\u5883\u53d8\u91cf\uff0c\u5e76\u901a\u8fc7 <code>source $ROOTSYS/bin/thisroot.sh</code> (\u6216 <code>thisroot.csh</code> \u7b49) \u521d\u59cb\u5316\u4e86ROOT\u73af\u5883\u3002\u68c0\u67e5ANAROOT\u7248\u672c\u4e0eROOT\u7248\u672c\u7684\u517c\u5bb9\u6027\u3002</li> <li>Q2: \u5982\u4f55\u77e5\u9053\u6211\u7684\u63a2\u6d4b\u5668\u6570\u636e\u5728ANAROOT\u4e2d\u5bf9\u5e94\u7684\u7c7b\u540d\u548c\u6570\u636e\u5bb9\u5668\u540d\uff1f   A2: \u67e5\u9605ANAROOT\u7684\u5b98\u65b9\u6587\u6863\u3001\u6559\u7a0b\u6216\u793a\u4f8b\u4ee3\u7801 (\u5982 <code>example/Macros</code> \u76ee\u5f55\u4e0b\u7684\u5b8f)\u3002<code>TArtStoreManager.hh</code> \u548c\u76f8\u5173\u63a2\u6d4b\u5668\u7684 <code>TArtCalibXXX.hh</code> \u6216 <code>TArtRecoXXX.hh</code> \u5934\u6587\u4ef6\u4e5f\u4f1a\u5305\u542b\u8fd9\u4e9b\u4fe1\u606f\u3002\u5728ANAROOT\u7684CUI\u4e2d\u4f7f\u7528 <code>sman-&gt;Print()</code> (\u5982\u679c <code>sman</code> \u662f <code>TArtStoreManager</code> \u7684\u6307\u9488) \u53ef\u80fd\u53ef\u4ee5\u5217\u51fa\u5df2\u6ce8\u518c\u7684\u6570\u636e\u5bb9\u5668\u3002</li> <li>Q3: \u6211\u7684<code>AnaLoop</code>\u4ee3\u7801\u4fee\u6539\u540e\uff0c\u4e3a\u4ec0\u4e48\u5206\u6790\u7ed3\u679c\u6ca1\u6709\u53d8\u5316\uff1f   A3: \u5982\u679c\u60a8\u5c06 <code>AnaLoop</code> \u4f5c\u4e3a\u52a8\u6001\u52a0\u8f7d\u7684\u5b8f (<code>.L MyAnaLoop.C+</code>) \u4f7f\u7528\uff0c\u8bf7\u786e\u4fdd\u6bcf\u6b21\u4fee\u6539\u540e\u90fd\u91cd\u65b0\u6267\u884c\u4e86 <code>.L MyAnaLoop.C+</code> \u547d\u4ee4\u4ee5\u91cd\u65b0\u7f16\u8bd1\u548c\u52a0\u8f7d\u3002\u5982\u679c <code>AnaLoop</code> \u662f\u7f16\u8bd1\u8fdb\u5e93\u7684\uff0c\u5219\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\u6574\u4e2aANAROOT\u5e93\u5e76\u91cd\u542fROOT\u4f1a\u8bdd\u3002</li> <li>Q4: \u5982\u4f55\u67e5\u770b<code>Anafile</code>\u4e2d\u5b9a\u4e49\u7684\u95e8\u548c\u76f4\u65b9\u56fe\u662f\u5426\u6b63\u786e\u751f\u6548\uff1f   A4: \u5728CUI\u4e2d\u4f7f\u7528 <code>lc()</code> (list cuts/gates) \u548c <code>ls()</code> (list histograms) \u547d\u4ee4\u67e5\u770b\u5df2\u5b9a\u4e49\u7684\u95e8\u548c\u76f4\u65b9\u56fe\u3002\u901a\u8fc7\u7ed8\u5236\u76f8\u5173\u76f4\u65b9\u56fe\u5e76\u68c0\u67e5\u5176\u5185\u5bb9\u548c\u7edf\u8ba1\u91cf\u6765\u9a8c\u8bc1\u95e8\u7684\u6548\u679c\u3002</li> <li>Q5: \u5206\u6790\u901f\u5ea6\u5f88\u6162\uff0c\u5982\u4f55\u4f18\u5316\uff1f   A5: \u53c2\u8003\u672c\u6587\u68639.3\u8282\u7684\u6027\u80fd\u4f18\u5316\u5efa\u8bae\u3002\u9996\u5148\u786e\u5b9a\u74f6\u9888\u662f\u5728I/O\u3001CPU\u8ba1\u7b97\u8fd8\u662f\u5185\u5b58\u4f7f\u7528\u3002\u907f\u514d\u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u4f18\u5316\u7b97\u6cd5\uff0c\u5408\u7406\u4f7f\u7528ROOT\u7684\u6570\u636e\u7ed3\u6784\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot2version/#d-\u63a8\u8350\u5b66\u4e60\u8d44\u6e90\u4e0e\u94fe\u63a5","title":"D. \u63a8\u8350\u5b66\u4e60\u8d44\u6e90\u4e0e\u94fe\u63a5","text":"<ul> <li>ANAROOT\u5b98\u65b9\u6587\u6863 (RIBFDAQ Wiki):</li> <li>ANAROOT\u4e3b\u9875: <code>https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT</code> [3]</li> <li>\u5b89\u88c5\u6307\u5357: <code>https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FInstallation</code> [2]</li> <li>\u6982\u8981 (Abstract): <code>https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FAbstract</code> [5]</li> <li>\u6559\u7a0b (Tutorial): <code>https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FTutorial</code> [4]</li> <li>(\u53ef\u80fd\u5b58\u5728\u7684) Kondo-san\u7ef4\u62a4\u7684ANAROOT\u624b\u518c\u9875\u9762 (\u90e8\u5206\u94fe\u63a5\u53ef\u80fd\u5df2\u5931\u6548\u6216\u9700\u8981\u5185\u90e8\u8bbf\u95ee\u6743\u9650):<ul> <li><code>http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual</code> [20, 19] (\u5305\u542b <code>analoop</code>, <code>reference</code> \u7b49\u5b50\u9875\u9762)</li> </ul> </li> <li>ROOT\u6846\u67b6\u5b98\u65b9\u7f51\u7ad9:</li> <li>\u4e3b\u9875\u4e0e\u6587\u6863: <code>https://root.cern/</code> [2]</li> <li>ROOT\u521d\u5b66\u8005\u6307\u5357: <code>https://root.cern.ch/root/htmldoc/guides/primer/ROOTPrimer.html</code> [21, 22]</li> <li>\u76f4\u65b9\u56fe\u6559\u7a0b: <code>https://root.cern/doc/master/group__tutorial__hist.html</code> [23, 24]</li> <li>\u76f8\u5173\u51fa\u7248\u7269\u4e0e\u5b66\u4f4d\u8bba\u6587:</li> <li>\u63d0\u53caANAROOT\u6216\u5176\u7ec4\u4ef6\u7528\u4e8e\u6570\u636e\u5206\u6790\u7684RIBF\u5b9e\u9a8c\u76f8\u5173\u7684\u535a\u58eb\u8bba\u6587\u6216\u4f1a\u8bae\u6587\u96c6\uff0c\u4f8b\u5982\u6d89\u53caSAMURAI\u548cNEBULA\u7684\u5b9e\u9a8c [14, 16, 15, 25, 26]\u3002\u8fd9\u4e9b\u6587\u732e\u901a\u5e38\u4f1a\u5305\u542b\u7279\u5b9a\u5206\u6790\u6b65\u9aa4\u7684\u7ec6\u8282\u3002</li> <li>RIBF\u5185\u90e8\u8d44\u6e90\u4e0e\u8054\u7cfb\u4eba:</li> <li>\u5bf9\u4e8e\u5728RIKEN\u5de5\u4f5c\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u54a8\u8be2\u6709\u7ecf\u9a8c\u7684\u540c\u4e8b\u3001\u5bfc\u5e08\u6216ANAROOT\u5f00\u53d1/\u7ef4\u62a4\u56e2\u961f\u6210\u5458 (\u5982T. Isobe [3])\u3002</li> </ul> <p>\u7ed3\u8bba</p> <p>ANAROOT\u4f5c\u4e3aRIKEN RIBF\u5b9e\u9a8c\u6570\u636e\u5206\u6790\u7684\u6838\u5fc3\u8f6f\u4ef6\u6846\u67b6\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4ece\u539f\u59cb\u6570\u636e\u89e3\u7801\u5230\u6700\u7ec8\u7269\u7406\u7ed3\u679c\u63d0\u53d6\u7684\u5b8c\u6574\u5de5\u5177\u94fe\u3002\u5b83\u57fa\u4e8e\u6210\u719f\u7684ROOT\u6846\u67b6\u6784\u5efa\uff0c\u5e76\u9488\u5bf9RIBF\u7279\u6709\u7684\u6570\u636e\u683c\u5f0f (RIDF) \u548c\u590d\u6742\u7684\u63a2\u6d4b\u5668\u7cfb\u7edf\uff08\u5982BigRIPS, SAMURAI, NEBULA, EURICA\u7b49\uff09\u8fdb\u884c\u4e86\u6df1\u5ea6\u4f18\u5316\u548c\u529f\u80fd\u6269\u5c55\u3002</p> <p>\u672c\u6307\u5357\u8be6\u7ec6\u4ecb\u7ecd\u4e86ANAROOT\u7684\u80cc\u666f\u3001\u5b89\u88c5\u914d\u7f6e\u3001\u6838\u5fc3\u6982\u5ff5\u3001\u6570\u636e\u5904\u7406\u6d41\u7a0b\u3001\u5173\u952e\u7c7b\u5e93\u4ee5\u53ca\u811a\u672c\u7f16\u5199\u65b9\u6cd5\u3002\u7279\u522b\u5f3a\u8c03\u4e86SAMURAI\u5b9e\u9a8c\u4e2d\u6f02\u79fb\u5ba4 (PDC/DC) \u548cNEBULA\u4e2d\u5b50\u63a2\u6d4b\u5668\u7684\u6570\u636e\u5206\u6790\u6d41\u7a0b\uff0c\u5305\u62ec\u5fc5\u8981\u7684\u523b\u5ea6\u6b65\u9aa4\uff08\u5982\u6f02\u79fb\u5ba4\u7684t-d\u5173\u7cfb\u3001NEBULA\u7684\u65f6\u95f4\u3001\u4f4d\u7f6e\u548c\u80fd\u91cf\u523b\u5ea6\u3001\u8109\u51b2\u5f62\u72b6\u7504\u522b\u3001\u4e32\u6270\u4fee\u6b63\u7b49\uff09\u3001\u6570\u636e\u5bf9\u8c61\u7684\u8bbf\u95ee\u3001\u4ee5\u53ca\u91cd\u5efa\u7269\u7406\u91cf\uff08\u5982\u5f84\u8ff9\u3001\u52a8\u91cf\u3001\u4e2d\u5b50\u80fd\u91cf\uff09\u7684\u65b9\u6cd5\u3002\u540c\u65f6\uff0c\u672c\u6307\u5357\u660e\u786e\u6f84\u6e05\u4e86BigRIPS\u7126\u5e73\u9762PPACs\u4e0eSAMURAI PDC/DC\u5728\u529f\u80fd\u548c\u5206\u6790\u65b9\u6cd5\u4e0a\u7684\u533a\u522b\uff0c\u524d\u8005\u4e3b\u8981\u7528\u4e8e\u5165\u5c04\u675f\u6d41\u7684\u7c92\u5b50\u9274\u522b\uff0c\u540e\u8005\u5219\u7528\u4e8e\u53cd\u5e94\u4ea7\u7269\u7684\u52a8\u91cf\u5206\u6790\u3002</p> <p>\u901a\u8fc7\u5b66\u4e60\u548c\u5b9e\u8df5\u672c\u6307\u5357\u63d0\u4f9b\u7684\u5185\u5bb9\uff0c\u7528\u6237\u5e94\u80fd\uff1a 1.  \u6210\u529f\u5b89\u88c5\u548c\u914d\u7f6eANAROOT\u5206\u6790\u73af\u5883\u3002 2.  \u7406\u89e3ANAROOT\u7684\u57fa\u672c\u67b6\u6784\u548c\u6570\u636e\u6d41\u3002 3.  \u638c\u63e1\u4f7f\u7528 <code>TArtAnaLoop</code> \u548c <code>Anafile</code> \u8fdb\u884c\u81ea\u5b9a\u4e49\u5206\u6790\u7684\u65b9\u6cd5\u3002 4.  \u719f\u6089ANAROOT\u7684\u547d\u4ee4\u884c\u754c\u9762\u548c\u5e38\u7528\u7684\u5206\u6790\u63a7\u5236\u547d\u4ee4\u3002 5.  \u5177\u4f53\u5e94\u7528ANAROOT\u5206\u6790SAMURAI PDC/DC\u548cNEBULA\u63a2\u6d4b\u5668\u7684\u6570\u636e\uff0c\u5305\u62ec\u6267\u884c\u5173\u952e\u7684\u523b\u5ea6\u3001\u91cd\u5efa\u548c\u7c92\u5b50\u9274\u522b\u6b65\u9aa4\u3002 6.  \u5229\u7528ROOT\u5de5\u5177\u5bf9\u5206\u6790\u7ed3\u679c\u8fdb\u884c\u53ef\u89c6\u5316\u548c\u4fdd\u5b58\u3002</p> <p>ANAROOT\u662f\u4e00\u4e2a\u6301\u7eed\u53d1\u5c55\u7684\u9879\u76ee\uff0c\u5176\u529f\u80fd\u548c\u6a21\u5757\u4f1a\u968f\u7740RIBF\u5b9e\u9a8c\u7684\u8fdb\u5c55\u800c\u4e0d\u65ad\u5b8c\u5584\u548c\u66f4\u65b0\u3002\u5efa\u8bae\u7528\u6237\u5173\u6ce8RIBFDAQ\u7f51\u7ad9\u53d1\u5e03\u7684\u6700\u65b0\u4fe1\u606f\u548c\u6587\u6863\uff0c\u5e76\u79ef\u6781\u53c2\u4e0e\u7528\u6237\u793e\u533a\u7684\u4ea4\u6d41\uff0c\u4ee5\u4fbf\u66f4\u9ad8\u6548\u5730\u5229\u7528ANAROOT\u8fdb\u884c\u524d\u6cbf\u7684\u6838\u7269\u7406\u7814\u7a76\u3002\u4ece\u5165\u95e8\u5230\u7cbe\u901aANAROOT\u9700\u8981\u7406\u8bba\u5b66\u4e60\u548c\u5927\u91cf\u7684\u5b9e\u8df5\u64cd\u4f5c\uff0c\u5e0c\u671b\u672c\u6307\u5357\u80fd\u4e3a\u7528\u6237\u5728\u8fd9\u4e00\u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u575a\u5b9e\u7684\u57fa\u7840\u548c\u6709\u529b\u7684\u652f\u6301\u3002</p> <p>\u53c2\u8003\u6587\u732e </p> <p>[1] ANAROOT\u76f8\u5173\u7f51\u9875\uff0c\u4f8b\u5982\u6559\u7a0b\u3001\u6982\u8ff0\u9875\u9762\u3002https://ribf.riken.jp/RIBFDAQ/index.php?plugin=attach&amp;refer=Tools%2FAnalysis%2FANAROOT&amp;openfile=anaroot_ribfusermeeting2013.pdf</p> <p>[2] ANAROOT\u5b89\u88c5\u6307\u5357\u9875\u9762\u3002https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FInstallation</p> <p>[3] ANAROOT\u4e3b\u9875\u6216\u5f00\u53d1\u8005\u4fe1\u606f\u3002https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT</p> <p>[4] ANAROOT\u6559\u7a0b\u9875\u9762\u3002https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FTutorial</p> <p>[5] ANAROOT\u6982\u8ff0 (Abstract) \u9875\u9762\u3002https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FAbstract</p> <p>[6] GitHub\u6216\u5176\u4ed6\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0 (\u4f5c\u4e3a\u6e90\u7801\u83b7\u53d6\u7684\u8f85\u52a9\u9014\u5f84)\u3002https://docs.github.com/en/repositories/working-with-files/using-files/downloading-source-code-archives</p> <p>[7] \u540c[6]\u3002https://docs.github.com/enterprise-cloud@latest/repositories/working-with-files/using-files/downloading-source-code-archives</p> <p>[8] ANAROOT\u5185\u90e8\u7c7b\u6587\u6863\u6216\u5934\u6587\u4ef6\u6ce8\u91ca (\u4f8b\u5982 <code>TArtStoreManager.hh</code>, <code>TArtRawEventObject.hh</code> \u7b49)\u3002</p> <p>[9] ANAROOT\u5173\u4e8e\u53c2\u6570\u7ba1\u7406 (\u5982 <code>TArtUserParameters</code>, <code>TArtSAMURAIParameters</code>) \u7684\u8bbe\u8ba1\u6587\u6863\u6216\u793a\u4f8b\u3002</p> <p>[10] ANAROOT\u5173\u4e8e <code>TArtAnaLoop</code> \u548c <code>Anafile</code> \u4f7f\u7528\u7684\u6587\u6863\u6216\u793a\u4f8b (\u5982 <code>TAlEncExample</code> \u76f8\u5173)\u3002http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/analoop</p> <p>[11] BigRIPS\u8c31\u4eea\u76f8\u5173\u7684\u6280\u672f\u6587\u6863\u6216\u51fa\u7248\u7269\u3002https://inis.iaea.org/records/w1kc8-5ep03/files/53109350.pdf?download=1</p> <p>[12] SAMURAI\u8c31\u4eea\u76f8\u5173\u7684\u6280\u672f\u6587\u6863\u6216\u51fa\u7248\u7269\u3002https://www.nishina.riken.jp/ribf/SAMURAI/overview.html</p> <p>[13] \u540c[12]\u3002https://ribf.riken.jp/SAMURAI/120425_SAMURAIConstProp.pdf</p> <p>[14] \u6d89\u53caSAMURAI PDC\u548cNEBULA\u6570\u636e\u5206\u6790\u7684\u535a\u58eb\u8bba\u6587\u6216\u8be6\u7ec6\u6280\u672f\u62a5\u544a (\u4f8b\u5982\uff0c\u63d0\u53caMDF\u65b9\u6cd5\u3001\u4e32\u6270\u4fee\u6b63\u7b97\u6cd5\u7b49)\u3002https://tuprints.ulb.tu-darmstadt.de/20267/1/Dissertation_LehrChristopher_2022-01-04.pdf</p> <p>[15] \u5361\u5c14\u66fc\u6ee4\u6ce2\u5728\u5f84\u8ff9\u91cd\u5efa\u4e2d\u5e94\u7528\u7684\u901a\u7528\u6587\u732e\u6216\u7279\u5b9a\u4e8eANAROOT/SAMURAI\u7684\u5b9e\u73b0\u8bf4\u660e\u3002https://www.nishina.riken.jp/researcher/APR/APR049/pdf/161.pdf</p> <p>[16] NEBULA\u63a2\u6d4b\u5668\u76f8\u5173\u7684\u6280\u672f\u6587\u6863\u6216\u51fa\u7248\u7269\u3002https://www.nishina.riken.jp/researcher/APR/APR056/pdf/91.pdf</p> <p>[17] NEBULA\u63a2\u6d4b\u5668 (\u5305\u62ecNEBULA-Plus) \u7684\u8bbe\u8ba1\u3001\u6027\u80fd\u548c\u523b\u5ea6\u76f8\u5173\u7684\u51fa\u7248\u7269\u3002https://indico.cern.ch/event/865322/contributions/5048179/attachments/2512879/4319595/2022-02-21%20Neutron%20detectors%20v6.pdf</p> <p>[18] \u5173\u4e8e\u5851\u6599\u95ea\u70c1\u4f53\u4e2d\u5b50/\u4f3d\u9a6c\u7504\u522b (PSD) \u7684\u901a\u7528\u539f\u7406\u6216\u7279\u5b9a\u4e8eNEBULA\u7684\u6587\u732e\u3002https://inis.iaea.org/collection/NCLCollectionStore/_Public/55/078/55078687.pdf</p> <p>[19] Kondo-san\u7ef4\u62a4\u7684ANAROOT\u624b\u518c\u9875\u9762\u4e2d\u5173\u4e8e <code>analoop</code> \u548c <code>reference</code> \u7684\u90e8\u5206\u3002http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/analoop</p> <p>[20] Kondo-san\u7ef4\u62a4\u7684ANAROOT\u624b\u518c\u9875\u9762\u4e2d\u5173\u4e8eCUI\u547d\u4ee4\u7684\u90e8\u5206\u3002http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/reference</p> <p>[21] ROOT\u521d\u5b66\u8005\u6307\u5357\u3002https://root.cern.ch/root/htmldoc/guides/primer/ROOTPrimer.html</p> <p>[22] \u540c[21]\u3002https://www.ao-universe.com/guides/classic-ao/gameplay-guides-6/introduction-to-scripting</p> <p>[23] ROOT\u76f4\u65b9\u56fe\u6559\u7a0b\u3002https://root.cern/doc/master/group__tutorial__hist.html</p> <p>[24] \u540c[23]\u3002https://root.cern/manual/histograms/</p> <p>[25] \u5176\u4ed6\u4f7f\u7528ANAROOT\u8fdb\u884c\u6570\u636e\u5206\u6790\u7684RIBF\u5b9e\u9a8c\u7684\u51fa\u7248\u7269\u3002https://tuprints.ulb.tu-darmstadt.de/9192/7/PhD_thesis_JKahlbow.pdf</p> <p>[26] \u540c[25]\u3002https://indico.global/event/6805/contributions/58357/attachments/29459/52337/OS_day2_id48_ichinohe.pdf</p>"},{"location":"sci/project/samurai/anaroot_nebula/","title":"Anaroot nebula","text":"<p>TArtCalibNEBULAHPC *nebulahpc_calib = new TArtCalibNEBULAHPC();</p> <p>\u4f5c\u7528\uff1a\u8d1f\u8d23\u6821\u51c6 NEBULA \u9ad8\u538b\u6b63\u6bd4\u8ba1\u6570\u7ba1\uff08HPC - High Pressure Chamber\uff09\u7684\u6570\u636e\u3002HPC \u4e3b\u8981\u4f5c\u4e3a\u4e2d\u5b50\u63a2\u6d4b\u7684\u5426\u51b3\u63a2\u6d4b\u5668\uff08veto detector\uff09\uff0c\u7528\u4e8e\u533a\u5206\u4e2d\u5b50\u548c\u5e26\u7535\u7c92\u5b50\uff08\u5982\u4f3d\u9a6c\u5c04\u7ebf\u8f6c\u6362\u4ea7\u751f\u7684\u7535\u5b50\u6216\u8d28\u5b50\uff09\u3002</p> <ul> <li>\u8f93\u5165\uff1a\u4ece TArtEventStore \u8bfb\u53d6 HPC \u63a2\u6d4b\u5668\u7684\u539f\u59cb\u6570\u636e\uff08\u5982 TDC \u65f6\u95f4\u4fe1\u606f\uff09\u3002</li> <li>\u5904\u7406\uff1a</li> <li>\u5e94\u7528\u65f6\u95f4\u6821\u51c6\u53c2\u6570\uff08\u7531 TArtSAMURAIParameters \u7ba1\u7406\uff09\u3002</li> <li>\u5c06\u539f\u59cb TDC \u503c\u8f6c\u6362\u4e3a\u7269\u7406\u65f6\u95f4\u3002</li> <li>\u8fdb\u884c\u57fa\u672c\u7684 hit \u5224\u65ad\u3002</li> <li>\u8f93\u51fa\uff1a\u91cd\u5efa\u540e\u7684 TArtNEBULAHPC \u5bf9\u8c61\uff0c\u5305\u542b\u6bcf\u4e2a HPC hit \u7684\u6821\u51c6\u540e\u4fe1\u606f\uff08\u5982\u65f6\u95f4\u3001\u63a2\u6d4b\u5668 ID \u7b49\uff09\uff0c\u5b58\u50a8\u4e8e TArtStoreManager \u7684 \"NEBULAHPC\" TClonesArray\u3002</li> </ul> <p>TArtCalibNEBULA *nebulapla_calib = new TArtCalibNEBULA();</p> <p>\u4f5c\u7528\uff1a\u8d1f\u8d23\u6821\u51c6 NEBULA \u5851\u6599\u95ea\u70c1\u4f53\uff08Pla - Plastic Scintillator\uff09\u7684\u6570\u636e\uff0c\u662f NEBULA \u4e2d\u5b50\u63a2\u6d4b\u5668\u7684\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\u3002</p> <ul> <li>\u8f93\u5165\uff1a\u4ece TArtEventStore \u8bfb\u53d6\u5851\u6599\u95ea\u70c1\u4f53\u4e24\u7aef PMT \u7684\u539f\u59cb\u6570\u636e\uff08TDC \u65f6\u95f4\u548c QDC \u7535\u8377\uff09\u3002</li> <li>\u5904\u7406\uff1a</li> <li>\u5e94\u7528\u65f6\u95f4\u548c\u7535\u8377\u6821\u51c6\u53c2\u6570\u3002</li> <li>\u8ba1\u7b97\u6bcf\u4e2a hit \u7684\u5e73\u5747\u65f6\u95f4\u3001\u65f6\u95f4\u5dee\uff08\u7528\u4e8e\u4f4d\u7f6e\u91cd\u5efa\uff09\u3001\u5e73\u5747\u7535\u8377\u3002</li> <li>\u8ba1\u7b97\u51fb\u4e2d\u4f4d\u7f6e\uff08position\uff09\u3002</li> <li>\u5c06\u6821\u51c6\u540e\u7684\u65f6\u95f4\u548c\u7535\u8377\u8f6c\u6362\u4e3a\u7269\u7406\u5355\u4f4d\uff08ns, MeVee\uff09\u3002</li> <li>\u8f93\u51fa\uff1a\u91cd\u5efa\u540e\u7684 TArtNEBULAPla \u5bf9\u8c61\uff0c\u5305\u542b\u6bcf\u4e2a hit \u7684\u8be6\u7ec6\u6821\u51c6\u4fe1\u606f\uff08ID, Layer, SubLayer, QUAveCal, TAveCal, PosCal \u7b49\uff09\uff0c\u5b58\u50a8\u4e8e TArtStoreManager \u7684 \"NEBULAPla\" TClonesArray\u3002</li> </ul> <p>TArtRecoNeutron *reco_neutron = new TArtRecoNeutron();</p> <p>\u4f5c\u7528\uff1a\u8d1f\u8d23\u4ece\u4e2d\u5b50\u63a2\u6d4b\u5668\u7684\u6821\u51c6\u6570\u636e\u4e2d\u91cd\u5efa\u4e2d\u5b50\u4e8b\u4ef6\uff0c\u662f\u66f4\u9ad8\u7ea7\u522b\u7684\u91cd\u5efa\u6b65\u9aa4\u3002</p> <ul> <li>\u8f93\u5165\uff1a</li> <li>\u4e3b\u8981\u4f9d\u8d56 TArtCalibNEBULA \u6821\u51c6\u540e\u4ea7\u751f\u7684 TArtNEBULAPla \u5bf9\u8c61\u96c6\u5408\uff08\u5851\u6599\u95ea\u70c1\u4f53 hit \u4fe1\u606f\uff09\u3002</li> <li>\u53ef\u4f7f\u7528 TArtCalibNEBULAHPC \u7684\u8f93\u51fa\uff08TArtNEBULAHPC \u5bf9\u8c61\uff09\u4f5c\u4e3a\u5e26\u7535\u7c92\u5b50\u5426\u51b3\u4fe1\u53f7\uff0c\u63d0\u9ad8\u4e2d\u5b50\u8bc6\u522b\u7eaf\u5ea6\u3002</li> <li>\u53ef\u80fd\u8fd8\u9700\u5176\u4ed6\u63a2\u6d4b\u5668\u4fe1\u606f\uff08\u5982\u675f\u6d41\u63a2\u6d4b\u5668\u7684\u65f6\u95f4\u4f5c\u4e3a TOF \u53c2\u8003\uff09\u3002</li> <li>\u5904\u7406\uff1a</li> <li>\u805a\u7c7b\uff08Clustering\uff09\uff1a\u5c06\u7a7a\u95f4\u548c\u65f6\u95f4\u4e0a\u63a5\u8fd1\u7684 TArtNEBULAPla hits \u7ec4\u5408\u6210\u6f5c\u5728\u7684\u4e2d\u5b50\u7c07\u3002</li> <li>\u7c92\u5b50\u9274\u522b\uff08PID\uff09\uff1a\u5229\u7528\u7535\u8377\u4fe1\u606f\uff08dE/dx\uff09\u548c\u98de\u884c\u65f6\u95f4\uff08TOF\uff09\u533a\u5206\u4e2d\u5b50\u548c\u5176\u4ed6\u7c92\u5b50\u3002</li> <li>\u98de\u884c\u65f6\u95f4\u8ba1\u7b97\uff1a\u8ba1\u7b97\u4e2d\u5b50\u4ece\u9776\u70b9\uff08\u6216\u53c2\u8003\u63a2\u6d4b\u5668\uff09\u5230 NEBULA \u7684\u98de\u884c\u65f6\u95f4\u3002</li> <li>\u80fd\u91cf\u91cd\u5efa\uff1a\u6839\u636e\u98de\u884c\u65f6\u95f4\u548c\u8def\u5f84\u957f\u5ea6\u8ba1\u7b97\u4e2d\u5b50\u52a8\u80fd\u3002</li> <li>\u4f4d\u7f6e\u91cd\u5efa\uff1a\u786e\u5b9a\u4e2d\u5b50\u76f8\u4e92\u4f5c\u7528\u7684\u4f4d\u7f6e\u3002</li> <li>\u8f93\u51fa\uff1a\u91cd\u5efa\u540e\u7684 TArtNeutron \u5bf9\u8c61\uff08\u6216\u7c7b\u4f3c\u7c7b\uff09\uff0c\u5305\u542b\u6bcf\u4e2a\u4e2d\u5b50\u7684\u7269\u7406\u5c5e\u6027\uff08\u80fd\u91cf\u3001\u65f6\u95f4\u3001\u4f4d\u7f6e\u3001\u89d2\u5ea6\u7b49\uff09\uff0c\u5b58\u50a8\u4e8e TArtStoreManager \u7684 \"Neutron\" TClonesArray\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_nebula/#nebula-\u91cd\u5efa\u6d41\u7a0b\u793a\u4f8b\u4ee3\u7801\u6d41\u7a0b","title":"NEBULA \u91cd\u5efa\u6d41\u7a0b\uff08\u793a\u4f8b\u4ee3\u7801\u6d41\u7a0b\uff09","text":"<ul> <li>\u521d\u59cb\u5316\u4e0e\u53c2\u6570\u52a0\u8f7d</li> <li>\u52a0\u8f7d\u5fc5\u8981\u7684\u5e93\u548c\u5934\u6587\u4ef6\uff0c\u8bbe\u7f6e include \u8def\u5f84\u3002</li> <li>\u83b7\u53d6\u5e76\u52a0\u8f7d <code>TArtSAMURAIParameters</code> \u53c2\u6570\u6587\u4ef6\u3002</li> <li> <p>\u6253\u5f00 RIDF \u6570\u636e\u6587\u4ef6\u3002</p> </li> <li> <p>\u521d\u59cb\u5316\u91cd\u5efa\u7c7b</p> </li> <li> <p>\u521b\u5efa <code>TArtCalibNEBULAHPC</code>\u3001<code>TArtCalibNEBULA</code>\u3001<code>TArtRecoNeutron</code> \u7b49\u5bf9\u8c61\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u5faa\u73af\u5904\u7406</p> </li> <li> <p>\u5bf9\u6bcf\u4e2a\u4e8b\u4ef6\uff08\u5982\u524d 10 \u4e2a\u4e8b\u4ef6\uff09\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u6e05\u7a7a\u4e0a\u4e00\u6b21\u4e8b\u4ef6\u7684\u6570\u636e\uff08<code>ClearData()</code>\uff09\u3002</li> <li>\u8c03\u7528 <code>ReconstructData()</code> \u8fdb\u884c hit \u548c\u4e2d\u5b50\u91cd\u5efa\u3002</li> <li>\u83b7\u53d6\u5e76\u8f93\u51fa HPC hits\u3001Pla hits \u53ca\u4e2d\u5b50\u91cd\u5efa\u7ed3\u679c\u3002</li> <li>\u6e05\u7406\u539f\u59cb\u4e8b\u4ef6\u6570\u636e\uff0c\u4e3a\u4e0b\u4e00\u4e2a\u4e8b\u4ef6\u505a\u51c6\u5907\u3002</li> </ul> </li> <li> <p>\u8f93\u51fa\u5185\u5bb9</p> </li> <li>\u8f93\u51fa\u6bcf\u4e2a\u4e8b\u4ef6\u7684 HPC hit \u6570\u53ca\u8be6\u7ec6\u4fe1\u606f\uff08\u5982 ID\u3001Layer\u3001SubLayer\u3001TRaw\u3001TCal\uff09\u3002</li> <li>\u8f93\u51fa Pla hit \u6570\u53ca\u8be6\u7ec6\u4fe1\u606f\uff08\u5982 ID\u3001Layer\u3001SubLayer\u3001QAveCal\u3001TAveCal\u3001PosCal\uff09\u3002</li> <li> <p>\u8f93\u51fa\u91cd\u5efa\u51fa\u7684\u4e2d\u5b50\u6570\u53ca\u5176\u7269\u7406\u91cf\uff08\u5982 Time\u3001MeVee\u3001PosX\u3001PosY\u3001PosZ\uff09\u3002</p> </li> <li> <p>\u6536\u5c3e\u4e0e\u8d44\u6e90\u91ca\u653e</p> </li> <li>\u4e8b\u4ef6\u5faa\u73af\u7ed3\u675f\u540e\uff0c\u91ca\u653e\u6240\u6709\u5206\u914d\u7684\u5bf9\u8c61\u548c\u8d44\u6e90\u3002</li> </ul> <p>\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\u8be6\u89c1\u4e0b\u65b9\u793a\u4f8b\uff08\u5df2\u96c6\u6210\u4e8e\u672c\u6587\u4ef6\u540e\u534a\u90e8\u5206\uff09\u3002</p> <pre><code>#include &lt;iostream&gt;\nvoid recoNebulaTrack(const char* ridffile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0073.ridf\") {\n    gSystem-&gt;Load(\"libXMLParser.so\");\n    gSystem-&gt;Load(\"libanacore.so\");\n\n    // It's good practice to set the include path if your custom classes are not in standard ROOT include paths\n    // Adjust this path if your anaroot/users/tbt/src/include is different or if headers are elsewhere\n    gSystem-&gt;AddIncludePath(\"-I/home/s057/exp/exp2505_s057/anaroot/users/tbt/src/include\");\n    gSystem-&gt;AddIncludePath(\"-I/home/s057/exp/exp2505_s057/anaroot/users/tbt/src/sources/Reconstruction/SAMURAI/include\");\n\n\n    TArtSAMURAIParameters *param = TArtSAMURAIParameters::Instance();\n    if (!param) {\n        std::cerr &lt;&lt; \"Error: Failed to get TArtSAMURAIParameters instance.\" &lt;&lt; std::endl;\n        return;\n    }\n\n\n    param-&gt;LoadParameter((char*)\"/home/s057/exp/exp2505_s057/anaroot/users/tbt/db/NEBULA.2023_7_6.xml\"); \n\n    TArtEventStore *estore = new TArtEventStore();\n    if (!estore-&gt;Open(ridffile)) {\n        std::cerr &lt;&lt; \"Error: Cannot open RIDF file: \" &lt;&lt; ridffile &lt;&lt; std::endl;\n        delete estore;\n        return;\n    }\n\n    // Initialize reconstruction classes\n    TArtCalibNEBULAHPC *nebulahpc_calib = new TArtCalibNEBULAHPC();\n    TArtCalibNEBULA    *nebulapla_calib = new TArtCalibNEBULA(); // Corrected type\n    TArtRecoNeutron    *reco_neutron    = new TArtRecoNeutron();\n\n    TArtStoreManager *sman = TArtStoreManager::Instance();\n\n    std::cout &lt;&lt; \"Starting event loop for NEBULA reconstruction...\" &lt;&lt; std::endl;\n    int neve = 0;\n    while (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 10) { // Process first 10 events\n        std::cout &lt;&lt; \"========== Event \" &lt;&lt; neve + 1 &lt;&lt; \" ==========\" &lt;&lt; std::endl;\n\n        // 1. Clear data from previous event\n        nebulahpc_calib-&gt;ClearData();\n        nebulapla_calib-&gt;ClearData(); \n        reco_neutron-&gt;ClearData();\n\n        // 2. Reconstruct current event's data\n        // LoadRawData is typically called internally by ReconstructData if fDataLoaded is false.\n        // If your framework requires explicit LoadRawData, uncomment the lines below.\n        // nebulahpc_calib-&gt;LoadRawData(); \n        // nebulapla_calib-&gt;LoadData(); // TArtCalibNEBULA uses LoadData()\n\n        nebulahpc_calib-&gt;ReconstructData();\n        nebulapla_calib-&gt;ReconstructData(); \n        reco_neutron-&gt;ReconstructData();\n\n        // 3. Output reconstructed results\n\n        // Output HPC hits\n        int n_hpc_hits = nebulahpc_calib-&gt;GetNumNEBULAHPC();\n        std::cout &lt;&lt; \"  NEBULA HPC Hits: \" &lt;&lt; n_hpc_hits &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_hpc_hits; ++i) {\n            TArtNEBULAHPC* hit = nebulahpc_calib-&gt;GetNEBULAHPC(i);\n            if (hit) {\n                std::cout &lt;&lt; \"    HPC Hit \" &lt;&lt; i\n                          &lt;&lt; \": ID=\" &lt;&lt; hit-&gt;GetID()\n                          &lt;&lt; \", Layer=\" &lt;&lt; hit-&gt;GetLayer()\n                          &lt;&lt; \", SubLayer=\" &lt;&lt; hit-&gt;GetSubLayer()\n                          &lt;&lt; \", TRaw=\" &lt;&lt; hit-&gt;GetTRaw()\n                          &lt;&lt; \", TCal=\" &lt;&lt; hit-&gt;GetTCal()\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        // Output Pla hits\n        int n_pla_hits = nebulapla_calib-&gt;GetNumNEBULAPla();\n        std::cout &lt;&lt; \"  NEBULA Pla Hits: \" &lt;&lt; n_pla_hits &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_pla_hits; ++i) {\n            TArtNEBULAPla* pla_hit = nebulapla_calib-&gt;GetNEBULAPla(i);\n            if (pla_hit) {\n                std::cout &lt;&lt; \"    Pla Hit \" &lt;&lt; i\n                          &lt;&lt; \": ID=\" &lt;&lt; pla_hit-&gt;GetID()\n                          &lt;&lt; \", Layer=\" &lt;&lt; pla_hit-&gt;GetLayer()\n                          &lt;&lt; \", SubLayer=\" &lt;&lt; pla_hit-&gt;GetSubLayer()\n                          &lt;&lt; \", QUAveCal=\" &lt;&lt; pla_hit-&gt;GetQAveCal()\n                          &lt;&lt; \", TAveCal=\" &lt;&lt; pla_hit-&gt;GetTAveCal()\n                          &lt;&lt; \", PosCal=\" &lt;&lt; pla_hit-&gt;GetPosCal()\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        // Output Neutron reconstruction results\n        TClonesArray* neutron_array = reco_neutron-&gt;GetNeutronArray();\n        int n_neutron = neutron_array ? neutron_array-&gt;GetEntriesFast() : 0;\n        std::cout &lt;&lt; \"  Reconstructed Neutrons: \" &lt;&lt; n_neutron &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_neutron; ++i) {\n            TArtNeutron* neutron = (TArtNeutron*)neutron_array-&gt;At(i);\n            if (neutron) {\n                std::cout &lt;&lt; \"    Neutron \" &lt;&lt; i\n                          &lt;&lt; \": Time=\" &lt;&lt; neutron-&gt;GetTime()\n                          &lt;&lt; \", MeVee=\" &lt;&lt; neutron-&gt;GetMeVee()\n                          &lt;&lt; \", PosX=\" &lt;&lt; neutron-&gt;GetPos(0)\n                          &lt;&lt; \", PosY=\" &lt;&lt; neutron-&gt;GetPos(1)\n                          &lt;&lt; \", PosZ=\" &lt;&lt; neutron-&gt;GetPos(2)\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        estore-&gt;ClearData(); // Clear raw event data for the next event\n        neve++;\n    }\n\n    std::cout &lt;&lt; \"Finished event loop. Processed \" &lt;&lt; neve &lt;&lt; \" events.\" &lt;&lt; std::endl;\n\n    // Clean up\n    delete nebulahpc_calib;\n    delete nebulapla_calib;\n    delete reco_neutron;\n    delete estore;\n    // TArtStoreManager::Delete(); // If it's a singleton managed this way\n    // TArtSAMURAIParameters::Delete(); // If it's a singleton managed this way\n}\n</code></pre>"},{"location":"sci/project/samurai/anaroot_pdc/","title":"\u91cd\u5efa\u4e0e\u6821\u51c6\u76f8\u5173\u7684C++\u7c7b\u5e93","text":""},{"location":"sci/project/samurai/anaroot_pdc/#tartcalibpdchit","title":"TArtCalibPDCHit","text":"<ul> <li>\u4f4d\u7f6e\uff1aanaroot/sources/Reconstruction/SAMURAI/include/TArtCalibPDCHit.hh\u3001TArtCalibPDCHit.cc  </li> <li>\u4f5c\u7528\uff1a\u5bf9PDC\u539f\u59cb\u6570\u636e\uff08\u5982TDC\u3001QDC\u7b49\uff09\u8fdb\u884chit\u7ea7\u522b\u7684\u6821\u51c6\u548c\u91cd\u5efa\uff0c\u751f\u6210\u6bcf\u6839\u4e1d\u7684\u6253\u70b9\uff08TArtDCHit\uff09\u3002</li> <li>\u5178\u578b\u7528\u6cd5\uff1a <pre><code>TArtCalibPDCHit *pdchitcalib = new TArtCalibPDCHit();\npdchitcalib-&gt;ReconstructData();\nTClonesArray *pdc_hit_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCHit\");\n</code></pre></li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#tartcalibpdctrack","title":"TArtCalibPDCTrack","text":"<ul> <li>\u4f4d\u7f6e\uff1aanaroot/sources/Reconstruction/SAMURAI/include/TArtCalibPDCTrack.hh\u3001TArtCalibPDCTrack.cc  </li> <li>\u4f5c\u7528\uff1a\u57fa\u4e8eTArtCalibPDCHit\u7684\u8f93\u51fa\uff0c\u5bf9\u6240\u6709hit\u8fdb\u884c\u5f84\u8ff9\uff08track\uff09\u91cd\u5efa\uff0c\u8f93\u51fa\u4e3aTArtDCTrack\u5bf9\u8c61\u3002</li> <li>\u5178\u578b\u7528\u6cd5\uff1a <pre><code>TArtCalibPDCTrack *pdctrackcalib = new TArtCalibPDCTrack();\npdctrackcalib-&gt;ReconstructData();\nTClonesArray *pdc_trk_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCTrack\");\n</code></pre></li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#tartdchit-\u548c-tartdctrack","title":"TArtDCHit \u548c TArtDCTrack","text":"<ul> <li>TArtDCHit\uff1a\u4fdd\u5b58\u5355\u4e2aPDC\u4e1d\u7684\u6253\u70b9\u4fe1\u606f\uff08\u4f4d\u7f6e\u3001TDC\u3001QDC\u7b49\uff09\u3002</li> <li>TArtDCTrack\uff1a\u4fdd\u5b58\u4e00\u6761\u91cd\u5efa\u51fa\u6765\u7684PDC\u5f84\u8ff9\uff08\u4f4d\u7f6e\u3001\u89d2\u5ea6\u3001chi2\u7b49\uff09\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#pdc\u53c2\u6570\u5e93","title":"PDC\u53c2\u6570\u5e93","text":""},{"location":"sci/project/samurai/anaroot_pdc/#samuraipdcxml","title":"SAMURAIPDC.xml","text":"<ul> <li>\u4f4d\u7f6e\uff1aSAMURAIPDC.xml  </li> <li>\u4f5c\u7528\uff1a\u4fdd\u5b58PDC\u6bcf\u6839\u4e1d\u7684\u53c2\u6570\uff08\u5982geo\u3001ch\u3001wireid\u3001\u4f4d\u7f6e\u7b49\uff09\uff0c\u4f9b\u91cd\u5efa\u65f6\u67e5\u627e\u548c\u6821\u51c6\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#\u5b8f\u4e0e\u811a\u672c","title":"\u5b8f\u4e0e\u811a\u672c","text":""},{"location":"sci/project/samurai/anaroot_pdc/#ridf2treec","title":"RIDF2Tree.C","text":"<ul> <li>\u4f4d\u7f6e\uff1ausers/tbt/tbt_try/RIDF2Tree.C  </li> <li>\u4f5c\u7528\uff1a\u5c06RIDF\u539f\u59cb\u6570\u636e\u89e3\u7801\u5e76\u4fdd\u5b58\u4e3aROOT TTree\u683c\u5f0f\uff0c\u4fbf\u4e8e\u540e\u7eed\u5206\u6790\u3002\u53ef\u5305\u542bPDC\u6570\u636e\u5206\u652f\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#recosamuraicrecotrack_wsksc","title":"RecoSAMURAI.C\u3001RecoTrack_wSks.C","text":"<ul> <li>\u4f4d\u7f6e\uff1aMacros/SAMURAI/Analysis/RecoSAMURAI.C\u3001Macros/SAMURAI/RKtrace/RecoTrack_wSks.C  </li> <li>\u4f5c\u7528\uff1a\u4e3b\u8981\u7528\u4e8eSAMURAI\u8c31\u4eea\u788e\u7247\u52a8\u91cf\u548c\u8f68\u8ff9\u7684\u91cd\u5efa\uff0c\u9ed8\u8ba4\u7528FDC/BDC\uff0c\u4f46\u53ef\u6839\u636e\u9700\u8981\u4fee\u6539\u4e3a\u7528PDC track\u8fdb\u884c\u5916\u63a8\u548c\u52a8\u91cf\u91cd\u5efa\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#onlinemonitorcc","title":"OnlineMonitor.cc","text":"<ul> <li>\u4f4d\u7f6e\uff1aOnlineMonitor.cc  </li> <li>\u4f5c\u7528\uff1a\u5728\u7ebf\u76d1\u89c6\u5b8f\uff0c\u652f\u6301PDC\u6570\u636e\u7684\u5728\u7ebf\u91cd\u5efa\u548c\u53ef\u89c6\u5316\uff08\u53ea\u8981fUsePDC\u4e3atrue\uff09\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#\u5176\u5b83\u76f8\u5173","title":"\u5176\u5b83\u76f8\u5173","text":""},{"location":"sci/project/samurai/anaroot_pdc/#samuraipdcxml\u53c2\u6570\u6587\u4ef6","title":"SAMURAIPDC.xml\u53c2\u6570\u6587\u4ef6","text":"<ul> <li>\u6ce8\u610f\uff1a\u4f60\u5fc5\u987b\u4fdd\u8bc1\u6240\u6709\u5b9e\u9645\u7528\u5230\u7684PDC\u901a\u9053\uff08geo/ch\uff09\u90fd\u5728\u6b64\u6587\u4ef6\u4e2d\u6709\u5b9a\u4e49\uff0c\u5426\u5219\u91cd\u5efa\u65f6\u4f1a\u62a5\u9519\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#\u603b\u7ed3\u4e0e\u5efa\u8bae","title":"\u603b\u7ed3\u4e0e\u5efa\u8bae","text":"\u540d\u79f0 \u7c7b\u578b \u4e3b\u8981\u529f\u80fd/\u7528\u9014 TArtCalibPDCHit \u7c7b PDC hit\u7ea7\u522b\u91cd\u5efa\uff08\u539f\u59cb\u4fe1\u53f7\u2192\u6253\u70b9\uff09 TArtCalibPDCTrack \u7c7b PDC track\u91cd\u5efa\uff08\u6253\u70b9\u2192\u5f84\u8ff9\uff09 TArtDCHit/TArtDCTrack \u7c7b \u5b58\u50a8\u5355\u4e2a\u6253\u70b9/\u5f84\u8ff9\u4fe1\u606f SAMURAIPDC.xml \u53c2\u6570\u6587\u4ef6 PDC\u6bcf\u6839\u4e1d\u7684\u53c2\u6570\u5e93 transPDCData.C \u5b8f PDC\u539f\u59cb\u6570\u636e\u8f6c\u53ef\u8bfb\u6587\u672c RIDF2Tree.C \u5b8f RIDF\u8f6cROOT TTree\uff0c\u542bPDC\u5206\u652f RecoSAMURAI.C \u5b8f SAMURAI\u788e\u7247\u52a8\u91cf/\u8f68\u8ff9\u91cd\u5efa\uff08\u53ef\u7528PDC track\uff09 RecoTrack_wSks.C \u5b8f Runge-Kutta\u8ffd\u8e2a\u91cd\u5efa\uff08\u53ef\u7528PDC track\uff09 OnlineMonitor.s024 \u5b8f \u5728\u7ebf\u76d1\u89c6\uff0c\u652f\u6301PDC\u6570\u636e\u7684\u91cd\u5efa\u548c\u53ef\u89c6\u5316"},{"location":"sci/project/samurai/anaroot_pdc/#\u5982\u4f55\u9009\u62e9\u548c\u4f7f\u7528","title":"\u5982\u4f55\u9009\u62e9\u548c\u4f7f\u7528\uff1f","text":"<ul> <li>\u53ea\u505aPDC\u91cd\u5efa\uff1aTArtCalibPDCHit\u3001TArtCalibPDCTrack\u3002</li> <li>\u505a\u5168\u94fe\u8def\u7269\u7406\u5206\u6790\uff1a\u53ef\u5728RecoSAMURAI.C\u3001RecoTrack_wSks.C\u7b49\u5b8f\u4e2d\uff0c\u5c06FDC/BDC\u90e8\u5206\u66ff\u6362\u4e3aPDC track\uff0c\u5b9e\u73b0\u7528PDC track\u5916\u63a8\u5230\u9776\u70b9\u5e76\u91cd\u5efa\u52a8\u91cf\u3002</li> <li>\u5728\u7ebf\u76d1\u89c6\uff1a\u7528OnlineMonitor.s024\uff0c\u8bbe\u7f6efUsePDC=true\u5373\u53ef\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#pdc\u5f84\u8ff9\u91cd\u5efa\u7684\u6570\u636e\u6d41\u4e0e\u7b97\u6cd5\u5b9e\u73b0\u6d41\u7a0b","title":"PDC\u5f84\u8ff9\u91cd\u5efa\u7684\u6570\u636e\u6d41\u4e0e\u7b97\u6cd5\u5b9e\u73b0\u6d41\u7a0b","text":""},{"location":"sci/project/samurai/anaroot_pdc/#\u6570\u636e\u6d41\u7b80\u8ff0","title":"\u6570\u636e\u6d41\u7b80\u8ff0","text":"<ul> <li>\u8f93\u5165\uff1aPDC\u7684\u6240\u6709 hit\uff08TArtDCHit\uff09\uff0c\u6bcf\u4e2a hit \u6709\u7a7a\u95f4\u4f4d\u7f6e\uff08x/y/z\uff09\u3001\u6f02\u79fb\u65f6\u95f4\u7b49\u3002</li> <li>\u5904\u7406\uff1a\u5728 <code>TArtCalibPDCTrack::ReconstructData()</code> \u4e2d\uff0c\u5148\u5c06 hit \u5206\u7c7b\uff08\u6309\u5c42\u3001\u65b9\u5411\uff09\uff0c\u7136\u540e\u7528\u51e0\u4f55\u65b9\u6cd5\uff08\u5982\u52a0\u6743\u91cd\u5fc3\u3001\u76f4\u7ebf\u62df\u5408\u7b49\uff09\u91cd\u5efa\u51fa\u5f84\u8ff9\u7684\u7a7a\u95f4\u53c2\u6570\u3002</li> <li>\u8f93\u51fa\uff1a\u91cd\u5efa\u51fa\u7684\u5f84\u8ff9\u53c2\u6570\uff08\u4f4d\u7f6e\u3001\u89d2\u5ea6\u3001chi2\u7b49\uff09\u901a\u8fc7 <code>SetAngle</code>\u3001<code>SetPosition</code> \u7b49\u63a5\u53e3\u5199\u5165 TArtDCTrack \u5bf9\u8c61\u3002</li> </ul>"},{"location":"sci/project/samurai/anaroot_pdc/#\u5178\u578b\u5b9e\u73b0\u6d41\u7a0b\u4ee5\u52a0\u6743\u91cd\u5fc3\u6cd5\u4e3a\u4f8b","title":"\u5178\u578b\u5b9e\u73b0\u6d41\u7a0b\uff08\u4ee5\u52a0\u6743\u91cd\u5fc3\u6cd5\u4e3a\u4f8b\uff09","text":"<ol> <li> <p>hit \u5206\u7c7b    \u6309\u7167\u4e1d\u7684\u65b9\u5411\uff08u/x/v/y\uff09\u5c06\u6240\u6709 hit \u5206\u7c7b\uff0c\u5206\u522b\u5b58\u5165\u4e0d\u540c\u7684\u7f13\u51b2\u533a\u3002</p> </li> <li> <p>\u8ba1\u7b97\u6bcf\u4e2a\u65b9\u5411\u7684\u52a0\u6743\u91cd\u5fc3    \u5bf9\u6bcf\u4e00\u5c42\u7684 hit\uff0c\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u4f4d\u7f6e\uff08\u6743\u91cd\u901a\u5e38\u4e3a\u6f02\u79fb\u65f6\u95f4\u5dee\u6216\u4fe1\u53f7\u5f3a\u5ea6\uff09\u3002</p> </li> <li> <p>\u62df\u5408\u76f4\u7ebf\uff0c\u5f97\u5230\u89d2\u5ea6    \u7528\u52a0\u6743\u91cd\u5fc3\u70b9\u8fdb\u884c\u76f4\u7ebf\u62df\u5408\uff0c\u5f97\u5230\u659c\u7387\uff08\u5373\u89d2\u5ea6\uff09\uff1a  </p> </li> <li>X\u65b9\u5411\uff1aa = (x2 - x1)/(z2 - z1)</li> <li> <p>Y\u65b9\u5411\uff1ab = (y2 - y1)/(z2 - z1)    \u6216\u8005\u7528\u591a\u70b9\u6700\u5c0f\u4e8c\u4e58\u6cd5\u62df\u5408\u3002</p> </li> <li> <p>\u5199\u5165 TArtDCTrack    \u7528 <code>SetAngle(a, 0)</code> \u548c <code>SetAngle(b, 1)</code> \u628a\u62df\u5408\u5f97\u5230\u7684\u89d2\u5ea6\u5b58\u5165 TArtDCTrack \u7684 ca[0] \u548c ca[1]\u3002</p> </li> <li> <p>\u540e\u7eed\u8bbf\u95ee    \u901a\u8fc7 <code>GetAngle(0)</code> \u548c <code>GetAngle(1)</code> \u8bfb\u53d6 X\u3001Y \u65b9\u5411\u7684\u89d2\u5ea6\u3002</p> </li> </ol> <p>PDC \u53ea\u662f\u4e00\u4e2a\u591a\u4e1d\u6f02\u79fb\u5ba4\uff0c\u53ea\u80fd\u6d4b\u91cf\u7c92\u5b50\u7684\u7a7a\u95f4\u8f68\u8ff9\uff08x\u3001y\u3001a\u3001b\uff09\uff0c\u4e0d\u80fd\u5355\u72ec\u6d4b\u51fa\u52a8\u91cf\u3002 \u52a8\u91cf\u7684\u83b7\u5f97\u9700\u8981\u7ed3\u5408\u78c1\u573a\u4fe1\u606f\u548c\u8c31\u4eea\u7684\u4f20\u8f93\u77e9\u9635\uff08\u6216\u78c1\u573a\u8ffd\u8e2a\u7b97\u6cd5\uff09\uff0c\u901a\u5e38\u8981\u7528\u5230\u788e\u7247\u5728\u591a\u4e2a\u4f4d\u7f6e\u7684\u5f84\u8ff9\uff08\u5982FDC1\u3001FDC2\u3001BDC\u3001PDC\u7b49\uff09\u548c\u78c1\u573a\u53c2\u6570\u3002</p> <p>\u4ee3\u7801\u793a\u4f8b\uff1a <pre><code>#include &lt;sys/stat.h&gt;\n#include &lt;string&gt;\n#include &lt;set&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nvoid recoPDCTrack(const char* ridffile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0074.ridf\") {\n\n  gSystem-&gt;Load(\"libXMLParser.so\"); // \u5148\u52a0\u8f7dXML\u89e3\u6790\u5e93\n    gSystem-&gt;Load(\"libanacore.so\");\n    // \u52a0\u8f7dPDC\u53c2\u6570\n    TArtSAMURAIParameters *samuraiparameters = TArtSAMURAIParameters::Instance();\n    samuraiparameters-&gt;LoadParameter(\"../db/SAMURAIPDC.xml\");\n\n    // \u6253\u5f00RIDF\u6587\u4ef6\n    TArtEventStore *estore = new TArtEventStore();\n    estore-&gt;Open(ridffile);\n\n    // \u521d\u59cb\u5316PDC hit\u548ctrack\u91cd\u5efa\n    TArtCalibPDCHit *pdchitcalib = new TArtCalibPDCHit();\n    TArtCalibPDCTrack *pdctrackcalib = new TArtCalibPDCTrack();\n\n    TArtStoreManager *sman = TArtStoreManager::Instance();\n    TClonesArray *pdc_hit_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCHit\");\n    TClonesArray *pdc_trk_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCTrack\");\n\n    // \u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u540d\n    std::string inputFileName = std::string(ridffile);\n    size_t pos = inputFileName.find_last_of('/');\n    std::string fileName = (pos != std::string::npos) ? inputFileName.substr(pos + 1) : inputFileName;\n\n    // \u521b\u5efa\u8f93\u51faROOT\u6587\u4ef6\u548cTTree\n    const char* outputDir = \"./output\";\n    std::string outroot = std::string(outputDir) + \"/\" + fileName + \"_pdc.root\";\n    std::string outpng = std::string(outputDir) + \"/\" + fileName + \"_pdc_track_xy.png\";\n\n    TFile *fout = new TFile(outroot.c_str(), \"RECREATE\");\n    TTree *tree = new TTree(\"pdctree\", \"PDC Track Tree\");\n    int event, trackid, ndf, nhit;\n    double x, y, ax, ay, chi2;\n    tree-&gt;Branch(\"event\", &amp;event, \"event/I\");\n    tree-&gt;Branch(\"trackid\", &amp;trackid, \"trackid/I\");\n    tree-&gt;Branch(\"x\", &amp;x, \"x/D\");\n    tree-&gt;Branch(\"y\", &amp;y, \"y/D\");\n    tree-&gt;Branch(\"ax\", &amp;ax, \"ax/D\");\n    tree-&gt;Branch(\"ay\", &amp;ay, \"ay/D\");\n    tree-&gt;Branch(\"chi2\", &amp;chi2, \"chi2/D\");\n    tree-&gt;Branch(\"ndf\", &amp;ndf, \"ndf/I\");\n    tree-&gt;Branch(\"nhit\", &amp;nhit, \"nhit/I\");\n\n    int neve = 0;\n    while (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 1000) {\n        pdchitcalib-&gt;ClearData();\n        pdctrackcalib-&gt;ClearData();\n        pdchitcalib-&gt;ReconstructData();\n        pdctrackcalib-&gt;ReconstructData();\n\n        int ntrk = pdc_trk_array-&gt;GetEntries();\n        for (int i = 0; i &lt; ntrk; ++i) {\n            TArtDCTrack *trk = (TArtDCTrack*)pdc_trk_array-&gt;At(i);\n            x = trk-&gt;GetPosition(0);\n            y = trk-&gt;GetPosition(1);\n            ax = trk-&gt;GetAngle(0);\n            ay = trk-&gt;GetAngle(1);\n            chi2 = trk-&gt;GetChi2();\n            ndf = trk-&gt;GetNDF();\n            nhit = trk-&gt;GetNumHitLayer();\n            event = neve;\n            trackid = i;\n            tree-&gt;Fill();\n            std::cout &lt;&lt; \"Event: \" &lt;&lt; neve &lt;&lt; \", Track ID: \" &lt;&lt; i \n                      &lt;&lt; \", X: \" &lt;&lt; x &lt;&lt; \", Y: \" &lt;&lt; y \n                      &lt;&lt; \", Ax: \" &lt;&lt; ax &lt;&lt; \", Ay: \" &lt;&lt; ay \n                      &lt;&lt; \", Chi2: \" &lt;&lt; chi2 \n                      &lt;&lt; \", NDF: \" &lt;&lt; ndf \n                      &lt;&lt; \", NHits: \" &lt;&lt; nhit \n                      &lt;&lt; std::endl;\n        }\n        neve++;\n    }\n    tree-&gt;Write();\n\n    TCanvas *c1 = new TCanvas(\"c1\", \"PDC Track X-Y\", 800, 600);\n    tree-&gt;Draw(\"y:x&gt;&gt;hxy\", \"\", \"COLZ\");\n    c1-&gt;SaveAs(outpng.c_str());\n    delete c1;\n    std::cout &lt;&lt; \"Output ROOT file: \" &lt;&lt; outroot &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Output PNG file: \" &lt;&lt; outpng &lt;&lt; std::endl;\n\n    fout-&gt;Close();\n    delete pdchitcalib;\n    delete pdctrackcalib;\n    delete estore;\n}\n</code></pre></p>"},{"location":"sci/project/samurai/detector_samurai/","title":"SAMURAI \u5149\u8c31\u4eea\u5e26\u7535\u7c92\u5b50\u63a2\u6d4b\u5668\u8be6\u7ec6\u529f\u80fd","text":"<p>SAMURAI\uff08Superconducting Analyzer for Multi-particles from RAdioIsotope beams\uff09\u5149\u8c31\u4eea\u914d\u5907\u4e86\u591a\u79cd\u5e26\u7535\u7c92\u5b50\u63a2\u6d4b\u5668\uff0c\u7528\u4e8e\u7cbe\u786e\u6d4b\u91cf\u548c\u5206\u6790\u653e\u5c04\u6027\u540c\u4f4d\u7d20\u675f\u53cd\u5e94\u4ea7\u751f\u7684\u7c92\u5b50\u3002\u4ee5\u4e0b\u662f\u5404\u4e2a\u63a2\u6d4b\u5668\u7684\u4e3b\u8981\u529f\u80fd\uff1a</p>"},{"location":"sci/project/samurai/detector_samurai/#1-\u675f\u6d41\u7c92\u5b50\u8ffd\u8e2a\u4e0e\u9274\u5b9a","title":"1. \u675f\u6d41\u7c92\u5b50\u8ffd\u8e2a\u4e0e\u9274\u5b9a","text":"<p>\u8fd9\u4e9b\u63a2\u6d4b\u5668\u4f4d\u4e8e\u9776\u524d\uff0c\u7528\u4e8e\u7cbe\u786e\u6d4b\u91cf\u5165\u5c04\u675f\u6d41\u7c92\u5b50\u7684\u7279\u6027\u3002</p> <ul> <li>\u675f\u6d41\u6b63\u6bd4\u5ba4 (Beam Proportional Chamber, BPC)</li> <li>\u529f\u80fd\uff1a\u4e3b\u8981\u7528\u4e8e\u5728F5\u7126\u70b9\u5904\u6807\u8bb0\u675f\u6d41\u7684\u78c1\u521a\u5ea6\uff08rigidity tagging\uff09\uff0c\u5bf9\u4e8e\u786e\u5b9a\u5165\u5c04\u675f\u6d41\u7684\u52a8\u91cf\u81f3\u5173\u91cd\u8981\u3002</li> <li>\u675f\u6d41\u6f02\u79fb\u5ba41\u548c2 (Beam Drift Chamber 1, 2 - BDC1, BDC2)</li> <li>\u529f\u80fd\uff1a\u8bb0\u5f55\u675f\u6d41\u7684\u76f8\u7a7a\u95f4\u4fe1\u606f\uff08beam phase space file\uff09\uff0c\u7cbe\u786e\u6d4b\u91cf\u675f\u6d41\u7c92\u5b50\u7684\u4e8c\u7ef4\u4f4d\u7f6e\u548c\u65b9\u5411\uff0c\u8be6\u7ec6\u91cd\u5efa\u675f\u6d41\u8f68\u8ff9\u3002</li> <li>\u675f\u6d41\u79bb\u5b50\u5ba4 (Ion Chamber for Beam, ICB)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u5165\u5c04\u675f\u6d41\u7684\u7535\u8377\uff08Z\uff09\uff0c\u6709\u52a9\u4e8e\u8bc6\u522b\u675f\u6d41\u4e2d\u7684\u7c92\u5b50\u79cd\u7c7b\u3002</li> </ul>"},{"location":"sci/project/samurai/detector_samurai/#2-\u53cd\u5e94\u4ea7\u7269\u788e\u7247\u5206\u6790","title":"2. \u53cd\u5e94\u4ea7\u7269\uff08\u788e\u7247\uff09\u5206\u6790","text":"<p>\u8fd9\u4e9b\u63a2\u6d4b\u5668\u4f4d\u4e8e\u9776\u540e\uff0c\u7528\u4e8e\u5206\u6790\u53cd\u5e94\u4ea7\u751f\u7684\u5e26\u7535\u788e\u7247\u3002</p> <ul> <li>\u524d\u5411\u6f02\u79fb\u5ba41 (Forward Drift Chamber 1, FDC1)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u53cd\u5e94\u4ea7\u751f\u788e\u7247\u7684\u6563\u5c04\u89d2\uff0c\u662f\u7406\u89e3\u53cd\u5e94\u673a\u5236\u7684\u91cd\u8981\u53c2\u6570\u3002</li> <li>\u524d\u5411\u6f02\u79fb\u5ba42 (Forward Drift Chamber 2, FDC2)</li> <li>\u529f\u80fd\uff1a\u5bf9\u53cd\u5e94\u4ea7\u7269\u788e\u7247\u8fdb\u884c\u521a\u5ea6\u5206\u6790\uff0c\u7ed3\u5408\u78c1\u573a\u4fe1\u606f\u786e\u5b9a\u788e\u7247\u7684\u52a8\u91cf\u3002</li> <li>\u788e\u7247\u79bb\u5b50\u5ba4 (Ion Chamber for Fragments, ICF)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u788e\u7247\u7684\u7535\u8377\uff08Z\uff09\uff0c\u5e2e\u52a9\u8bc6\u522b\u788e\u7247\u79cd\u7c7b\uff0c\u901a\u5e38\u7ed3\u5408\u5176\u4ed6\u6d4b\u91cf\uff08\u5982\u80fd\u91cf\u635f\u5931\uff09\u533a\u5206\u4e0d\u540c\u6838\u7d20\u3002</li> <li>\u788e\u7247\u95ea\u70c1\u4f53\u9635\u5217 (Hodoscope for Fragment, HODF)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u788e\u7247\u7684\u98de\u884c\u65f6\u95f4\uff08ToF\uff09\u548c\u7535\u8377\uff08Z\uff09\u3002ToF\u4e0e\u8def\u5f84\u957f\u5ea6\u7ed3\u5408\u53ef\u5f97\u901f\u5ea6\uff0c\u8fdb\u800c\u63a8\u7b97\u8d28\u91cf\uff08\u82e5\u80fd\u91cf\u6216\u52a8\u91cf\u5df2\u77e5\uff09\u3002</li> <li>\u5168\u5185\u53cd\u5c04\u5207\u4f26\u79d1\u592b\u63a2\u6d4b\u5668 (Total Internal Reflection Cherenkov, TIRC)</li> <li>\u529f\u80fd\uff1a\u4e13\u95e8\u7528\u4e8e\u6d4b\u91cf\u788e\u7247\u7684\u98de\u884c\u65f6\u95f4\uff0c\u7cbe\u786e\u786e\u5b9a\u5176\u901f\u5ea6\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9ad8\u80fd\u788e\u7247\u9274\u522b\u3002</li> <li>\u603b\u80fd\u91cf\u63a2\u6d4b\u5668 (TED)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u5e26\u7535\u7c92\u5b50\u7684\u603b\u80fd\u91cf\uff0c\u5e38\u7528\u4e8e\u91cd\u79bb\u5b50\uff0c\u901a\u8fc7\u6d4b\u91cf\u5176\u5728\u63a2\u6d4b\u5668\u4e2d\u6c89\u79ef\u7684\u603b\u80fd\u91cf\u5e2e\u52a9\u8bc6\u522b\u7c92\u5b50\u548c\u786e\u5b9a\u521d\u59cb\u80fd\u91cf\u3002</li> </ul>"},{"location":"sci/project/samurai/detector_samurai/#3-\u8f7b\u5e26\u7535\u7c92\u5b50\u5982\u8d28\u5b50\u5206\u6790","title":"3. \u8f7b\u5e26\u7535\u7c92\u5b50\uff08\u5982\u8d28\u5b50\uff09\u5206\u6790","text":"<p>\u8fd9\u4e9b\u63a2\u6d4b\u5668\u4e13\u95e8\u7528\u4e8e\u6d4b\u91cf\u53cd\u5e94\u4e2d\u53d1\u5c04\u7684\u8f7b\u5e26\u7535\u7c92\u5b50\uff0c\u4f8b\u5982\u4ece\u975e\u675f\u7f1a\u6001\u8870\u53d8\u6216\u6572\u51fa\u53cd\u5e94\u4e2d\u4ea7\u751f\u7684\u8d28\u5b50\u3002</p> <ul> <li>\u8d28\u5b50\u6f02\u79fb\u5ba41\u548c2 (Proton Drift Chamber 1,2 - PDC1,2)</li> <li>\u529f\u80fd\uff1a\u5bf9\u8d28\u5b50\u7b49\u8f7b\u5e26\u7535\u7c92\u5b50\u8fdb\u884c\u52a8\u91cf\u5206\u6790\u3002\u901a\u5e38\u653e\u7f6e\u5728\u5206\u6790\u78c1\u94c1\u4e4b\u540e\uff0c\u901a\u8fc7\u6d4b\u91cf\u7c92\u5b50\u5728\u78c1\u573a\u4e2d\u7684\u5f2f\u66f2\u8f68\u8ff9\u786e\u5b9a\u5176\u52a8\u91cf\u3002</li> <li>\u8d28\u5b50\u95ea\u70c1\u4f53\u9635\u5217 (Hodoscope for Protons, HODP)</li> <li>\u529f\u80fd\uff1a\u6d4b\u91cf\u8d28\u5b50\u7684\u98de\u884c\u65f6\u95f4\u548c\u7535\u8377\u3002\u4e0eHODF\u7c7b\u4f3c\uff0c\u6709\u52a9\u4e8e\u786e\u5b9a\u8d28\u5b50\u7684\u901f\u5ea6\u548c\u8fdb\u884c\u7c92\u5b50\u9274\u522b\u3002</li> </ul> <p>Sources:</p> <p>https://ribf.riken.jp/SAMURAI/index.php?ChargedParticleDetector</p> <p>https://www.nishina.riken.jp/ribf/SAMURAI/tecinfo.html</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/japanese/","title":"Japanese","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/japanese/#\u4e94\u5341\u97f3\u56fe","title":"\u4e94\u5341\u97f3\u56fe","text":"\u3042\u6bb5 \u3044\u6bb5 \u3046\u6bb5 \u3048\u6bb5 \u304a\u6bb5 \u3042\u884c \u3042 (a) \u3044 (i) \u3046 (u) \u3048 (e) \u304a (o) \u304b\u884c \u304b (ka) \u304d (ki) \u304f (ku) \u3051 (ke) \u3053 (ko) \u3055\u884c \u3055 (sa) \u3057 (shi) \u3059 (su) \u305b (se) \u305d (so) \u305f\u884c \u305f (ta) \u3061 (chi) \u3064 (tsu) \u3066 (te) \u3068 (to) \u306a\u884c \u306a (na) \u306b (ni) \u306c (nu) \u306d (ne) \u306e (no) \u306f\u884c \u306f (ha) \u3072 (hi) \u3075 (fu) \u3078 (he) \u307b (ho) \u307e\u884c \u307e (ma) \u307f (mi) \u3080 (mu) \u3081 (me) \u3082 (mo) \u3084\u884c \u3084 (ya) \u3086 (yu) \u3088 (yo) \u3089\u884c \u3089 (ra) \u308a (ri) \u308b (ru) \u308c (re) \u308d (ro) \u308f\u884c \u308f (wa) \u3092 (wo) \u3093 \u3093 (n) \u3042\u6bb5 \u3044\u6bb5 \u3046\u6bb5 \u3048\u6bb5 \u304a\u6bb5 \u30a2\u884c \u30a2 (a) \u30a4 (i) \u30a6 (u) \u30a8 (e) \u30aa (o) \u30ab\u884c \u30ab (ka) \u30ad (ki) \u30af (ku) \u30b1 (ke) \u30b3 (ko) \u30b5\u884c \u30b5 (sa) \u30b7 (shi) \u30b9 (su) \u30bb (se) \u30bd (so) \u30bf\u884c \u30bf (ta) \u30c1 (chi) \u30c4 (tsu) \u30c6 (te) \u30c8 (to) \u30ca\u884c \u30ca (na) \u30cb (ni) \u30cc (nu) \u30cd (ne) \u30ce (no) \u30cf\u884c \u30cf (ha) \u30d2 (hi) \u30d5 (fu) \u30d8 (he) \u30db (ho) \u30de\u884c \u30de (ma) \u30df (mi) \u30e0 (mu) \u30e1 (me) \u30e2 (mo) \u30e4\u884c \u30e4 (ya) \u30e6 (yu) \u30e8 (yo) \u30e9\u884c \u30e9 (ra) \u30ea (ri) \u30eb (ru) \u30ec (re) \u30ed (ro) \u30ef\u884c \u30ef (wa) \u30f2 (wo) \u30f3 \u30f3 (n) \u3042\u6bb5 (a) \u3044\u6bb5 (i) \u3046\u6bb5 (u) \u3048\u6bb5 (e) \u304a\u6bb5 (o) \u3042\u884c \u3042 (a) \u3044 (i) \u3046 (u) \u3048 (e) \u304a (o) \u963f \u4f0a \u5b87 \u6c5f \u65bc \u304b\u884c \u304b (ka) \u304d (ki) \u304f (ku) \u3051 (ke) \u3053 (ko) \u52a0 \u51e0 \u4e45 \u8ba1 \u5df1 \u3055\u884c \u3055 (sa) \u3057 (shi) \u3059 (su) \u305b (se) \u305d (so) \u4f50 \u4e4b \u5bf8 \u4e16 \u66fe \u305f\u884c \u305f (ta) \u3061 (chi) \u3064 (tsu) \u3066 (te) \u3068 (to) \u592a \u77e5 \u5ddd \u5929 \u6b62 \u306a\u884c \u306a (na) \u306b (ni) \u306c (nu) \u306d (ne) \u306e (no) \u5948 \u4ec1 \u5974 \u7962 \u4e43 \u306f\u884c \u306f (ha) \u3072 (hi) \u3075 (fu) \u3078 (he) \u307b (ho) \u6ce2 \u6bd4 \u4e0d \u90e8 \u4fdd \u307e\u884c \u307e (ma) \u307f (mi) \u3080 (mu) \u3081 (me) \u3082 (mo) \u672b \u7f8e \u6b66 \u5973 \u6bdb \u3084\u884c \u3084 (ya) \u3086 (yu) \u3088 (yo) \u4e5f \u7531 \u4e0e \u3089\u884c \u3089 (ra) \u308a (ri) \u308b (ru) \u308c (re) \u308d (ro) \u826f \u5229 \u7559 \u793c \u5415 \u308f\u884c \u308f (wa) \u3092 (wo) \u548c \u8fdc \u3093 \u3093 (n) \u5c13 \u3042\u6bb5 (a) \u3044\u6bb5 (i) \u3046\u6bb5 (u) \u3048\u6bb5 (e) \u304a\u6bb5 (o) \u30a2\u884c \u30a2 (a) \u30a4 (i) \u30a6 (u) \u30a8 (e) \u30aa (o) \u963f \u4f0a \u5b87 \u6c5f \u65bc \u30ab\u884c \u30ab (ka) \u30ad (ki) \u30af (ku) \u30b1 (ke) \u30b3 (ko) \u52a0 \u51e0 \u4e45 \u8ba1 \u5df1 \u30b5\u884c \u30b5 (sa) \u30b7 (shi) \u30b9 (su) \u30bb (se) \u30bd (so) \u4f50 \u4e4b \u5bf8 \u4e16 \u66fe \u30bf\u884c \u30bf (ta) \u30c1 (chi) \u30c4 (tsu) \u30c6 (te) \u30c8 (to) \u592a \u77e5 \u5ddd \u5929 \u6b62 \u30ca\u884c \u30ca (na) \u30cb (ni) \u30cc (nu) \u30cd (ne) \u30ce (no) \u5948 \u4ec1 \u5974 \u7962 \u4e43 \u30cf\u884c \u30cf (ha) \u30d2 (hi) \u30d5 (fu) \u30d8 (he) \u30db (ho) \u6ce2 \u6bd4 \u4e0d \u90e8 \u4fdd \u30de\u884c \u30de (ma) \u30df (mi) \u30e0 (mu) \u30e1 (me) \u30e2 (mo) \u672b \u7f8e \u6b66 \u5973 \u6bdb \u30e4\u884c \u30e4 (ya) \u30e6 (yu) \u30e8 (yo) \u4e5f \u7531 \u4e0e \u30e9\u884c \u30e9 (ra) \u30ea (ri) \u30eb (ru) \u30ec (re) \u30ed (ro) \u826f \u5229 \u7559 \u793c \u5415 \u30ef\u884c \u30ef (wa) \u30f2 (wo) \u548c \u8fdc \u30f3 \u30f3 (n) \u5c13"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%8E%BB%E6%97%A5%E6%9C%AC%E5%89%8D%E6%89%93%E5%8C%85/","title":"\u767b\u673a\u524d\u6253\u5305","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%8E%BB%E6%97%A5%E6%9C%AC%E5%89%8D%E6%89%93%E5%8C%85/#life","title":"life","text":"<p>riken id card\uff0c\u62a4\u7167\uff0c\u8eab\u4efd\u8bc1\u3002</p> <p>pasmo\u5361\uff0cjcb\u94f6\u884c\u5361\uff0c master card(csc), \u4e2d\u884c\u94f6\u8054\u5361\u3002</p> <p>\u5728\u7559\u5361coe\u6253\u5370\u4ef6\uff0c\u7535\u5b50\u4ef6\u3002</p> <p>\u624b\u673a\uff0c\u5907\u7528\u7684\u624b\u673a\u3002</p> <p>\u773c\u955c\uff0c\u5907\u7528\u7684\u773c\u955c\u3002</p> <p>\u7535\u8111\uff0c\u5907\u7528\u7684\u7535\u8111\uff0c+ \u5e73\u677f\u7528\u4f5c\u5c4f\u5e55 + \u89c6\u9891\u91c7\u96c6\u5361\uff0c hdmi\u7ebf\uff0c DC\u63a5\u53e3\u5145\u7535\u7ebf\u3002 </p> <p>\u952e\u76d8\uff0c\u9f20\u6807\u3002</p> <p>\u5145\u7535\u5668*3, \u6570\u636e\u7ebf\u3002\uff08\u65e5\u672c\u7684\u5145\u7535\u5668\u5de8\u5783\u573e\uff09</p> <p>\u5145\u7535\u5b9d*2\u3002\uff08\u4e5f\u8bb8\u5feb\u9012\u8fc7\u53bb\u4e00\u5757\uff09</p> <p>\u8f6c\u6362\u63d2\u5934\u3002\uff08\u611f\u89c9\u6211\u6ca1\u67093\u811a\u63d2\u5ea7\uff0c\u6240\u4ee5\u53ef\u7565\uff1f\uff09</p> <p>U\u76d8 + \u786c\u76d8 + \u5b58\u50a8\u5361\u82e5\u5e72\u3002 </p> <p>\u94b1\u5305 + \u65e5\u5143\u73b0\u91d1\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%8E%BB%E6%97%A5%E6%9C%AC%E5%89%8D%E6%89%93%E5%8C%85/#sci","title":"sci","text":"<p>sma-lemo\u7ebf*32 \uff0cveto detector , \u6570\u636e\u91c7\u96c6\u5361\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%90%83/","title":"\u5403","text":"<p>\u5e26\u9aa8\u8089</p> <p>\u725b\u5934\u5e97,\u30aa\u30aa\u30bc\u30adm,\u4e2d\u56fd\u7269\u4ea7\u5e97</p> <p>\u7f51\u8d2d\u5fc5\u987b\u7814\u7a76\u4e00\u4e0btemu</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/","title":"\u5783\u573e\u5206\u7c7b","text":"<p>app: threeR</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#\u65e5\u672c\u5783\u573e\u5206\u7c7b\u8be6\u89e3","title":"\u65e5\u672c\u5783\u573e\u5206\u7c7b\u8be6\u89e3","text":"<p>\u65e5\u672c\u7684\u5783\u573e\u5206\u7c7b\u975e\u5e38\u7ec6\u81f4\uff0c\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u5927\u7c7b\uff1a</p> <ul> <li>\u53ef\u71c3\u5783\u573e\uff08\u71c3\u3048\u308b\u3054\u307f\uff09</li> <li>\u4e0d\u53ef\u71c3\u5783\u573e\uff08\u71c3\u3048\u306a\u3044\u3054\u307f\uff09</li> <li>\u8d44\u6e90\u5783\u573e\uff08\u8cc7\u6e90\u3054\u307f\uff09</li> <li>\u5927\u4ef6\u5783\u573e\uff08\u7c97\u5927\u3054\u307f\uff09</li> <li>\u6709\u5bb3\u5783\u573e\uff08\u6709\u5bb3\u3054\u307f\uff09</li> </ul>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#1-\u53ef\u71c3\u5783\u573e\u71c3\u3048\u308b\u3054\u307f","title":"1. \u53ef\u71c3\u5783\u573e\uff08\u71c3\u3048\u308b\u3054\u307f\uff09","text":"<p>\u5b9a\u4e49\uff1a\u53ef\u4ee5\u711a\u70e7\u5904\u7406\u7684\u5783\u573e\u3002</p> <p>\u5e38\u89c1\u4f8b\u5b50\uff1a - \u53a8\u4f59\u5783\u573e\uff08\u5269\u996d\u5269\u83dc\u3001\u679c\u76ae\u3001\u86cb\u58f3\u3001\u8336\u53f6\u6e23\u7b49\uff09 - \u7eb8\u5dfe\u3001\u9910\u5dfe\u7eb8\u3001\u536b\u751f\u7eb8 - \u76ae\u9769\u5236\u54c1\u3001\u6a61\u80f6\u5236\u54c1 - \u7834\u635f\u7684\u8863\u7269\u3001\u6bdb\u5dfe\u3001\u889c\u5b50 - \u6728\u5236\u54c1\uff08\u5c0f\u4ef6\uff09 - \u5c01\u53e3\u7684\u5ba0\u7269\u7caa\u4fbf</p> <p>\u6295\u653e\u65b9\u6cd5\uff1a - \u4f7f\u7528\u6307\u5b9a\u7684\u53ef\u71c3\u5783\u573e\u888b\uff08\u901a\u5e38\u4e3a\u534a\u900f\u660e\u767d\u8272\u6216\u7ea2\u8272\u6807\u8bc6\uff09 - \u6309\u7167\u89c4\u5b9a\u7684\u6536\u96c6\u65e5\u65e9\u4e0a\u6295\u653e</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#2-\u4e0d\u53ef\u71c3\u5783\u573e\u71c3\u3048\u306a\u3044\u3054\u307f","title":"2. \u4e0d\u53ef\u71c3\u5783\u573e\uff08\u71c3\u3048\u306a\u3044\u3054\u307f\uff09","text":"<p>\u5b9a\u4e49\uff1a\u4e0d\u80fd\u711a\u70e7\u5904\u7406\u7684\u5783\u573e\u3002</p> <p>\u5e38\u89c1\u4f8b\u5b50\uff1a - \u91d1\u5c5e\u5236\u54c1\uff08\u9505\u3001\u5200\u3001\u526a\u5200\u3001\u5c0f\u578b\u5bb6\u7535\u7b49\uff09 - \u9676\u74f7\u3001\u73bb\u7483\u5236\u54c1\uff08\u676f\u5b50\u3001\u76d8\u5b50\u3001\u788e\u73bb\u7483\u7b49\uff09 - \u5c0f\u578b\u5851\u6599\u5236\u54c1\uff08\u7259\u5237\u3001\u68b3\u5b50\u3001\u6253\u706b\u673a\u7b49\uff09 - \u706f\u6ce1\u3001\u5e72\u7535\u6c60\uff08\u90e8\u5206\u5730\u533a\u5355\u72ec\u56de\u6536\uff09</p> <p>\u6295\u653e\u65b9\u6cd5\uff1a - \u4f7f\u7528\u6307\u5b9a\u7684\u4e0d\u53ef\u71c3\u5783\u573e\u888b\uff08\u901a\u5e38\u4e3a\u84dd\u8272\u6216\u7eff\u8272\uff09 - \u6ce8\u610f\u5200\u5177\u7b49\u5c16\u9510\u7269\u54c1\u9700\u5305\u88f9\u540e\u6295\u653e</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#3-\u8d44\u6e90\u5783\u573e\u8cc7\u6e90\u3054\u307f","title":"3. \u8d44\u6e90\u5783\u573e\uff08\u8cc7\u6e90\u3054\u307f\uff09","text":"<p>\u5b9a\u4e49\uff1a\u53ef\u4ee5\u56de\u6536\u518d\u5229\u7528\u7684\u5783\u573e\u3002</p> <p>\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#31-\u5851\u6599\u5bb9\u5668\u5305\u88c5\u30d7\u30e9\u30b9\u30c1\u30c3\u30af\u5bb9\u5668\u5305\u88c5","title":"3.1 \u5851\u6599\u5bb9\u5668\u5305\u88c5\uff08\u30d7\u30e9\u30b9\u30c1\u30c3\u30af\u5bb9\u5668\u5305\u88c5\uff09","text":"<ul> <li>\u4f8b\u5b50\uff1a\u5851\u6599\u74f6\u3001\u98df\u54c1\u5305\u88c5\u76d2\u3001\u5851\u6599\u888b\u3001\u6ce1\u6cab\u5851\u6599\u7b49</li> <li>\u6295\u653e\u65b9\u6cd5\uff1a</li> <li>\u6e05\u6d17\u5e72\u51c0\uff0c\u53bb\u9664\u6b8b\u7559\u7269</li> <li>\u53bb\u9664\u74f6\u76d6\u3001\u6807\u7b7e\uff08\u90e8\u5206\u5730\u533a\u8981\u6c42\u5206\u5f00\u6295\u653e\uff09</li> <li>\u6295\u5165\u6307\u5b9a\u7684\u201c\u30d7\u30e9\u201d\u6807\u8bc6\u56de\u6536\u888b\u6216\u56de\u6536\u7bb1</li> </ul>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#32-\u73bb\u7483\u74f6\u3073\u3093","title":"3.2 \u73bb\u7483\u74f6\uff08\u3073\u3093\uff09","text":"<ul> <li>\u4f8b\u5b50\uff1a\u996e\u6599\u74f6\u3001\u8c03\u5473\u54c1\u74f6\u7b49</li> <li>\u6295\u653e\u65b9\u6cd5\uff1a</li> <li>\u6e05\u6d17\u5e72\u51c0\uff0c\u53bb\u9664\u74f6\u76d6\uff08\u91d1\u5c5e\u76d6\u5f52\u4e3a\u4e0d\u53ef\u71c3\u5783\u573e\uff09</li> <li>\u6309\u989c\u8272\u5206\u7c7b\uff08\u900f\u660e\u3001\u68d5\u8272\u3001\u5176\u4ed6\u989c\u8272\uff09\uff0c\u90e8\u5206\u5730\u533a\u6709\u4e13\u95e8\u56de\u6536\u7bb1</li> <li>\u6295\u5165\u6307\u5b9a\u7684\u73bb\u7483\u74f6\u56de\u6536\u7bb1</li> </ul>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#33-\u6613\u62c9\u7f50\u94c1\u7f50\u7f36","title":"3.3 \u6613\u62c9\u7f50/\u94c1\u7f50\uff08\u7f36\uff09","text":"<ul> <li>\u4f8b\u5b50\uff1a\u996e\u6599\u7f50\u3001\u98df\u54c1\u7f50\u5934\u7b49</li> <li>\u6295\u653e\u65b9\u6cd5\uff1a</li> <li>\u6e05\u6d17\u5e72\u51c0\uff0c\u538b\u6241\uff08\u5982\u6709\u8981\u6c42\uff09</li> <li>\u94dd\u7f50\u548c\u94c1\u7f50\u90e8\u5206\u5730\u533a\u5206\u5f00\u6295\u653e</li> <li>\u6295\u5165\u6307\u5b9a\u7684\u7f50\u7c7b\u56de\u6536\u7bb1</li> </ul>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#34-\u7eb8\u7c7b\u7d19\u985e","title":"3.4 \u7eb8\u7c7b\uff08\u7d19\u985e\uff09","text":"<ul> <li>\u4f8b\u5b50\uff1a\u62a5\u7eb8\u3001\u6742\u5fd7\u3001\u7eb8\u7bb1\u3001\u7eb8\u76d2\u3001\u725b\u5976\u76d2\u7b49</li> <li>\u6295\u653e\u65b9\u6cd5\uff1a</li> <li>\u725b\u5976\u76d2\u9700\u526a\u5f00\u3001\u6e05\u6d17\u3001\u667e\u5e72</li> <li>\u7eb8\u7bb1\u3001\u62a5\u7eb8\u3001\u6742\u5fd7\u9700\u6346\u624e\u6574\u9f50</li> <li>\u6295\u5165\u6307\u5b9a\u7684\u7eb8\u7c7b\u56de\u6536\u70b9</li> </ul> <p>\u6ce8\u610f\u4e8b\u9879\uff1a - \u8d44\u6e90\u5783\u573e\u5fc5\u987b\u6e05\u6d17\u5e72\u51c0\uff0c\u907f\u514d\u6c61\u67d3\u5176\u4ed6\u53ef\u56de\u6536\u7269\u3002 - \u6295\u653e\u65f6\u8bf7\u6309\u7167\u5f53\u5730\u89c4\u5b9a\u7684\u65f6\u95f4\u3001\u5730\u70b9\u548c\u65b9\u5f0f\u8fdb\u884c\u3002 - \u4e0d\u540c\u5730\u533a\u5206\u7c7b\u7ec6\u5219\u53ef\u80fd\u7565\u6709\u4e0d\u540c\uff0c\u5efa\u8bae\u53c2\u8003\u5f53\u5730\u5e02\u653f\u5385\u6307\u5357\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#4-\u5927\u4ef6\u5783\u573e\u7c97\u5927\u3054\u307f","title":"4. \u5927\u4ef6\u5783\u573e\uff08\u7c97\u5927\u3054\u307f\uff09","text":"<p>\u5b9a\u4e49\uff1a\u5c3a\u5bf8\u6216\u91cd\u91cf\u8d85\u8fc7\u89c4\u5b9a\u6807\u51c6\u7684\u5783\u573e\u3002</p> <p>\u5e38\u89c1\u4f8b\u5b50\uff1a - \u5bb6\u5177\uff08\u684c\u6905\u3001\u5e8a\u57ab\u3001\u8863\u67dc\u7b49\uff09 - \u5927\u578b\u5bb6\u7535\uff08\u7535\u89c6\u3001\u51b0\u7bb1\u3001\u6d17\u8863\u673a\u3001\u7a7a\u8c03\u7b49\uff09</p> <p>\u6295\u653e\u65b9\u6cd5\uff1a - \u9700\u63d0\u524d\u9884\u7ea6\uff0c\u8d2d\u4e70\u7c97\u5927\u5783\u573e\u5904\u7406\u5238\uff08\u8d34\u5728\u7269\u54c1\u4e0a\uff09 - \u6309\u6307\u5b9a\u65e5\u671f\u653e\u5230\u6307\u5b9a\u5730\u70b9</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#5-\u6709\u5bb3\u5783\u573e\u6709\u5bb3\u3054\u307f","title":"5. \u6709\u5bb3\u5783\u573e\uff08\u6709\u5bb3\u3054\u307f\uff09","text":"<p>\u5e38\u89c1\u4f8b\u5b50\uff1a - \u5e72\u7535\u6c60\u3001\u8367\u5149\u706f\u7ba1\u3001\u6c34\u94f6\u6e29\u5ea6\u8ba1\u3001\u55b7\u96fe\u7f50\u7b49</p> <p>\u6295\u653e\u65b9\u6cd5\uff1a - \u5355\u72ec\u6536\u96c6\uff0c\u6309\u6307\u5b9a\u65e5\u671f\u6295\u653e - \u4e0d\u53ef\u4e0e\u5176\u4ed6\u5783\u573e\u6df7\u5408</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#\u751f\u6d3b\u4e2d\u5e38\u89c1\u5783\u573e\u5206\u7c7b\u5bf9\u7167\u8868","title":"\u751f\u6d3b\u4e2d\u5e38\u89c1\u5783\u573e\u5206\u7c7b\u5bf9\u7167\u8868","text":"\u5783\u573e\u7c7b\u578b \u5177\u4f53\u4f8b\u5b50 \u5206\u7c7b \u5269\u996d\u5269\u83dc \u7c73\u996d\u3001\u852c\u83dc\u53f6\u3001\u679c\u76ae \u53ef\u71c3\u5783\u573e \u5851\u6599\u996e\u6599\u74f6 \u77ff\u6cc9\u6c34\u74f6\u3001\u996e\u6599\u74f6 \u8d44\u6e90\u5783\u573e \u73bb\u7483\u676f \u7834\u635f\u73bb\u7483\u676f \u4e0d\u53ef\u71c3\u5783\u573e \u7eb8\u7bb1 \u5feb\u9012\u7eb8\u7bb1\u3001\u5305\u88c5\u76d2 \u8d44\u6e90\u5783\u573e \u65e7\u8863\u670d \u7834\u635f\u8863\u7269\u3001\u889c\u5b50 \u53ef\u71c3\u5783\u573e \u5e72\u7535\u6c60 5\u53f7\u30017\u53f7\u7535\u6c60 \u6709\u5bb3\u5783\u573e \u9505\u3001\u5200 \u65e7\u9505\u3001\u526a\u5200 \u4e0d\u53ef\u71c3\u5783\u573e \u725b\u5976\u76d2 \u7eb8\u8d28\u725b\u5976\u76d2 \u8d44\u6e90\u5783\u573e \u706f\u6ce1 \u767d\u70bd\u706f\u3001\u8367\u5149\u706f \u6709\u5bb3\u5783\u573e \u6253\u706b\u673a \u7528\u5b8c\u7684\u6253\u706b\u673a \u4e0d\u53ef\u71c3\u5783\u573e \u5ba0\u7269\u7caa\u4fbf \u732b\u7802\u3001\u72d7\u4fbf \u53ef\u71c3\u5783\u573e \u65e7\u62a5\u7eb8 \u62a5\u7eb8\u3001\u6742\u5fd7 \u8d44\u6e90\u5783\u573e \u5bb6\u5177 \u684c\u5b50\u3001\u6905\u5b50\u3001\u5e8a\u57ab \u5927\u4ef6\u5783\u573e"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E5%9E%83%E5%9C%BE%E5%88%86%E7%B1%BB/#\u6ce8\u610f\u4e8b\u9879","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u4e0d\u540c\u5730\u533a\u5206\u7c7b\u6807\u51c6\u7565\u6709\u5dee\u5f02\uff0c\u8bf7\u4ee5\u5f53\u5730\u5e02\u653f\u5385\u516c\u5e03\u4e3a\u51c6\u3002</li> <li>\u6295\u653e\u65f6\u95f4\u3001\u5783\u573e\u888b\u989c\u8272\u3001\u56de\u6536\u9891\u7387\u7b49\u9700\u9075\u5b88\u5c0f\u533a\u89c4\u5b9a\u3002</li> <li>\u8d44\u6e90\u5783\u573e\u9700\u6e05\u6d17\u5e72\u51c0\uff0c\u907f\u514d\u6c61\u67d3\u3002</li> <li>\u7c97\u5927\u5783\u573e\u9700\u63d0\u524d\u9884\u7ea6\uff0c\u4e0d\u80fd\u968f\u610f\u4e22\u5f03\u3002</li> </ul>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E6%8E%A5%E6%94%B6%E5%BF%AB%E9%80%92/","title":"\u63a5\u53d7\u5feb\u9012","text":"<p>\u4e00\u822c\u9700\u8981\u672c\u4eba\u7b7e\u6536\u3002</p> <p>\u5047\u5982\u7559\u4e86\u8fd9\u4e2a\uff0c\u4e5f\u8bb8\u80fd\u653e\u5728\u95e8\u524d\u3002</p> <pre><code>\u914d\u9054\u54e1\u69d8:\n\n\u914d\u9054\u3057\u3066\u6765\u308b\u8377\u7269\u306f\u7384\u95a2\u306e\u524d\u306b\u7f6e\u3044\u3066\u304f\n\u3060\u3055\u3044\u3002 \u3088\u308d\u3057\u304f\u304a\u9858\u3044\u7533\u3057\u4e0a\u3052\u307e\u3059\u3002\n\nTHANK YOU :)\n</code></pre> <p>\u90e8\u5206\u7f51\u8d2d\u5e73\u53f0\u652f\u6301\u9001\u5230\u4fbf\u5229\u5e97\uff0c\u4e0d\u662f\u6240\u6709\u3002\u78b0\u5de7\u662f\u9ed1\u732byamato\u8fd0\u8f93\u7684\u8bdd\uff0c\u53d1\u8d27\u540e\u53ef\u4ee5\u6ce8\u518c\u4f1a\u5458\u5e76\u7533\u8bf7\u6539\u5230\u4fbf\u5229\u5e97\u53d6\u8d27\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E6%97%A5%E7%89%88%E6%89%8B%E6%9C%BAfelica%E8%8A%AF%E7%89%87/","title":"\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u5237\u673a\u540e FeliCa NFC \u53ca Suica \u4f7f\u7528\u60c5\u51b5\u5206\u6790","text":"<p>1. \u5f15\u8a00 FeliCa NFC \u6280\u672f\u662f\u7531\u7d22\u5c3c\u516c\u53f8\u5f00\u53d1\u7684\u4e00\u79cd\u975e\u63a5\u89e6\u5f0f RFID \u667a\u80fd\u5361\u7cfb\u7edf\uff0c\u5728\u65e5\u672c\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7535\u5b50\u8d27\u5e01\u3001\u516c\u5171\u4ea4\u901a\u7b49\u9886\u57df 1\u3002\u8be5\u6280\u672f\u4ee5\u5176\u5feb\u901f\u7684\u4ea4\u6613\u901f\u5ea6\u548c\u9ad8\u5ea6\u7684\u5b89\u5168\u6027\u800c\u95fb\u540d\uff0c\u975e\u5e38\u9002\u5408\u9700\u8981\u5904\u7406\u5927\u91cf\u4ea4\u6613\u7684\u573a\u666f 2\u3002\u4f8b\u5982\uff0c\u5728\u4ea4\u901a\u51fa\u884c\u65b9\u9762\uff0cFeliCa \u6280\u672f\u88ab\u7528\u4e8e\u5404\u79cd\u7535\u5b50\u4ea4\u901a\u5361\uff0c\u5176\u4e2d\u6700\u8457\u540d\u7684\u5f53\u5c5e\u7531\u4e1c\u65e5\u672c\u65c5\u5ba2\u94c1\u9053\u682a\u5f0f\u4f1a\u793e\uff08JR East\uff09\u53d1\u884c\u7684 Suica\uff08\u897f\u74dc\u5361\uff091\u3002Suica \u4e0d\u4ec5\u53ef\u4ee5\u7528\u4f5c\u4e58\u5750\u706b\u8f66\u548c\u516c\u4ea4\u7684\u652f\u4ed8\u5de5\u5177\uff0c\u8fd8\u53ef\u4ee5\u5728\u8bb8\u591a\u5546\u5e97\u4f5c\u4e3a\u7535\u5b50\u8d27\u5e01\u4f7f\u7528 7\u3002\u9274\u4e8e FeliCa \u548c Suica \u5728\u65e5\u672c\u65e5\u5e38\u751f\u6d3b\u4e2d\u626e\u6f14\u7740\u91cd\u8981\u7684\u89d2\u8272\uff0c\u7528\u6237\u5bf9\u4e8e\u65e5\u7248\u624b\u673a\u5237\u5165\u975e\u65e5\u672c\u7248\u672c\u7cfb\u7edf\u540e\u662f\u5426\u4f1a\u5f71\u54cd\u5176 FeliCa NFC \u529f\u80fd\uff08\u7279\u522b\u662f Suica \u7684\u4f7f\u7528\uff09\u975e\u5e38\u5173\u6ce8\u3002\u540c\u65f6\uff0c\u7528\u6237\u4e5f\u5e0c\u671b\u4e86\u89e3\u5237\u56de\u539f\u59cb\u65e5\u7248\u7cfb\u7edf\u662f\u5426\u80fd\u591f\u4fdd\u8bc1 FeliCa NFC \u529f\u80fd\u7684\u6062\u590d\u3002\u672c\u62a5\u544a\u5c06\u4ee5\u7d22\u5c3c Xperia 1 II \u4e3a\u4f8b\uff0c\u6df1\u5165\u5206\u6790\u5237\u673a\u64cd\u4f5c\u5bf9 FeliCa NFC \u529f\u80fd\u7684\u5f71\u54cd\u4ee5\u53ca\u6062\u590d\u7684\u53ef\u80fd\u6027\u3002 2. FeliCa NFC \u6280\u672f\u539f\u7406\u53ca\u5e94\u7528</p> <ul> <li>2.1 \u6280\u672f\u57fa\u7840   FeliCa \u662f\u4e00\u79cd\u8fd1\u8ddd\u79bb\u65e0\u7ebf\u901a\u4fe1\uff08NFC\uff09\u6280\u672f\uff0c\u66f4\u5177\u4f53\u5730\u8bf4\u662f NFC Type-F\uff0c\u5176\u6280\u672f\u89c4\u8303\u7b26\u5408\u65e5\u672c\u5de5\u4e1a\u6807\u51c6 JIS X 6319-4 1\u3002\u5728 NFC \u7684\u6846\u67b6\u4e0b\uff0c\u5b58\u5728 Type-A\u3001Type-B \u548c Type-C \u7b49\u6807\u51c6\uff0c\u800c FeliCa \u5219\u5c5e\u4e8e Type-F 3\u3002FeliCa \u4e0e\u5176\u4ed6 NFC \u6280\u672f\u5171\u4eab 13.56 MHz \u7684\u5de5\u4f5c\u9891\u7387\uff0c\u5176\u65e0\u7ebf\u901a\u4fe1\u8ddd\u79bb\u901a\u5e38\u5728 2 \u81f3 10 \u5398\u7c73\u4ee5\u5185 1\u3002FeliCa \u7684\u72ec\u7279\u4e4b\u5904\u5728\u4e8e\u5176\u4f18\u5316\u7684\u5b89\u5168\u7ed3\u6784\u548c\u66f4\u9ad8\u7684\u901a\u4fe1\u901f\u5ea6 3\u3002\u4f8b\u5982\uff0cFeliCa \u7684\u6570\u636e\u4f20\u8f93\u901f\u5ea6\u53ef\u4ee5\u9ad8\u8fbe 424 kbit/s \u751a\u81f3 847 kbps\uff0c\u8fd9\u4f7f\u5f97\u4ea4\u6613\u80fd\u591f\u5728\u7ea6 0.1 \u79d2\u5185\u5b8c\u6210 2\u3002\u8fd9\u79cd\u9ad8\u901f\u7279\u6027\u662f\u5176\u5728\u65e5\u672c\u9ad8\u6d41\u91cf\u573a\u666f\uff08\u5982\u706b\u8f66\u7ad9\uff09\u88ab\u5e7f\u6cdb\u91c7\u7528\u7684\u5173\u952e\u539f\u56e0 8\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u65e0\u8bba\u662f FeliCa \u5361\u7247\u8fd8\u662f\u79fb\u52a8\u8bbe\u5907\u4e2d\u7684 FeliCa \u5b9e\u73b0\uff0c\u90fd\u4f9d\u8d56\u4e8e\u8bfb\u5361\u5668\u63d0\u4f9b\u7684\u5916\u90e8\u7535\u6e90\u8fdb\u884c\u5de5\u4f5c\uff0c\u81ea\u8eab\u65e0\u9700\u7535\u6c60 1\u3002\u5b89\u5168\u6027\u65b9\u9762\uff0cFeliCa \u91c7\u7528\u4e86\u52a8\u6001\u751f\u6210\u7684\u52a0\u5bc6\u5bc6\u94a5\uff0c\u6bcf\u6b21\u76f8\u4e92\u8ba4\u8bc1\u65f6\u90fd\u4f1a\u751f\u6210\u65b0\u7684\u5bc6\u94a5\uff0c\u6709\u6548\u9632\u6b62\u6b3a\u8bc8\u884c\u4e3a 1\u3002\u8f83\u65b0\u7248\u672c\u7684 FeliCa IC \u82af\u7247\u8fd8\u91c7\u7528\u4e86\u5148\u8fdb\u7684\u52a0\u5bc6\u6807\u51c6\uff08AES\uff09\u4ee5\u63d0\u5347\u5b89\u5168\u6027 1\u3002FeliCa \u6280\u672f\u4e0d\u4ec5\u7b26\u5408 JIS X 6319-4 \u6807\u51c6\uff0c\u5e76\u7531\u65e5\u672c IC \u5361\u7cfb\u7edf\u5e94\u7528\u59d4\u5458\u4f1a\uff08JICSAP\uff09\u76d1\u7ba1\uff0c\u540c\u65f6\u4e5f\u88ab\u7eb3\u5165 NFC \u8bba\u575b\u89c4\u8303\u7684\u5408\u89c4\u6027\u8981\u6c42\u4e2d 1\u3002  </li> <li>2.2 \u5728\u65e5\u672c\u7684\u5e94\u7528\u4e0e\u666e\u53ca   FeliCa \u5728\u65e5\u672c\u662f\u4e8b\u5b9e\u4e0a\u7684\u975e\u63a5\u89e6\u5f0f\u667a\u80fd\u5361\u7cfb\u7edf\u6807\u51c6 1\u3002\u5176\u5e94\u7528\u8303\u56f4\u6781\u5176\u5e7f\u6cdb\uff0c\u6db5\u76d6\u4e86\u4eba\u4eec\u65e5\u5e38\u751f\u6d3b\u7684\u591a\u4e2a\u65b9\u9762 1\u3002\u4e3b\u8981\u7684\u7535\u5b50\u8d27\u5e01\u5305\u62ec Edy\u3001Rakuten Edy\u3001nanaco \u548c WAON \u7b49 1\u3002\u5728\u516c\u5171\u4ea4\u901a\u9886\u57df\uff0cSuica\u3001PASMO \u548c ICOCA \u7b49\u90fd\u662f\u57fa\u4e8e FeliCa \u6280\u672f\u7684\u4ea4\u901a\u5361 1\u3002\u6b64\u5916\uff0cFeliCa \u8fd8\u88ab\u7528\u4f5c\u7535\u5b50\u8eab\u4efd\u8bc1\uff08\u5982\u5b66\u751f\u8bc1\u3001\u5458\u5de5\u5361\u548c\u4f4f\u5b85\u95e8\u7981\u5361\uff09\u3001\u7535\u5b50\u7968\u52a1\u548c\u4f1a\u5458\u5361\uff08\u5982\u767b\u673a\u724c\u3001\u96f6\u552e\u5e97\u548c\u4f53\u80b2\u4ff1\u4e50\u90e8\u4f1a\u5458\u5361\uff09\u3001\u7535\u5b50\u7533\u8bf7\u4ee5\u53ca\u6d88\u8d39\u7535\u5b50\u548c\u7269\u8054\u7f51\u8bbe\u5907\u7684\u6388\u6743 2\u3002\u7279\u522b\u503c\u5f97\u4e00\u63d0\u7684\u662f\u201cMobile FeliCa\u201d\u548c\u201cOsaifu-Keitai\u201d\uff08\u624b\u673a\u94b1\u5305\uff09\u7cfb\u7edf 1\u3002Mobile FeliCa \u662f\u7d22\u5c3c\u9488\u5bf9\u79fb\u52a8\u8bbe\u5907\u5f00\u53d1\u7684 FeliCa \u6280\u672f 1\uff0c\u800c Osaifu-Keitai \u5219\u662f\u65e5\u672c\u6807\u51c6\u7684\u79fb\u52a8\u652f\u4ed8\u7cfb\u7edf\uff0c\u5b83\u5229\u7528 Mobile FeliCa IC \u82af\u7247\uff0c\u5141\u8bb8\u7528\u6237\u5728\u4e00\u53f0\u624b\u673a\u4e0a\u4f7f\u7528\u591a\u79cd FeliCa \u670d\u52a1\uff0c\u4f8b\u5982 Suica \u548c Edy 1\u3002Osaifu-Keitai \u7cfb\u7edf\u7684\u4fbf\u5229\u6027\u4f7f\u5176\u5728\u65e5\u672c\u7684\u79fb\u52a8\u652f\u4ed8\u751f\u6001\u7cfb\u7edf\u4e2d\u5360\u636e\u6838\u5fc3\u5730\u4f4d\u3002\u4e3a\u4e86\u9002\u5e94\u65e5\u672c\u5e02\u573a\uff0c\u5305\u62ec\u82f9\u679c\u548c\u8c37\u6b4c\u5728\u5185\u7684\u4e3b\u8981\u667a\u80fd\u624b\u673a\u5e73\u53f0\u90fd\u5df2\u5c06 FeliCa \u6280\u672f\u96c6\u6210\u5230\u5176\u4ea7\u54c1\u4e2d\u3002\u4f8b\u5982\uff0c\u5728\u65e5\u672c\u9500\u552e\u7684 iPhone \u548c Apple Watch \u652f\u6301\u901a\u8fc7 Apple Pay \u4f7f\u7528 Suica 1\uff0c\u800c\u65e5\u672c\u9500\u552e\u7684 Pixel \u624b\u673a\u4e5f\u901a\u8fc7 Google Pay \u548c Osaifu-Keitai \u7cfb\u7edf\u652f\u6301 FeliCa 1\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u652f\u6301\u901a\u5e38\u4ec5\u9650\u4e8e\u5728\u65e5\u672c\u8d2d\u4e70\u7684\u578b\u53f7 1\u3002FeliCa \u5728\u65e5\u672c\u7684\u5e7f\u6cdb\u5e94\u7528\u548c\u6df1\u5ea6\u96c6\u6210\uff0c\u4f7f\u5f97\u62e5\u6709 FeliCa \u529f\u80fd\u5bf9\u4e8e\u5728\u65e5\u672c\u751f\u6d3b\u6216\u65c5\u884c\u7684\u7528\u6237\u6765\u8bf4\u81f3\u5173\u91cd\u8981\u3002</li> </ul> <p>3. FeliCa \u5728\u65e5\u7248\u624b\u673a\u4e2d\u7684\u96c6\u6210</p> <ul> <li>3.1 \u786c\u4ef6\u7ec4\u4ef6   \u65e5\u7248\u624b\u673a\u5b9e\u73b0 FeliCa \u529f\u80fd\u901a\u5e38\u4f9d\u8d56\u4e8e\u8bbe\u5907\u5185\u90e8\u5d4c\u5165\u7684\u4e13\u7528\u786c\u4ef6\u82af\u7247 12\u3002\u8fd9\u4e2a\u82af\u7247\u4e0e\u7528\u4e8e\u5176\u4ed6\u975e\u63a5\u89e6\u5f0f\u6280\u672f\uff08\u5982 Visa/Mastercard PayWave\uff09\u7684\u6807\u51c6 NFC \u82af\u7247\u662f\u4e0d\u540c\u7684 12\u3002\u867d\u7136\u4e00\u4e9b\u5168\u7403\u53d1\u552e\u7684\u624b\u673a\u578b\u53f7\u53ef\u80fd\u914d\u5907\u4e86\u80fd\u591f\u8fdb\u884c\u90e8\u5206 FeliCa \u901a\u4fe1\uff08NFC-F\uff09\u7684 NFC \u82af\u7247\uff0c\u4f46\u5728\u65e5\u672c\u5b8c\u6574\u7684 FeliCa \u751f\u6001\u7cfb\u7edf\uff0c\u7279\u522b\u662f\u6d89\u53ca\u91d1\u878d\u6570\u636e\uff08\u5982 Suica \u4f59\u989d\uff09\u7684\u5b89\u5168\u4ea4\u6613\uff0c\u5f80\u5f80\u9700\u8981\u8fd9\u4e2a\u4e13\u7528\u7684 FeliCa \u786c\u4ef6 12\u3002\u4f8b\u5982\uff0c\u5c3d\u7ba1\u5168\u7403\u7248\u672c\u7684\u67d0\u4e9b\u624b\u673a\u53ef\u80fd\u62e5\u6709\u80fd\u591f\u652f\u6301 FeliCa \u7684 NFC \u82af\u7247\uff0c\u4f46\u5728\u5176\u5168\u7403 ROM \u4e2d\uff0c\u6b64\u529f\u80fd\u5e76\u672a\u88ab\u914d\u7f6e\u6216\u542f\u7528 17\u3002\u5bf9\u4e8e\u5b89\u5353\u624b\u673a\u800c\u8a00\uff0c\u662f\u5426\u652f\u6301 FeliCa \u901a\u5e38\u53d6\u51b3\u4e8e\u5236\u9020\u5546\u662f\u5426\u83b7\u5f97\u4e86\u76f8\u5173\u7684 FeliCa \u6388\u6743\uff0c\u5e76\u5728\u4e3a\u65e5\u672c\u5e02\u573a\u751f\u4ea7\u7684\u624b\u673a\u4e2d\u96c6\u6210\u4e86\u5fc5\u8981\u7684\u786c\u4ef6 12\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u975e\u6240\u6709\u5728\u65e5\u672c\u9500\u552e\u7684\u5b89\u5353\u624b\u673a\u90fd\u5177\u5907 FeliCa \u529f\u80fd\uff0c\u8fd9\u8868\u660e\u5236\u9020\u5546\u5728\u4e3a\u4e0d\u540c\u5e02\u573a\u548c\u578b\u53f7\u914d\u7f6e\u786c\u4ef6\u65f6\u4f1a\u505a\u51fa\u7279\u5b9a\u7684\u9009\u62e9 12\u3002  </li> <li>3.2 \u8f6f\u4ef6\u4e0e\u4e2d\u95f4\u4ef6   \u9664\u4e86\u786c\u4ef6\u4e4b\u5916\uff0c\u8f6f\u4ef6\u9a71\u52a8\u7a0b\u5e8f\u548c\u4e2d\u95f4\u4ef6\u5728\u5b9e\u73b0 FeliCa \u529f\u80fd\u65b9\u9762\u4e5f\u8d77\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\u3002\u8fd9\u4e9b\u7ec4\u4ef6\u901a\u5e38\u662f\u9488\u5bf9\u65e5\u672c\u5e02\u573a\u7279\u5b9a\u7684\uff0c\u53ef\u80fd\u4e0d\u4f1a\u5305\u542b\u5728\u5168\u7403 ROM \u4e2d 18\u3002Osaifu-Keitai \u6846\u67b6\u7684\u91cd\u8981\u6027\u4e0d\u5bb9\u5ffd\u89c6\uff0c\u5b83\u4e3a\u5404\u79cd\u57fa\u4e8e FeliCa \u7684\u670d\u52a1\u63d0\u4f9b\u4e86\u5fc5\u8981\u7684 API \u548c\u7cfb\u7edf\u7ea7\u96c6\u6210 1\u3002Osaifu-Keitai \u7cfb\u7edf\u662f\u65e5\u672c\u6807\u51c6\u7684\u79fb\u52a8\u652f\u4ed8\u7cfb\u7edf\uff0c\u5b83\u4f7f\u7528\u7d22\u5c3c\u7684 Mobile FeliCa IC \u82af\u7247 1\u3002\u8be5\u6846\u67b6\u901a\u8fc7\u67e5\u627e\u7cfb\u7edf\u8def\u5f84\u4e2d\u7684\u7279\u5b9a\u914d\u7f6e\u6587\u4ef6\u6765\u5224\u65ad\u662f\u5426\u652f\u6301 FeliCa 19\u3002\u5982\u679c\u975e\u65e5\u7248 ROM \u4e2d\u7f3a\u5c11\u8fd9\u4e9b\u6587\u4ef6\uff0c\u7cfb\u7edf\u5c06\u62a5\u544a\u4e0d\u652f\u6301 FeliCa\u3002\u8bf8\u5982 Mobile Suica \u8fd9\u6837\u7684\u5e94\u7528\u7a0b\u5e8f\u4e5f\u4f9d\u8d56\u4e8e Osaifu-Keitai \u6846\u67b6\u624d\u80fd\u4e0e FeliCa \u786c\u4ef6\u8fdb\u884c\u4ea4\u4e92 1\u3002\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u901a\u5e38\u662f\u4e3a\u65e5\u672c\u7684\u8f6f\u4ef6\u751f\u6001\u7cfb\u7edf\u8bbe\u8ba1\u7684\uff0c\u53ef\u80fd\u65e0\u6cd5\u5728\u8fd0\u884c\u975e\u65e5\u7248 ROM \u7684\u624b\u673a\u4e0a\u6b63\u5e38\u5b89\u88c5\u6216\u4f7f\u7528\u3002\u6b64\u5916\uff0c\u5373\u4f7f\u786c\u4ef6\u5b58\u5728\uff0cROM \u4e5f\u9700\u8981\u8fdb\u884c\u9002\u5f53\u7684\u914d\u7f6e\u4ee5\u6b63\u786e\u8def\u7531 FeliCa\uff08Type F\uff09\u901a\u4fe1\u3002\u7531\u4e8e\u4e0d\u540c SKU \u7684\u914d\u7f6e\u5dee\u5f02\uff0c\u8fd9\u79cd\u8def\u7531\u5728\u81ea\u5b9a\u4e49 ROM \u4e2d\u53ef\u80fd\u4f1a\u4e2d\u65ad\uff0c\u5bfc\u81f4\u624b\u673a\u65e0\u6cd5\u4f5c\u4e3a\u865a\u62df\u5361\u4f7f\u7528 18\u3002</li> </ul> <p>4. \u5237\u5165\u975e\u65e5\u7248 ROM \u5bf9 FeliCa \u529f\u80fd\u7684\u5f71\u54cd</p> <ul> <li>4.1 \u7f3a\u5c11\u9a71\u52a8\u548c\u914d\u7f6e   \u5bf9\u4e8e\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u800c\u8a00\uff0c\u5237\u5165\u5168\u7403\u7248\u6216\u5176\u4ed6\u975e\u65e5\u672c\u7248\u672c\u7684 ROM \u5f88\u53ef\u80fd\u5bfc\u81f4 FeliCa \u529f\u80fd\u5931\u6548\u3002\u8fd9\u662f\u56e0\u4e3a\u975e\u65e5\u7248 ROM \u901a\u5e38\u4e0d\u5305\u542b\u4e0e\u65e5\u7248\u624b\u673a\u4e2d FeliCa \u786c\u4ef6\u8fdb\u884c\u4ea4\u4e92\u6240\u9700\u7684\u7279\u5b9a\u9a71\u52a8\u7a0b\u5e8f 18\u3002\u6b64\u5916\uff0c\u542f\u7528 Android \u7cfb\u7edf\u4e2d FeliCa \u8def\u7531\u548c\u529f\u80fd\u7684\u7cfb\u7edf\u7ea7\u914d\u7f6e\u6587\u4ef6\u4e5f\u53ef\u80fd\u4e0d\u540c\u6216\u5b8c\u5168\u7f3a\u5931 18\u3002\u7528\u6237\u62a5\u544a\u4e5f\u8bc1\u5b9e\u4e86\u8fd9\u4e00\u70b9\u3002\u4f8b\u5982\uff0c\u6709\u7528\u6237\u53cd\u6620\u5728\u5c06\u65e5\u7248\u7d22\u5c3c Xperia XZ2 Premium \u5237\u5165\u5168\u7403\u7248 ROM \u540e\uff0cNFC \u529f\u80fd\u5b8c\u5168\u5931\u6548 20\u3002\u8fd9\u8868\u660e\uff0c\u5168\u7403\u7248 ROM \u7531\u4e8e\u7f3a\u5c11\u7279\u5b9a\u7684\u9a71\u52a8\u548c\u914d\u7f6e\uff0c\u65e0\u6cd5\u652f\u6301\u65e5\u7248\u624b\u673a\u4e2d\u7684 FeliCa \u786c\u4ef6\u3002  </li> <li>4.2 Osaifu-Keitai \u53ca\u76f8\u5173\u5e94\u7528\u7f3a\u5931   Osaifu-Keitai \u5e94\u7528\u7a0b\u5e8f\u53ca\u5176\u5e95\u5c42\u6846\u67b6\u901a\u5e38\u9884\u88c5\u5728\u65e5\u7248 ROM \u4e2d\u6216\u53ef\u4ee5\u65b9\u4fbf\u5730\u83b7\u53d6\u5230\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u53ef\u80fd\u4e0d\u4f1a\u5305\u542b\u5728\u5168\u7403\u7248 ROM \u4e2d\uff0c\u6216\u8005\u5373\u4f7f\u5b58\u5728\u4e5f\u53ef\u80fd\u7531\u4e8e\u7f3a\u5c11\u5fc5\u8981\u7684\u4f9d\u8d56\u9879\u800c\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c 18\u3002\u81ea\u5b9a\u4e49 ROM \u7684\u5f00\u53d1\u8005\u751a\u81f3\u53ef\u80fd\u4f1a\u79fb\u9664\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u6216\u901a\u8fc7\u79fb\u9664\u5185\u6838\u6216\u8bbe\u5907\u8282\u70b9\u4e2d\u7684\u9a71\u52a8\u7a0b\u5e8f\u6765\u7834\u574f\u5176\u529f\u80fd 18\u3002\u7531\u4e8e Suica \u7b49\u5e94\u7528\u7a0b\u5e8f\u4f9d\u8d56\u4e8e Osaifu-Keitai \u6846\u67b6\u8fdb\u884c\u5b89\u5168\u7684\u4ea4\u6613\u7ba1\u7406\uff0c\u56e0\u6b64\uff0c\u5373\u4f7f\u67d0\u4e9b\u57fa\u672c\u7684 NFC-F \u901a\u4fe1\u5728\u5237\u5165\u5168\u7403\u7248 ROM \u540e\u4ecd\u7136\u53ef\u80fd\u5b58\u5728\uff0c\u4f46\u7531\u4e8e\u7f3a\u5c11 Osaifu-Keitai \u6846\u67b6\uff0cFeliCa \u7684\u4e3b\u8981\u529f\u80fd\uff08\u5982\u4f7f\u7528 Suica\uff09\u5c06\u65e0\u6cd5\u5b9e\u73b0\u3002  </li> <li>4.3 \u533a\u57df\u9501\u5b9a\u548c\u8f6f\u4ef6\u6807\u5fd7   \u65e5\u7248 ROM \u4e2d\u53ef\u80fd\u5b58\u5728\u7279\u5b9a\u7684\u8f6f\u4ef6\u6807\u5fd7\u6216\u533a\u57df\u9501\u5b9a\uff0c\u4e13\u95e8\u7528\u4e8e\u542f\u7528 FeliCa \u529f\u80fd\u3002\u8fd9\u4e9b\u6807\u5fd7\u5728\u975e\u65e5\u7248 ROM \u4e2d\u53ef\u80fd\u4e0d\u5b58\u5728\u6216\u8bbe\u7f6e\u4e0d\u540c\uff0c\u4ece\u800c\u963b\u6b62 FeliCa \u529f\u80fd\u7684\u6fc0\u6d3b 16\u3002\u4f8b\u5982\uff0c\u6709\u7528\u6237\u63d0\u5230\uff0c\u5c3d\u7ba1\u67d0\u4e9b\u624b\u673a\u53ef\u80fd\u5df2\u7ecf\u5177\u5907\u5fc5\u8981\u7684\u786c\u4ef6\uff0c\u4f46\u8c37\u6b4c\u53ef\u80fd\u4f1a\u901a\u8fc7\u578b\u53f7\u548c\u529f\u80fd\u6807\u5fd7\u6765\u9501\u5b9a FeliCa \u529f\u80fd 21\u3002\u6b64\u5916\uff0c\u5728\u65e5\u672c\u9500\u552e\u5e76\u652f\u6301 NFC \u7684\u5b89\u5353\u624b\u673a\u901a\u5e38\u90fd\u5e94\u8be5\u652f\u6301 NFC-F\uff0c\u4f46\u8fd9\u901a\u5e38\u6307\u7684\u662f\u4e3a\u65e5\u672c\u5e02\u573a\u9500\u552e\u7684\u624b\u673a\uff0c\u800c\u975e\u5168\u7403\u5e02\u573a\u7248\u672c 21\u3002\u8fd9\u6697\u793a\u4e86\u8f6f\u4ef6\u914d\u7f6e\u5bf9\u4e8e\u542f\u7528 FeliCa \u529f\u80fd\u7684\u91cd\u8981\u6027\u3002\u5373\u4f7f\u67d0\u4e9b\u5168\u7403\u7248\u624b\u673a\u7684 NFC \u82af\u7247\u53ef\u80fd\u5728\u786c\u4ef6\u4e0a\u652f\u6301 FeliCa\uff0c\u4f46\u7531\u4e8e\u7f3a\u5c11\u76f8\u5e94\u7684\u8f6f\u4ef6\u6807\u5fd7\u548c\u914d\u7f6e\uff0c\u8be5\u529f\u80fd\u4e5f\u53ef\u80fd\u65e0\u6cd5\u4f7f\u7528 16\u3002</li> </ul> <p>5. \u7d22\u5c3c Xperia 1 II \u4e0e FeliCa \u652f\u6301</p> <ul> <li>5.1 \u65e5\u7248\u578b\u53f7\u4e0e FeliCa \u786c\u4ef6   \u53ef\u4ee5\u786e\u8ba4\u7684\u662f\uff0c\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u578b\u53f7\uff08\u5982 SO-51A\u3001SOG01 \u548c XQ-AT42\uff09\u786e\u5b9e\u914d\u5907\u4e86 FeliCa \u786c\u4ef6 14\u3002\u6709\u660e\u786e\u6307\u51fa\uff0c\u6240\u6709\u65e5\u7248\u578b\u53f7\u90fd\u652f\u6301\u201cFelica\u201d\u652f\u4ed8\uff0c\u8fd9\u6697\u793a\u4e86\u76f8\u5173\u786c\u4ef6\u7684\u5b58\u5728 14\u3002\u4e0e\u4e4b\u76f8\u53cd\uff0c\u5168\u7403\u53d1\u552e\u7684 Xperia 1 II \u578b\u53f7\u901a\u5e38\u4e0d\u5305\u542b\u8fd9\u79cd\u4e13\u7528\u7684 FeliCa \u786c\u4ef6 14\u3002\u6709\u7528\u6237\u63d0\u5230\uff0cFeliCa \u82af\u7247\u4ec5\u5b58\u5728\u4e8e\u65e5\u7248\u578b\u53f7\u4e2d 22\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u65e5\u672c\u8fd0\u8425\u5546\uff08\u5982 Docomo \u548c KDDI\uff09\u9500\u552e\u7684\u578b\u53f7\u4e0e SIM \u5361\u65e0\u9501\u7684\u5168\u7403\u7248\u578b\u53f7\u5728\u578b\u53f7\u7f16\u53f7\u4e0a\u6709\u6240\u4e0d\u540c 23\u3002\u4f8b\u5982\uff0cSOG01 \u548c SO-51A \u662f\u65e5\u672c\u5e02\u573a\u7684\u578b\u53f7 23\u3002\u8fd9\u4e9b\u4e0d\u540c\u7684\u578b\u53f7\u7f16\u53f7\u6697\u793a\u4e86\u8fd9\u4e9b\u4e3a\u65e5\u672c\u5e02\u573a\u5b9a\u5236\u7684\u7248\u672c\u53ef\u80fd\u62e5\u6709\u7279\u5b9a\u7684\u786c\u4ef6\u914d\u7f6e\uff08\u5305\u62ec FeliCa\uff09\u548c\u9488\u5bf9\u65e5\u672c\u5e02\u573a\u7684\u8f6f\u4ef6\u3002  </li> <li>5.2 \u65e5\u7248\u4e0e\u5168\u7403\u7248 ROM \u7684\u8f6f\u4ef6\u5dee\u5f02   \u65e5\u7248 Xperia 1 II \u7684 ROM \u4e2d\u5305\u542b\u4e86 Osaifu-Keitai \u6846\u67b6\u4ee5\u53ca FeliCa \u529f\u80fd\u6240\u9700\u7684\u5176\u4ed6\u76f8\u5173\u7cfb\u7edf\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u8fd9\u4e9b\u7ec4\u4ef6\u5728\u5168\u7403\u7248 ROM \u4e2d\u901a\u5e38\u662f\u4e0d\u5b58\u5728\u7684 17\u3002\u6709\u4fe1\u606f\u8868\u660e\uff0c\u5c3d\u7ba1\u5168\u7403\u7248 Xperia 1V \u7684 NFC \u82af\u7247\u53ef\u80fd\u5728\u786c\u4ef6\u4e0a\u652f\u6301 FeliCa\uff0c\u4f46\u5728\u5176\u5168\u7403\u7248 ROM \u4e2d\uff0c\u6b64\u529f\u80fd\u5e76\u672a\u88ab\u914d\u7f6e\u6216\u542f\u7528 17\uff0c\u8fd9\u8bf4\u660e\u4e86\u8f6f\u4ef6\u914d\u7f6e\u7684\u7f3a\u5931\u3002\u6b64\u5916\uff0c\u65e5\u7248\u548c\u5168\u7403\u7248 ROM \u5728\u9884\u88c5\u5e94\u7528\u7a0b\u5e8f\u3001\u8fd0\u8425\u5546\u7279\u5b9a\u7684\u5b9a\u5236\uff08\u5bf9\u4e8e\u8fd0\u8425\u5546\u9501\u5b9a\u7684\u65e5\u7248\u578b\u53f7\uff09\u4ee5\u53ca\u53ef\u80fd\u9488\u5bf9\u65e5\u672c\u5e02\u573a\u4f18\u5316\u7684\u6027\u80fd\u65b9\u9762\u4e5f\u5b58\u5728\u5dee\u5f02 14\u3002\u4f8b\u5982\uff0c\u6709\u7528\u6237\u63d0\u5230\uff0c\u4e0e\u5168\u7403\u7248\u76f8\u6bd4\uff0c\u65e5\u7248\u7d22\u5c3c\u8bbe\u5907\u7684\u6574\u4f53\u4f53\u9a8c\u53ef\u80fd\u5b58\u5728\u670d\u52a1\u4e0d\u4f73\u3001\u53d1\u70ed\u548c\u6027\u80fd\u8f83\u4f4e\u7b49\u95ee\u9898 14\uff0c\u8fd9\u53ef\u80fd\u4e0e\u8f6f\u4ef6\u4f18\u5316\u6709\u5173\u3002\u8f6f\u4ef6\u66f4\u65b0\u7684\u53d1\u5e03\u65f6\u95f4\u4e5f\u56e0\u8fd0\u8425\u5546\u3001\u5e02\u573a\u548c\u5730\u533a\u800c\u5f02 29\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u5373\u4f7f\u5c06\u65e5\u7248\u56fa\u4ef6\u5237\u5165\u5168\u7403\u7248 Xperia 1 II\uff0c\u5982\u679c\u8be5\u5168\u7403\u7248\u624b\u673a\u672c\u8eab\u7f3a\u5c11 FeliCa \u786c\u4ef6\uff0c\u4e5f\u65e0\u6cd5\u542f\u7528 FeliCa \u529f\u80fd 14\u3002</li> </ul> <p>6. \u5237\u56de\u65e5\u7248\u539f\u5382\u7cfb\u7edf\u6062\u590d FeliCa \u529f\u80fd\u7684\u53ef\u80fd\u6027</p> <ul> <li>6.1 \u786c\u4ef6\u5b8c\u6574\u6027   \u5047\u8bbe\u5237\u673a\u8fc7\u7a0b\u6b63\u786e\u65e0\u8bef\uff0c\u4e14\u6ca1\u6709\u5bf9\u624b\u673a\u786c\u4ef6\u9020\u6210\u7269\u7406\u635f\u574f\uff0c\u90a3\u4e48\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u4e2d\u539f\u6709\u7684 FeliCa \u82af\u7247\u5e94\u8be5\u4ecd\u7136\u5b58\u5728\u5e76\u4e14\u529f\u80fd\u5b8c\u597d 18\u3002\u6709\u6570\u636e\u8868\u660e\uff0c\u4e0e Mobile FeliCa \u76f8\u5173\u7684\u5e94\u7528\u7a0b\u5e8f\u5728\u5237\u673a\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\uff0cFeliCa \u529f\u80fd\u4e5f\u4e0d\u4f1a\u88ab\u6545\u610f\u7834\u574f\uff0c\u5e76\u4e14 FeliCa \u6570\u636e\u5728\u5237\u673a\u540e\u4ecd\u7136\u4fdd\u7559 18\u3002\u8fd9\u8bf4\u660e\uff0c\u53ea\u8981\u5237\u673a\u64cd\u4f5c\u89c4\u8303\uff0cFeliCa \u786c\u4ef6\u672c\u8eab\u4e0d\u592a\u53ef\u80fd\u5728\u5237\u5165\u975e\u65e5\u7248 ROM \u540e\u635f\u574f\u3002  </li> <li>6.2 \u8f6f\u4ef6\u914d\u7f6e\u6062\u590d   \u7406\u8bba\u4e0a\uff0c\u5c06\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u5237\u56de\u5176\u539f\u59cb\u7684\u65e5\u7248 ROM \u5e94\u8be5\u80fd\u591f\u6062\u590d FeliCa \u529f\u80fd\u6240\u9700\u7684\u6240\u6709\u5fc5\u8981\u9a71\u52a8\u7a0b\u5e8f\u3001\u4e2d\u95f4\u4ef6\uff08\u5305\u62ec Osaifu-Keitai\uff09\u3001\u914d\u7f6e\u6587\u4ef6\u548c\u9884\u88c5\u5e94\u7528\u7a0b\u5e8f 18\u3002\u6709\u4fe1\u606f\u8868\u660e\uff0c\u5982\u679c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49 ROM \u65f6 FeliCa \u529f\u80fd\u51fa\u73b0\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u6062\u590d\u5230\u5b98\u65b9\u5b89\u5353\u7248\u672c\u6765\u4fee\u590d 18\u3002\u7136\u800c\uff0c\u6062\u590d\u6210\u529f\u7684\u5173\u952e\u5728\u4e8e\u4f7f\u7528\u4e0e\u8be5\u7279\u5b9a\u65e5\u7248\u578b\u53f7\uff08\u4f8b\u5982 SO-51A\u3001SOG01\uff09\u5b8c\u5168\u5339\u914d\u7684\u539f\u59cb ROM 30\u3002\u5237\u5165\u4e0e\u578b\u53f7\u4e0d\u7b26\u7684 ROM \u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bbe\u5907\u53d8\u7816\u7b49\u4e25\u91cd\u95ee\u9898 30\u3002\u56e0\u6b64\uff0c\u52a1\u5fc5\u786e\u4fdd\u5237\u673a\u8fc7\u7a0b\u80fd\u591f\u5b8c\u5168\u8986\u76d6\u975e\u65e5\u7248 ROM\uff0c\u5e76\u91cd\u65b0\u5b89\u88c5\u539f\u59cb\u7cfb\u7edf\u7684\u6240\u6709\u5fc5\u8981\u5206\u533a\u548c\u7ec4\u4ef6 30\u3002\u5237\u5165 ROM \u7684\u8fc7\u7a0b\u901a\u5e38\u4f1a\u64e6\u9664\u8bbe\u5907\u4e0a\u7684\u6240\u6709\u6570\u636e\uff0c\u56e0\u6b64\uff0c\u5237\u56de\u539f\u5382\u7cfb\u7edf\u4e5f\u5e94\u8be5\u80fd\u591f\u6e05\u9664\u4e4b\u524d\u5237\u5165\u7684\u975e\u65e5\u7248 ROM\uff0c\u5e76\u6062\u590d\u5230\u51fa\u5382\u65f6\u7684\u8f6f\u4ef6\u72b6\u6001 33\u3002  </li> <li>6.3 \u6f5c\u5728\u7684\u590d\u6742\u60c5\u51b5   \u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u7528\u6237\u4e4b\u524d\u89e3\u9501\u4e86\u624b\u673a\u7684\u5f15\u5bfc\u7a0b\u5e8f\u5e76\u8fdb\u884c\u4e86\u67d0\u4e9b\u5e95\u5c42\u4fee\u6539\uff0c\u90a3\u4e48\u5237\u56de\u539f\u5382\u7cfb\u7edf\u540e\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u5c0f\u95ee\u9898\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u6709\u4fe1\u606f\u8868\u660e\uff0c\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u901a\u5e38\u4e0d\u4f1a\u4e0d\u53ef\u9006\u5730\u7834\u574f FeliCa \u529f\u80fd 18\u3002\u6b64\u5916\uff0c\u5982\u679c\u7528\u6237\u4e4b\u524d\u5df2\u7ecf\u8bbe\u7f6e\u4e86 Suica \u6216\u5176\u4ed6 FeliCa \u670d\u52a1\uff0c\u90a3\u4e48\u5728\u5237\u56de\u539f\u5382\u7cfb\u7edf\u540e\uff0c\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u6ce8\u518c\u6216\u91cd\u65b0\u914d\u7f6e\u8fd9\u4e9b\u670d\u52a1\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u6570\u636e\u7684\u5b58\u50a8\u65b9\u5f0f 1\u3002\u603b\u7684\u6765\u8bf4\uff0c\u5237\u56de\u6b63\u786e\u7684\u539f\u59cb\u65e5\u7248 ROM \u662f\u6062\u590d FeliCa \u529f\u80fd\u6700\u53ef\u9760\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u80fd\u591f\u6062\u590d\u624b\u673a\u51fa\u5382\u65f6\u9884\u8bbe\u7684\u3001\u4e0e FeliCa \u786c\u4ef6\u5b8c\u7f8e\u5339\u914d\u7684\u8f6f\u4ef6\u73af\u5883\u3002</li> </ul> <p>7. \u5f15\u5bfc\u7a0b\u5e8f\u89e3\u9501\u548c\u81ea\u5b9a\u4e49 ROM \u7684\u5f71\u54cd</p> <ul> <li>7.1 \u5f15\u5bfc\u7a0b\u5e8f\u89e3\u9501   \u89e3\u9501\u624b\u673a\u7684\u5f15\u5bfc\u7a0b\u5e8f\u901a\u5e38\u662f\u5237\u5165\u81ea\u5b9a\u4e49 ROM \u7684\u5148\u51b3\u6761\u4ef6 18\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u624b\u673a\u5931\u53bb\u4fdd\u4fee\uff0c\u5e76\u4e14\u901a\u5e38\u4f1a\u64e6\u9664\u8bbe\u5907\u4e0a\u7684\u6240\u6709\u6570\u636e 37\u3002\u6b64\u5916\uff0c\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u8fd8\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u5b89\u5168\u98ce\u9669\uff0c\u56e0\u4e3a\u5b83\u4f1a\u7981\u7528\u201c\u5b89\u5168\u542f\u52a8\u201d\u8fd9\u4e00\u91cd\u8981\u7684\u5b89\u5168\u529f\u80fd 38\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u67d0\u4e9b\u65e5\u672c\u8fd0\u8425\u5546\u9501\u5b9a\u7684 Xperia \u624b\u673a\u578b\u53f7\u4e0a\uff0c\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u80fd\u65e0\u6cd5\u89e3\u9501 14\u3002\u4f8b\u5982\uff0c\u6709\u4fe1\u606f\u8868\u660e\uff0c\u67d0\u4e9b au\u3001docomo \u6216 softbank \u7248\u672c\u7684 Xperia \u624b\u673a\u7406\u8bba\u4e0a\u65e0\u6cd5\u5728\u65e5\u672c\u5883\u5916\u4f7f\u7528\u5176\u4ed6\u8fd0\u8425\u5546\u7684\u670d\u52a1\uff0c\u5e76\u4e14\u5176\u5f15\u5bfc\u7a0b\u5e8f\u4e5f\u65e0\u6cd5\u89e3\u9501 14\u3002  </li> <li>7.2 \u81ea\u5b9a\u4e49 ROM \u4e0a\u7684 FeliCa \u529f\u80fd   \u5728\u81ea\u5b9a\u4e49 ROM \u4e0a\u4f7f\u7528 FeliCa \u529f\u80fd\u5e76\u4e0d\u80fd\u5f97\u5230\u4fdd\u8bc1\uff0c\u5176\u652f\u6301\u60c5\u51b5\u56e0 ROM \u800c\u5f02 18\u3002\u4f8b\u5982\uff0c\u6709\u660e\u786e\u6307\u51fa\uff0c\u5bf9\u4e8e\u65e5\u672c\u7528\u6237\u800c\u8a00\uff0c\u5c0f\u7c73\u7684\u67d0\u4e9b\u81ea\u5b9a\u4e49 ROM \u4e0d\u652f\u6301 FeliCa 40\u3002\u81ea\u5b9a\u4e49 ROM \u7684\u5f00\u53d1\u8005\u53ef\u80fd\u4e0d\u4f1a\u5305\u542b FeliCa \u6240\u9700\u7684\u9a71\u52a8\u7a0b\u5e8f\u6216\u914d\u7f6e\uff0c\u7279\u522b\u662f\u5982\u679c\u8be5 ROM \u4e0d\u662f\u4e13\u95e8\u4e3a\u65e5\u672c\u5e02\u573a\u6784\u5efa\u7684 18\u3002\u7136\u800c\uff0c\u4e5f\u6709\u4e00\u4e9b\u9ad8\u7ea7\u7528\u6237\u5c1d\u8bd5\u5728\u975e\u65e5\u7248 ROM \u4e0a\u542f\u7528 FeliCa \u529f\u80fd\uff08\u4f8b\u5982\u5728 Google Pixel \u624b\u673a\u4e0a\uff09\uff0c\u4f46\u8fd9\u901a\u5e38\u9700\u8981 root \u6743\u9650\u3001\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u4ee5\u53ca\u4e00\u5b9a\u7684\u6280\u672f\u4e13\u4e1a\u77e5\u8bc6\uff0c\u4f8b\u5982\u4fee\u6539\u7cfb\u7edf\u6587\u4ef6\u6216\u4f7f\u7528\u81ea\u5b9a\u4e49\u6a21\u5757 17\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u7531\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u4e0e FeliCa \u76f8\u5173\u7684\u91d1\u878d\u670d\u52a1\u5e94\u7528\u7a0b\u5e8f\uff08\u5982 Suica\uff09\u53ef\u80fd\u65e0\u6cd5\u5728\u5df2\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u6216\u8fd0\u884c\u81ea\u5b9a\u4e49 ROM \u7684\u8bbe\u5907\u4e0a\u6b63\u5e38\u5de5\u4f5c\uff08SafetyNet/Play Integrity \u68c0\u6d4b\u53ef\u80fd\u4f1a\u5931\u8d25\uff0918\u3002</li> </ul> <p>8. \u7ed3\u8bba\u4e0e\u5efa\u8bae \u7efc\u4e0a\u6240\u8ff0\uff0c\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u624b\u673a\u662f\u914d\u5907\u4e86 FeliCa \u786c\u4ef6\u7684\u3002\u7136\u800c\uff0c\u5237\u5165\u975e\u65e5\u672c\u7248\u672c\u7684 ROM \u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4 FeliCa \u529f\u80fd\u5931\u6548\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u7f3a\u5c11\u5fc5\u8981\u7684\u9a71\u52a8\u7a0b\u5e8f\u3001\u7cfb\u7edf\u914d\u7f6e\u4ee5\u53ca Osaifu-Keitai \u6846\u67b6\u3002\u5bf9\u4e8e\u5df2\u7ecf\u5237\u5165\u975e\u65e5\u7248 ROM \u5e76\u4e22\u5931 FeliCa \u529f\u80fd\u7684\u7528\u6237\uff0c\u6700\u6709\u6548\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u5237\u56de\u4e0e\u8be5\u8bbe\u5907\u578b\u53f7\u76f8\u5339\u914d\u7684\u539f\u59cb\u65e5\u7248 ROM\u3002\u8fd9\u6837\u505a\u5e94\u8be5\u80fd\u591f\u6062\u590d FeliCa \u529f\u80fd\uff0c\u524d\u63d0\u662f\u5237\u673a\u8fc7\u7a0b\u6b63\u786e\u4e14\u786c\u4ef6\u6ca1\u6709\u635f\u574f\u3002\u7528\u6237\u9700\u8981\u6ce8\u610f\u4f7f\u7528\u6b63\u786e\u7684\u56fa\u4ef6\u7248\u672c\uff0c\u5e76\u786e\u4fdd\u5237\u673a\u8fc7\u7a0b\u5b8c\u6574\u8986\u76d6\u4e4b\u524d\u7684\u7cfb\u7edf\u3002\u89e3\u9501\u5f15\u5bfc\u7a0b\u5e8f\u548c\u5b89\u88c5\u81ea\u5b9a\u4e49 ROM \u4f1a\u8fdb\u4e00\u6b65\u589e\u52a0 FeliCa \u652f\u6301\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u53ef\u80fd\u65e0\u6cd5\u4fdd\u8bc1\u529f\u80fd\u7684\u6b63\u5e38\u4f7f\u7528\uff0c\u5e76\u4e14\u53ef\u80fd\u5e26\u6765\u5b89\u5168\u98ce\u9669\uff0c\u751a\u81f3\u5f71\u54cd\u76f8\u5173\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u7528\u6237\u975e\u5e38\u4f9d\u8d56 FeliCa \u529f\u80fd\uff08\u7279\u522b\u662f Suica \u7684\u4f7f\u7528\uff09\uff0c\u5efa\u8bae\u907f\u514d\u5728\u65e5\u7248\u7d22\u5c3c Xperia 1 II \u4e0a\u5237\u5165\u975e\u65e5\u7248 ROM\u3002\u5982\u679c\u5df2\u7ecf\u5237\u5165\uff0c\u5219\u5e94\u8c28\u614e\u5730\u5237\u56de\u6b63\u786e\u7684\u539f\u59cb\u65e5\u7248 ROM\u3002\u5728\u8fdb\u884c\u4efb\u4f55\u5237\u673a\u64cd\u4f5c\u4e4b\u524d\uff0c\u52a1\u5fc5\u4ed4\u7ec6\u9605\u8bfb\u76f8\u5173\u6559\u7a0b\uff0c\u5e76\u4f7f\u7528\u4e0e\u8bbe\u5907\u578b\u53f7\u5b8c\u5168\u5339\u914d\u7684\u56fa\u4ef6\uff0c\u4ee5\u907f\u514d\u5bf9\u624b\u673a\u9020\u6210\u4e0d\u53ef\u633d\u56de\u7684\u635f\u574f\u3002\u5237\u56de\u539f\u5382\u7cfb\u7edf\u540e\uff0c\u7528\u6237\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u6ce8\u518c\u6216\u914d\u7f6e\u5176 FeliCa \u670d\u52a1\u3002</p> \u5e94\u7528\u7c7b\u522b \u793a\u4f8b \u76f8\u5173 Snippet \u7535\u5b50\u8d27\u5e01 Edy, Rakuten Edy, nanaco, WAON, QUICPay 1, 1, 1 \u516c\u5171\u4ea4\u901a\u652f\u4ed8 Suica, PASMO, ICOCA, Kitaca, TOICA \u7b49 1, 2, 7, 1, 8, 1, 5 \u7535\u5b50\u8eab\u4efd\u8bc1 \u5b66\u751f\u8bc1, \u5458\u5de5\u5361, \u4f4f\u5b85\u95e8\u7981\u5361 2, 2, 5 \u7535\u5b50\u7968\u52a1/\u4f1a\u5458\u5361 \u767b\u673a\u724c, \u96f6\u552e\u5e97\u548c\u4f53\u80b2\u4ff1\u4e50\u90e8\u4f1a\u5458\u5361 2, 2, 5 \u578b\u53f7 \u5730\u533a FeliCa \u652f\u6301 \u76f8\u5173 Snippet SO-51A \u65e5\u672c (Docomo) \u662f 23, 25 SOG01 \u65e5\u672c (KDDI) \u662f 23, 25, 43 XQ-AT42 \u65e5\u672c (SIM-Free) \u662f 23, 44, 25 (Global) \u5168\u7403 \u5426 14, 14, 22"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E6%97%A5%E7%89%88%E6%89%8B%E6%9C%BAfelica%E8%8A%AF%E7%89%87/#\u5f15\u7528\u7684\u8457\u4f5c","title":"\u5f15\u7528\u7684\u8457\u4f5c","text":"<ol> <li>FeliCa - Wikipedia, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://en.wikipedia.org/wiki/FeliCa </li> <li>Overview of FeliCa - What is FeliCa - Sony Corporation, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.sony.net/Products/felica/about/ </li> <li>Differences between NFC and Felica - The world smallest RFID tag by SK-Electronics, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.sk-el.co.jp/sales/rfid/en/glossary/b04.html </li> <li>Host card emulation of FeliCa - Android Open Source Project, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://source.android.com/docs/core/connect/felica </li> <li>FeliCa - Glossary - DevX, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.devx.com/terms/felica/ </li> <li>\u200b\u200b\u200b\u200b\u200b\u200b\u200bIntroduction to FeliCa technology - YouTube, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.youtube.com/watch?v=q-GE0py4Mh4 </li> <li>Suica - Wikipedia, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://en.wikipedia.org/wiki/Suica </li> <li>Convenient electronic money cards FeliCa/Suica: Two cashless payment systems spreading in Japan - WorkInJapan.today, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://workinjapan.today/hightech/cashless-payment-systems-spreading-japan/ </li> <li>FeliCa - About NFC - Relationship between NFC and FeliCa - Sony Corporation, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.sony.net/Products/felica/NFC/relation.html </li> <li>Osaifu-Keitai - Wikipedia, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://en.wikipedia.org/wiki/Osaifu-Keitai </li> <li>Advances with Osaifu-Keitai \u2015Starting Services Supporting NFC (Type A/B) on NTT DOCOMO UIM Cards\u2015, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.docomo.ne.jp/english/binary/pdf/corporate/technology/rd/technical_journal/bn/vol15_1/vol15_1_022en.pdf </li> <li>Suica Card for Android? : r/JapanTravelTips - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/JapanTravelTips/comments/1adf4o8/suica_card_for_android/ </li> <li>Apple Pay to debut in Japan with FeliCa tap-to-pay support in 2016, report says, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://appleinsider.com/articles/16/09/06/apple-pay-to-debut-in-japan-via-felica-tap-to-pay-in-2016-report-says </li> <li>Question - Japan vs global | XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/japan-vs-global.4543557/ </li> <li>NFC-F / FeliCa support on rooted pixel 5? - XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/nfc-f-felica-support-on-rooted-pixel-5.4462157/ </li> <li>How To Guide - How to enable FeliCa's Osaifu-Keitai in a Non-Japanese Google Pixel 6a (step by step tutorial) | XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/how-to-enable-felicas-osaifu-keitai-in-a-non-japanese-google-pixel-6a-step-by-step-tutorial.4662302/ </li> <li>NFC Felica in the 1V? : r/SonyXperia - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/SonyXperia/comments/15hcvwb/nfc_felica_in_the_1v/ </li> <li>Mobile FeliCa support with custom ROM : u/FelicaDude - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/user/FelicaDude/comments/ktmnf0/mobile_felica_support_with_custom_rom/ </li> <li>Enabling Osaifu-Keitai function on non-Japanese Google Pixel phones. - GitHub, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://github.com/kormax/osaifu-keitai-google-pixel </li> <li>How to Install global ROM on a Japan Sony XPERIA device I FixandMore I WINDOWS PC, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.youtube.com/watch?v=nj7dkFb4A50 </li> <li>Nfc felicia Android Compatible phone. : r/japanlife - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/japanlife/comments/148ekhp/nfc_felicia_android_compatible_phone/ </li> <li>Which models have the FeliCa Chip? : r/SonyXperia - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/SonyXperia/comments/1hjoh20/which_models_have_the_felica_chip/ </li> <li>Sony Xperia 1 II - Wikipedia, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://en.wikipedia.org/wiki/Sony_Xperia_1_II </li> <li>Xperia 1ii Variants and Regions - XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/xperia-1ii-variants-and-regions.4112083/ </li> <li>Is getting a second hand xperia 1 mk ii(Japan Variant) in 2023 worth it? - XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/is-getting-a-second-hand-xperia-1-mk-ii-japan-variant-in-2023-worth-it.4528349/ </li> <li>Xperia 1 vs Xperia 1 II - How do they perform with Android 11? - YouTube, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.youtube.com/watch?v=kkHH9SGEF9g </li> <li>Xperia 1 II vs Galaxy S20 Ultra - I've made my decision! Do you agree? - YouTube, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.youtube.com/watch?v=M8TwXEm0uXk </li> <li>Any Xperia 1iii region-specific differences? : r/SonyXperia - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/SonyXperia/comments/pz7atz/any_xperia_1iii_regionspecific_differences/ </li> <li>Xperia 1 II software release overview - Sony UK, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.sony.co.uk/electronics/support/articles/00293714 </li> <li>Changing roms - Sony, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://community.sony.com.mk/t5/1-series/changing-roms/td-p/3919163 </li> <li>Does flashing roms again and again it effect hardware health - XDA Forums, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xdaforums.com/t/does-flashing-roms-again-and-again-it-effect-hardware-health.3253844/ </li> <li>Is it possible to kill your phone by installing wrong system software? [duplicate], \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://android.stackexchange.com/questions/55866/is-it-possible-to-kill-your-phone-by-installing-wrong-system-software </li> <li>Xperia X10: Flashing Wolf's Tweaked v2.3 Gingerbread Firmware - YouTube, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.youtube.com/watch?v=zHBYJW2verg </li> <li>Android's E-Waste Problem Can't Be Solved With Custom ROMs - VICE, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.vice.com/en/article/androids-e-waste-problem-cant-be-solved-with-custom-roms/ </li> <li>Unlocking Bootloaders - postmarketOS Wiki, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://wiki.postmarketos.org/wiki/Unlocking_Bootloaders </li> <li>Lock and unlock the bootloader | Android Open Source Project, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://source.android.com/docs/core/architecture/bootloader/locking_unlocking </li> <li>How to unlock bootloader on Android - MOBILedit Forensic, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://forensic.manuals.mobiledit.com/MM/how-to-unlock-bootloader-on-android </li> <li>A discussion about bootloader locking/unlocking... AKA I want to relock my bootloader, should I? : r/LineageOS - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/LineageOS/comments/n7yo7u/a_discussion_about_bootloader_lockingunlocking/ </li> <li>What \"exactly\" are the risks of an unlocked bootloader? : r/privacy - Reddit, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://www.reddit.com/r/privacy/comments/v8brr7/what_exactly_are_the_risks_of_an_unlocked/ </li> <li>Does the POCO F6Pro purchased in Japan still support Felica after installing xiaomi.eu firmware?, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://xiaomi.eu/community/threads/does-the-poco-f6pro-purchased-in-japan-still-support-felica-after-installing-xiaomi-eu-firmware.73517/ </li> <li>Felica hardware support for Japanese models? - GrapheneOS Discussion Forum, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://discuss.grapheneos.org/d/11697-felica-hardware-support-for-japanese-models </li> <li>jjyao88/unlock-felica-pixel: Unlock Felica on non-Japanese Pixel devices that you can use Felica cards in Japan! - GitHub, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://github.com/jjyao88/unlock-felica-pixel </li> <li>Xperia 1 II driver - Developer World - Sony, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://developer.sony.com/file/download/xperia-1-ii-driver </li> <li>Sim-free ver. of Xperia's Latest High-end Model \"Xperia 1 II\"! - Saiga NAK, \u8bbf\u95ee\u65f6\u95f4\u4e3a \u4e09\u6708 25, 2025\uff0c https://saiganak.com/product/sony-xperia-1-ii-sim-free/</li> </ol>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/","title":"\u65e5\u672c\u7535\u5b50\u652f\u4ed8 - \u4ea4\u901a\u5361","text":"<p>\u65e5\u672c\u4ea4\u901a\u5361\uff0c\u4e5f\u79f0\u4e3aIC\u5361\uff0c\u662f\u4e00\u79cd\u9884\u4ed8\u8d39\u7684\u7535\u5b50\u8d27\u5e01\u5361\uff0c\u7c7b\u4f3c\u4e8e\u4e2d\u56fd\u7684\u4ea4\u901a\u4e00\u5361\u901a\u6216\u9999\u6e2f\u7684\u516b\u8fbe\u901a\u3002\u5b83\u4eec\u4e0d\u4ec5\u53ef\u7528\u4e8e\u4e58\u5750\u516c\u5171\u4ea4\u901a\u5de5\u5177\uff0c\u8fd8\u53ef\u4ee5\u5728\u8bb8\u591a\u5546\u5e97\u548c\u81ea\u52a8\u552e\u8d27\u673a\u8fdb\u884c\u5c0f\u989d\u652f\u4ed8\u3002\u8fd9\u4e5f\u662f\u65e5\u672c\u5e38\u7528\u7684\u7535\u5b50\u652f\u4ed8\u7684\u65b9\u5f0f\u4e4b\u4e00\u3002\uff08\u6bd4\u5982riken\u98df\u5802\u53ea\u63a5\u53d7\u4ea4\u901a\u5361\u4ed8\u8d39\uff09</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u5b9e\u4f53\u7248\u4ea4\u901a\u5361","title":"\u5b9e\u4f53\u7248\u4ea4\u901a\u5361","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u6e38\u5ba2\u4e13\u7528","title":"\u6e38\u5ba2\u4e13\u7528","text":"<p>Welcome Suica\uff1a</p> <pre><code>\u4e13\u4e3a\u77ed\u671f\u6e38\u5ba2\u8bbe\u8ba1\u7684Suica\u5361\u3002\n\u6709\u6548\u671f\u4e3a28\u5929\u3002\n\u65e0\u9700\u652f\u4ed8\u62bc\u91d1\uff0c\u4f46\u4f59\u989d\u4e0d\u53ef\u9000\u8fd8\u3002\n\u5728\u4e00\u4e9b\u7279\u5b9a\u7684\u673a\u573a\u548c\u8f66\u7ad9\u53ef\u4ee5\u8d2d\u4e70\u5230\u3002\n</code></pre> <p>\u7279\u70b9\uff1a</p> <pre><code>\u65b9\u4fbf\u77ed\u671f\u6e38\u5ba2\uff0c\u65e0\u9700\u62c5\u5fc3\u9000\u5361\u95ee\u9898\u3002\n\u4f7f\u7528\u8303\u56f4\u4e0e\u666e\u901aSuica\u5361\u76f8\u540c\u3002\n</code></pre>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u957f\u671f","title":"\u957f\u671f","text":"<p>\u666e\u901aSuica\u3001PASMO\u3001ICOCA\uff1a</p> <pre><code>\u9002\u7528\u4e8e\u957f\u671f\u5c45\u4f4f\u6216\u9891\u7e41\u5f80\u8fd4\u65e5\u672c\u7684\u4eba\u58eb\u3002\n\u8d2d\u4e70\u65f6\u9700\u652f\u4ed8500\u65e5\u5143\u7684\u62bc\u91d1\uff0c\u9000\u5361\u65f6\u53ef\u9000\u8fd8\u3002\n\u6709\u6548\u671f\u4e3a10\u5e74\u3002\n</code></pre> <p>\u7279\u70b9\uff1a     \u53ef\u4ee5\u7ed1\u5b9a\u4fe1\u7528\u5361\u8fdb\u884c\u81ea\u52a8\u5145\u503c\uff08\u90e8\u5206\u5361\u79cd\uff09\u3002</p> <p>\u5728\u8bb8\u591a\u8f66\u7ad9\u4f1a\u770b\u5230\u7531\u4e8e\u82af\u7247\u77ed\u7f3a\u7ad9\u5385\u53d1\u552e\u5b9e\u4f53\u5361\u7684\u901a\u77e5\u3002 \u6211\u8ba4\u4e3a\u8fd9\u662f\u4ed6\u4e48\u4eec\u51e0\u5927\u4ea4\u901a\u516c\u53f8\u5728\u63a8\u7535\u5b50\u7248\u4ea4\u901a\u5361\uff0c\u5e76\u975e\u82af\u7247\u77ed\u7f3a\u3002</p> <p>\u4f60\u53ef\u4ee5\u7528\u8fc7\u8d2d\u4e70\u5982\u4e00\u65e5\u901a\u7684\u5957\u9910\uff0c\u9009\u62e9\u6ca1\u6709\u4ea4\u901a\u5361\uff0c\u5199\u5165\u65b0\u7684\u4ea4\u901a\u5361\u4e2d\u3002 \u4f60\u5c31\u53ef\u4ee5\u7528\u8fd9\u5f20\u65b0\u7684\u4ea4\u901a\u5361\u5f53\u4f5c\u666e\u901a\u7684\u5361\u6765\u4f7f\u7528\u4e86\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u7535\u5b50\u7248\u4ea4\u901a\u5361","title":"\u7535\u5b50\u7248\u4ea4\u901a\u5361","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u901a\u8fc7-apple-pay\u9002\u7528\u4e8e-iphone-\u548c-apple-watch-\u7528\u6237","title":"\u901a\u8fc7 Apple Pay\uff08\u9002\u7528\u4e8e iPhone \u548c Apple Watch \u7528\u6237\uff09","text":"<ol> <li>\u6dfb\u52a0 Suica \u6216 PASMO \u5361\uff1a<ul> <li>\u6253\u5f00 iPhone \u4e0a\u7684\u201c\u94b1\u5305\u201dApp\u3002</li> <li>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u201c+\u201d\u6309\u94ae\u3002</li> <li>\u9009\u62e9\u201c\u4ea4\u901a\u5361\u201d\u3002</li> <li>\u4ece\u5217\u8868\u4e2d\u9009\u62e9\u201cSuica\u201d\u6216\u201cPASMO\u201d\u3002</li> <li>\u6309\u7167\u5c4f\u5e55\u4e0a\u7684\u6307\u793a\u64cd\u4f5c\uff0c\u8bbe\u7f6e\u5145\u503c\u91d1\u989d\u5e76\u4f7f\u7528 Apple Pay \u6216\u4fe1\u7528\u5361\u5b8c\u6210\u8d2d\u4e70\u3002</li> <li>\u60a8\u8fd8\u53ef\u4ee5\u5c06\u73b0\u6709\u7684\u5b9e\u4f53 Suica \u6216 PASMO \u5361\u6dfb\u52a0\u5230 Apple Pay \u4e2d\u3002</li> </ul> </li> </ol>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u901a\u8fc7-google-pay\u9002\u7528\u4e8e-android-\u7528\u6237","title":"\u901a\u8fc7 Google Pay\uff08\u9002\u7528\u4e8e Android \u7528\u6237\uff09","text":"<p>\u6ce8\u610f\u7531\u4e8e\u65e5\u7248\u4ea4\u901a\u5361\u4f7f\u7528\u7684\u662ffelica\u7684nfc\u82af\u7247\u3002\u9664\u65e5\u7248\u5916\u7684\u5b89\u5353\u624b\u673a\u4e00\u822c\u65e0\u6cd5\u83b7\u5f97\u7535\u5b50\u4ea4\u901a\u5361\u3002 \u5173\u4e8e\u65e5\u7248\u5b89\u5353\u624b\u673a\u7684felica\u82af\u7247\u95ee\u9898\u8be6\u89c1\u65e5\u7248\u624b\u673afelica\u82af\u7247,\u4ee5\u7d22\u5c3c\u9a6c\u514b\u5154\u624b\u673a\u4e3a\u4f8b\u5206\u6790\u4e86\u65e5\u7248\u624b\u673a\u4f7f\u7528\u7535\u5b50\u4ea4\u901a\u5361\u7684\u8f6f\u786c\u4ef6\u65b9\u9762.</p> <p>\u53ef\u7528\u7684\u4fe1\u606f</p> <p>\u8c37\u6b4cpixel\u5982\u4f55\u7a81\u7834\u9650\u5236\u4e00\u4e9b\u673a\u5668\u4e5f\u8bb8\u53ef\u4ee5\u85c9\u6b64\u7a81\u7834\u8f6f\u4ef6\u4e0a\u7684\u9650\u5236.</p> <ol> <li>\u6dfb\u52a0 Mobile Suica \u6216 Mobile PASMO\uff1a<ul> <li>Android \u624b\u673a\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 Google Pay \u6dfb\u52a0 Mobile Suica \u6216 Mobile PASMO\u3002</li> <li>\u5177\u4f53\u7684\u64cd\u4f5c\u65b9\u6cd5\u53ef\u80fd\u4f1a\u56e0 Android \u7248\u672c\u548c Google Pay \u5e94\u7528\u7248\u672c\u800c\u5f02\uff0c\u901a\u5e38\u9700\u8981\u5728 Google Pay \u5e94\u7528\u4e2d\u627e\u5230\u6dfb\u52a0\u4ea4\u901a\u5361\u7684\u9009\u9879\uff0c\u5e76\u6309\u7167\u63d0\u793a\u64cd\u4f5c\u3002</li> </ul> </li> </ol>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u901a\u8fc7\u652f\u6301nfc\u7684\u7535\u5b50\u624b\u8868","title":"\u901a\u8fc7\u652f\u6301nfc\u7684\u7535\u5b50\u624b\u8868","text":"<p>\u7535\u5b50\u624b\u8868\u4e5f\u5f97\u662f\u65e5\u7248\u7684\u624d\u884c\u3002</p> <p>\u6bd4\u5982\u65e5\u7248garmin.</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E5%AD%90%E6%94%AF%E4%BB%98-%E4%BA%A4%E9%80%9A%E5%8D%A1/#\u652f\u4ed8\u7684\u95ee\u9898","title":"\u652f\u4ed8\u7684\u95ee\u9898","text":"<p>\u7531\u4e8e\u5b89\u5168\u539f\u56e0\u88ab\u9501\u5361\u3002</p> <p>https://note.com/moku_kumo/n/n9f83774b9906</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E8%AF%9D%E5%8D%A1/","title":"\u7535\u8bdd\u5361","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E8%AF%9D%E5%8D%A1/#cmlink","title":"cmlink","text":"<p>cmlink \u4e2d\u56fd\u79fb\u52a8\u548c\u65e5\u672c\u5408\u4f5c\u529e\u7684.</p> <p></p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E8%AF%9D%E5%8D%A1/#povo-\u7535\u8bdd\u5361","title":"povo \u7535\u8bdd\u5361","text":"<p>povo\u5b98\u7f51</p> <p>\u653f\u7b56:  </p> <p>0\u6708\u79df\uff0c\u65e0\u6d41\u91cf\u65e0\u7535\u8bdd\uff0c\u9700\u4e70\u6d41\u91cf\u5305\uff0c\u6d41\u91cf\u7528\u5b8c\u540e128kb/s. \u9700\u6bcf\u4e09\u4e2a\u6708\u4e70\u4e00\u6b21\u6d41\u91cf\u5305\u5426\u5219\u5c31\u4f1a\u88ab\u9500\u53f7\u3002</p> <p>\u203b1\uff1a\u3010\u5171\u901a\u3011 - 180\u65e5\u9593\u4ee5\u4e0a\u6709\u6599\u30c8\u30c3\u30d4\u30f3\u30b0\u306e\u8cfc\u5165\u7b49\u304c\u306a\u3044\u5834\u5408\u3001\u5229\u7528\u505c\u6b62\u3001\u5951\u7d04\u89e3\u9664\u3068\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 - 0\u51860GB\u6642\u306f\u3001\u9001\u53d7\u4fe1\u6700\u5927128kbps\u3068\u306a\u308a\u307e\u3059\u3002 - \u540c\u4e00\u540d\u7fa9\u30675\u56de\u7dda\uff08\u904e\u53bb1\u5e74\u4ee5\u5185\u306b\u3001\u89e3\u7d04\u6e08\u3001\u5f53\u793e\u306b\u3088\u308a\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u305f\u56de\u7dda\u3082\u542b\u3080\uff09\u3054\u5951\u7d04\u306e\u5834\u5408\u3001\u7d2f\u8a086\u56de\u7dda\u76ee\u4ee5\u964d\u30013,850\u5186\uff0f\u56de\u7dda\u306e\u5951\u7d04\u4e8b\u52d9\u624b\u6570\u6599\u304c\u304b\u304b\u308a\u307e\u3059\u3002</p> <p>\u3010\u30c7\u30fc\u30bf\u5c02\u7528\u306e\u5834\u5408\u3011 - \u5951\u7d04\u6642\u306b\u521d\u56de\u30c8\u30c3\u30d4\u30f3\u30b0\u8cfc\u5165\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u3010\u901a\u8a71\uff0b\u30c7\u30fc\u30bf\u306e\u5834\u5408\u3011 - \u56fd\u5185\u901a\u8a71\uff1a\u7a0e\u8fbc22\u5186/30\u79d2\u3000\u885b\u661f\u96fb\u8a71\u3078\u306e\u901a\u8a71\u306a\u3069\u3001\u4e00\u90e8\u901a\u8a71\u6599\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3002\u307e\u305f\u3001\u4ed6\u793e\u304c\u6599\u91d1\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u96fb\u8a71\u756a\u53f7\u3078\u306f\u6307\u5b9a\u306e\u901a\u8a71\u6599\u304c\u304b\u304b\u308a\u307e\u3059\u3002 - \u56fd\u5185SMS\u9001\u4fe1\uff1a\u7a0e\u8fbc3.3\u5186/\u901a(70\u5b57\u307e\u3067)\u3000\u53d7\u4fe1\uff1a\u7121\u6599\u3000\u6a5f\u7a2e\u306b\u3088\u308a\u6700\u5927\u5168\u89d2670\u6587\u5b57\u307e\u3067\u9001\u4fe1\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001134\u6587\u5b57\u307e\u3067\u306f2\u901a\u5206\u3001\u305d\u308c\u4ee5\u964d\u306f67\u6587\u5b57\u3054\u3068\u306b1\u901a\u5206\u306e\u9001\u4fe1\u6599\u304c\u304b\u304b\u308a\u307e\u3059\u3002</p> <p>\u203b2\uff1a\u885b\u661f\u96fb\u8a71\u3078\u306e\u901a\u8a71\u306a\u3069\u3001\u4e00\u90e8\u901a\u8a71\u6599\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3002\u307e\u305f\u3001\u4ed6\u793e\u304c\u6599\u91d1\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u96fb\u8a71\u756a\u53f7\u3078\u306f\u6307\u5b9a\u306e\u901a\u8a71\u6599\u304c\u304b\u304b\u308a\u307e\u3059\u3002</p> <p>\u203b3\uff1a\u53d7\u4fe1\uff1a\u7121\u6599\u3002\u6a5f\u7a2e\u306b\u3088\u308a\u6700\u5927\u5168\u89d2670\u6587\u5b57\u307e\u3067\u9001\u4fe1\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001134\u6587\u5b57\u307e\u3067\u306f2\u901a\u5206\u3001\u305d\u308c\u4ee5\u964d\u306f67\u6587\u5b57\u3054\u3068\u306b1\u901a\u5206\u306e\u9001\u4fe1\u6599\u304c\u304b\u304b\u308a\u307e\u3059\u3002</p> <p>\u203bau\u3067\u5229\u7528\u3057\u3066\u3044\u305f\u30ad\u30e3\u30ea\u30a2\u30e1\u30fc\u30eb\u3092\u5f15\u304d\u7d9a\u304d\u3054\u5229\u7528\u3044\u305f\u3060\u304f\u306b\u306f\u3001povo2.0\u306b\u79fb\u884c\u5b8c\u4e86\u5f8c\u3001\u5225\u9014\u304a\u7533\u3057\u8fbc\u307f\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E7%94%B5%E8%AF%9D%E5%8D%A1/#povo\u7533\u8bf7\u6b65\u9aa4","title":"povo\u7533\u8bf7\u6b65\u9aa4","text":"<ol> <li>\u51c6\u5907\u6750\u6599</li> <li>\u62a4\u7167\u6216\u5728\u7559\u5361\uff08\u9700\u8981\u62cd\u7167\u4e0a\u4f20\uff09</li> <li>\u65e5\u672c\u5730\u5740\u3001\u90ae\u7f16\u3001\u8054\u7cfb\u7535\u8bdd</li> <li> <p>\u652f\u4ed8\u65b9\u5f0f\uff08\u4fe1\u7528\u5361\u6216\u90e8\u5206\u652f\u6301PayPay\u7b49\uff09</p> </li> <li> <p>\u4e0b\u8f7dpovo\u5b98\u65b9App</p> </li> <li> <p>\u5728App Store\u6216Google Play\u641c\u7d22\u201cpovo\u201d\u4e0b\u8f7d\u5b89\u88c5\u3002</p> </li> <li> <p>\u6ce8\u518c\u8d26\u53f7</p> </li> <li>\u6253\u5f00App\uff0c\u9009\u62e9\u201c\u65b0\u898f\u7533\u3057\u8fbc\u307f\u201d\uff08\u65b0\u7528\u6237\u7533\u8bf7\uff09\u3002</li> <li> <p>\u8f93\u5165\u90ae\u7bb1\u5730\u5740\uff0c\u8bbe\u7f6e\u5bc6\u7801\uff0c\u5b8c\u6210\u90ae\u7bb1\u9a8c\u8bc1\u3002</p> </li> <li> <p>\u9009\u62e9\u5957\u9910\u7c7b\u578b</p> </li> <li>\u9009\u62e9SIM\u5361\u7c7b\u578b\uff08\u5b9e\u4f53\u5361\u6216eSIM\uff09\u3002</li> <li> <p>\u9009\u62e9\u201c\u30c7\u30fc\u30bf\u5c02\u7528\u201d\u6216\u201c\u901a\u8a71\uff0b\u30c7\u30fc\u30bf\u201d\u5957\u9910\u3002</p> </li> <li> <p>\u8f93\u5165\u4e2a\u4eba\u4fe1\u606f</p> </li> <li>\u6309\u8981\u6c42\u586b\u5199\u59d3\u540d\u3001\u751f\u65e5\u3001\u6027\u522b\u3001\u56fd\u7c4d\u7b49\u3002</li> <li> <p>\u8f93\u5165\u65e5\u672c\u4f4f\u5740\u3001\u8054\u7cfb\u7535\u8bdd\u3002</p> </li> <li> <p>\u4e0a\u4f20\u8bc1\u4ef6\u7167\u7247</p> </li> <li>\u6309\u63d0\u793a\u62cd\u6444\u5e76\u4e0a\u4f20\u62a4\u7167\u6216\u5728\u7559\u5361\u6b63\u53cd\u9762\u7167\u7247\u3002</li> <li> <p>\u8fdb\u884c\u4eba\u8138\u8bc6\u522b\uff08\u81ea\u62cd\u7167\uff09\u3002</p> </li> <li> <p>\u8f93\u5165\u9080\u8bf7\u7801</p> </li> <li>\u5728\u201c\u7d39\u4ecb\u30b3\u30fc\u30c9\u201d\u6216\u201c\u9080\u8bf7\u7801\u201d\u680f\u8f93\u5165\uff1a<code>MAXKTATD</code></li> <li> <p>\u53ef\u83b7\u5f97\u5b98\u65b9\u6d3b\u52a8\u5956\u52b1\uff08\u5982\u6709\uff09\u3002</p> </li> <li> <p>\u9009\u62e9\u914d\u9001\u65b9\u5f0f</p> </li> <li>\u5b9e\u4f53SIM\u5361\uff1a\u586b\u5199\u6536\u8d27\u5730\u5740\uff0c\u7b49\u5f85\u90ae\u5bc4\u3002</li> <li> <p>eSIM\uff1a\u5ba1\u6838\u901a\u8fc7\u540eApp\u5185\u76f4\u63a5\u4e0b\u8f7d\u914d\u7f6e\u3002</p> </li> <li> <p>\u9009\u62e9\u521d\u6b21\u6d41\u91cf\u5305\u5e76\u652f\u4ed8</p> </li> <li>\u9996\u6b21\u7533\u8bf7\u5fc5\u987b\u8d2d\u4e70\u81f3\u5c11\u4e00\u4e2a\u6d41\u91cf\u5305\uff08\u59821GB/7\u5929\u7b49\uff09\u3002</li> <li> <p>\u4f7f\u7528\u4fe1\u7528\u5361\u7b49\u65b9\u5f0f\u652f\u4ed8\u3002</p> </li> <li> <p>\u7b49\u5f85\u5ba1\u6838\u4e0e\u5f00\u901a</p> <ul> <li>\u8d44\u6599\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u5b9e\u4f53\u5361\u90ae\u5bc4\u6216eSIM\u914d\u7f6e\u7801\u4e0b\u53d1\u3002</li> <li>\u6536\u5230SIM\u5361\u540e\uff0c\u6309App\u6307\u5f15\u6fc0\u6d3b\u5e76\u63d2\u5165\u624b\u673a\u4f7f\u7528\u3002</li> </ul> </li> <li> <p>\u8bbe\u7f6eAPN</p> <ul> <li>\u6309App\u6216\u5b98\u7f51\u6307\u5f15\u8bbe\u7f6eAPN\uff08\u90e8\u5206\u624b\u673a\u81ea\u52a8\u914d\u7f6e\uff09\u3002</li> </ul> </li> <li> <p>\u5b8c\u6210\u6fc0\u6d3b\uff0c\u5f00\u59cb\u4f7f\u7528povo\u670d\u52a1</p> </li> </ol> <p>\u6ce8\u610f\u4e8b\u9879\uff1a - \u7533\u8bf7\u8fc7\u7a0b\u4e2d\u8bf7\u786e\u4fdd\u4fe1\u606f\u771f\u5b9e\u3001\u7167\u7247\u6e05\u6670\u3002 - \u63a8\u8350\u4f7f\u7528\u9080\u8bf7\u7801<code>MAXKTATD</code>\uff0c\u4eab\u53d7\u5b98\u65b9\u5956\u52b1\u3002\u4f60\u4f1a\u5f973\u5929100G, \u6211\u4f1a\u5f973G. - \u7533\u8bf7\u53ca\u6fc0\u6d3b\u6d41\u7a0b\u5982\u9047\u95ee\u9898\uff0c\u53ef\u53c2\u8003povo\u5b98\u7f51FAQ\u6216\u8054\u7cfb\u5ba2\u670d\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/","title":"\u843d\u5730\u4e8b\u5b9c","text":"","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/#\u5728\u7559\u5361","title":"\u5728\u7559\u5361","text":"<p>\u5728\u65b0\u5343\u5c81\u673a\u573a\u3001\u6210\u7530\u673a\u573a\u3001\u7fbd\u7530\u673a\u573a\u3001\u4e2d\u90e8\u673a\u573a\u3001\u5173\u897f\u673a\u573a\u3001\u5e7f\u5c9b\u673a\u573a\u3001\u798f\u5188\u673a\u573a\u5165\u5883\u65f6\uff0c\u53ef\u76f4\u63a5\u5728\u673a\u573a\u5185\u9886\u53d6\u5728\u7559\u5361\u3002</p>","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/#\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","title":"\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","text":"<p>\u529e\u7406\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669\u65f6\uff0c\u8bf7\u643a\u5e26\u4ee5\u4e0b\u6750\u6599\u524d\u5f80\u533a\u5f79\u6240\uff1a - \u5728\u7559\u5361 - \u62a4\u7167 - \u5370\u7ae0 - \u5b66\u6821\u8bc1\u660e</p>","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/#\u94f6\u884c\u5361","title":"\u94f6\u884c\u5361","text":"<p>\u529e\u7406\u94f6\u884c\u5361\u9700\u643a\u5e26\u4ee5\u4e0b\u6750\u6599\u524d\u5f80\u9644\u8fd1\u7684\u90ae\u5c40\uff1a - \u5728\u7559\u5361 - \u62a4\u7167 - \u5370\u7ae0 - \u5b66\u751f\u8bc1\uff08\u7531\u5b66\u6821\u62a5\u5230\u540e\u63d0\u4f9b\uff09</p> <p>\u6ce8\u610f\u4e8b\u9879\uff1a - \u6b64\u4e1a\u52a1\u4ec5\u9650\u4e0a\u534812\u70b9\u4e4b\u524d\u529e\u7406\u3002 - \u5efa\u8bae\u5e26\u4e00\u4f4d\u65e5\u8bed\u6d41\u5229\u7684\u4eba\u534f\u52a9\u6c9f\u901a\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u88ab\u62d2\u7edd\u3002</p>","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/#\u624b\u673a\u5361","title":"\u624b\u673a\u5361","text":"<p>\u7533\u8bf7\u624b\u673a\u5361\u65f6\uff0c\u8bf7\u51c6\u5907\u4ee5\u4e0b\u6750\u6599\uff1a - \u5728\u7559\u5361 - \u94f6\u884c\u5361\u6216\u5b58\u6298 - \u5370\u7ae0 - \u5b66\u751f\u8bc1</p> <p>povo\u5361\u53ea\u80fd\u7ebf\u4e0a\u7533\u8bf7\uff0c\u5b9e\u4f53\u5361\u4f1a\u90ae\u5bc4\u8fc7\u6765\u3002 \u7535\u8bdd\u5361</p>","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E8%90%BD%E5%9C%B0todo/#\u5e02\u533a\u5f79\u6240\u767b\u8bb0","title":"\u5e02\u533a\u5f79\u6240\u767b\u8bb0","text":"<p>\u5728\u673a\u573a\u9886\u53d6\u5728\u7559\u5361\u540e\uff0c\u9700\u572814\u5929\u5185\u524d\u5f80\u533a\u5f79\u6240\u529e\u7406\u8f6c\u5165\u624b\u7eed\u3002\u8bf7\u643a\u5e26\u4ee5\u4e0b\u6750\u6599\uff1a - \u62a4\u7167 - \u5728\u7559\u5361</p> <p>\u548c\u5149\u5e02\u5f79\u6240 \u3012351-0192 Saitama, Wako, Hirosawa, 1\u22125</p> <p>\u524d\u5f80\u533a\u5f79\u6240\u7a97\u53e3\u5b8c\u6210\u767b\u8bb0\u624b\u7eed\u3002</p>","tags":["\u5728\u7559\u5361","\u56fd\u6c11\u5065\u5eb7\u4fdd\u9669","\u94f6\u884c\u5361","\u624b\u673a\u5361","\u5e02\u533a\u5f79\u6240\u767b\u8bb0"]},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/","title":"\u94f6\u884c\u5361","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#csc\u5956\u5b66\u91d1\u5361","title":"csc\u5956\u5b66\u91d1\u5361","text":"<p>\u5728711\u4fbf\u5229\u5e97\u7684atm\u53ef\u4ee5\u514d\u624b\u7eed\u8d39\u3002</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#jcb\u94f6\u884c\u5361","title":"JCB\u94f6\u884c\u5361","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#\u8865\u529e","title":"\u8865\u529e","text":""},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#\u7ebf\u4e0b\u529e\u7406","title":"\u7ebf\u4e0b\u529e\u7406","text":"<p>1.\u8425\u4e1a\u673a\u6784</p> <p>\u2460\u4e2d\u56fd\u94f6\u884c\u4e1c\u4eac\u5206\u884c</p> <p>\u3012107\uff0d0052\u3000\u4e1c\u4eac\u90fd\u6e2f\u533a\u8d64\u57423-4-1\u3000\u4e2d\u56fd\u94f6\u884c\u5927\u697c</p> <p>TEL\u300003-3505-8818\u3000 FAX\u300003-3505-8868</p> <p>\u2461\u4e2d\u56fd\u94f6\u884c\u5927\u962a\u5206\u884c</p> <p>\u3012550-0014 \u5927\u962a\u5e02\u897f\u533a\u5317\u5800\u6c5f1-1-35 \u4e2d\u56fd\u94f6\u884c\u5927\u697c</p> <p>TEL\u300006-6539-3666\u3000  FAX\u300006-6538-1177</p> <p>\u2462\u4e2d\u56fd\u94f6\u884c\u6a2a\u6ee8\u5206\u884c</p> <p>\u3012231\uff0d0023 \u6a2a\u6ee8\u5e02\u4e2d\u533a\u5927\u901a5\u756a\u57302 URBAN NET \u6a2a\u6ee8BUILDING 1\u5c42</p> <p>TEL\u3000045-663-2288\u3000  FAX\u3000045-663-8688</p> <p>\u2463\u4e2d\u56fd\u94f6\u884c\u540d\u53e4\u5c4b\u5206\u884c</p> <p>\u3012540\uff0d6117 \u540d\u53e4\u5c4b\u5e02\u4e2d\u533a\u4e38\u4e4b\u51853-23-20\u6a31\u901aMID BUILDING1\u5c42</p> <p>TEL\u3000052-957-2388\u3000  FAX\u3000052-957-2366</p> <p>\u2464\u4e2d\u56fd\u94f6\u884c\u5927\u624b\u753a\u5206\u7406\u5904</p> <p>\u3012100\uff0d0004 \u4e1c\u4eac\u90fd\u5343\u4ee3\u7530\u533a\u5927\u624b\u753a2\u4e01\u76ee2\u756a1\u53f7\u65b0\u5927\u624bBUILDING\u4e00\u5c42</p> <p>TEL 03-3277-0288\u3000\u3000  FAX 03-3277-0289</p> <p>2.\u8425\u4e1a\u65f6\u95f4\uff1a \u661f\u671f\u4e00\u81f3\u661f\u671f\u4e94 9:00\uff5e15:00 \uff08\u8282\u5047\u65e5\u9664\u5916\uff09</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#\u7ebf\u4e0a\u8865\u529ecsc\u94f6\u884c\u5361","title":"\u7ebf\u4e0a\u8865\u529ecsc\u94f6\u884c\u5361","text":"<p>\u641c\u7d22\u5fae\u4fe1\u53f7\uff0c\u6dfb\u52a0\u201c\u4e2d\u56fd\u94f6\u884c\u516c\u6d3e\u7559\u5b66\u5361\u6302\u5931\u89c6\u9891\u4e13\u7528\u201d</p> <p>\u6dfb\u52a0\u597d\u53cb\u6210\u529f\uff0c\u8bf4\u660e\u60c5\u51b5\u540e\u6309\u8981\u6c42\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\u624b\u673a\u94f6\u884c\u641c\u7d22\u201c\u5361\u7247\u7ba1\u7406\u201d\u27a1\ufe0f\u201c\u9884\u7ea6\u6362\u5361\u201d\u5e76\u8f93\u5165\u6536\u5361\u5730\u5740\uff0c\u64cd\u4f5c\u5b8c\u6210\u540e\u53d1\u9001\u622a\u56fe\uff0c\u5e76\u63d0\u4f9b\u94f6\u884c\u5361\u53f7\u3001\u6536\u5361\u5730\u5740\u3001\u90ae\u7f16\u3001\u7535\u8bdd</p> <p>\u56fd\u5185\u5236\u5361\u6210\u529f\u5e76\u5bc4\u51fa</p> <p>\u5fb7\u56fd\u6536\u5361\uff0c\u5fae\u4fe1\u544a\u77e5\u94f6\u884c</p>"},{"location":"%E6%97%A5%E6%9C%AC%E7%94%9F%E5%AD%98%E6%8C%87%E5%8D%97/%E9%93%B6%E8%A1%8C%E5%8D%A1/#\u5e0c\u671b\u4f60\u4e0d\u4f1a\u770b\u5230\u8fd9\u4e2a","title":"\u5e0c\u671b\u4f60\u4e0d\u4f1a\u770b\u5230\u8fd9\u4e2a","text":"<p>\u65e5\u672c\u540c\u65f6\u4e22\u5931\u6240\u6709\u8bc1\u4ef6\u653b\u7565 - \u4f4f\u5728\u6817\u5b50\u661f\u7403\u4e0a | \u5c0f\u7ea2\u4e66 - \u4f60\u7684\u751f\u6d3b\u6307\u5357</p>"},{"location":"en/","title":"main","text":"<p>hello, world.</p> <p>I'am Tian Baiting.</p>"},{"location":"en/#preface","title":"Preface","text":""},{"location":"en/#my-web","title":"my web","text":"<ul> <li>bilibili</li> <li>zhihu</li> </ul>"},{"location":"en/sci/cheatshet/git/","title":"git cheatsheat","text":""},{"location":"en/sci/cheatshet/git/#common-git-commands","title":"Common Git Commands","text":""},{"location":"en/sci/cheatshet/git/#initialization","title":"Initialization","text":"<ul> <li><code>git init</code>: Initialize a new Git repository.</li> </ul>"},{"location":"en/sci/cheatshet/git/#configuration","title":"Configuration","text":"<ul> <li><code>git config --global user.name \"Your Name\"</code>: Set your global username.</li> <li><code>git config --global user.email \"youremail@example.com\"</code>: Set your global email.</li> </ul>"},{"location":"en/sci/cheatshet/git/#basic-workflow","title":"Basic Workflow","text":"<ul> <li><code>git status</code>: Check the status of your working directory.</li> <li><code>git add &lt;file&gt;</code>: Stage changes for commit.</li> <li><code>git commit -m \"Commit message\"</code>: Commit staged changes.</li> </ul>"},{"location":"en/sci/cheatshet/git/#branching","title":"Branching","text":"<ul> <li><code>git branch</code>: List branches.</li> <li><code>git branch &lt;branch-name&gt;</code>: Create a new branch.</li> <li><code>git checkout &lt;branch-name&gt;</code>: Switch to a branch.</li> <li><code>git merge &lt;branch-name&gt;</code>: Merge a branch into the current branch.</li> </ul>"},{"location":"en/sci/cheatshet/git/#remote-repositories","title":"Remote Repositories","text":"<ul> <li><code>git remote add origin &lt;url&gt;</code>: Add a remote repository.</li> <li><code>git push -u origin &lt;branch-name&gt;</code>: Push changes to a remote branch.</li> <li><code>git pull</code>: Fetch and merge changes from the remote repository.</li> </ul>"},{"location":"en/sci/cheatshet/git/#logs-and-history","title":"Logs and History","text":"<ul> <li><code>git log</code>: View commit history.</li> <li><code>git diff</code>: Show changes between commits or the working directory.</li> </ul>"},{"location":"en/sci/cheatshet/git/#undoing-changes","title":"Undoing Changes","text":"<ul> <li><code>git reset &lt;file&gt;</code>: Unstage a file.</li> <li><code>git checkout -- &lt;file&gt;</code>: Discard changes in a file.</li> </ul>"},{"location":"en/sci/cheatshet/git/#stashing","title":"Stashing","text":"<ul> <li><code>git stash</code>: Save changes temporarily.</li> <li><code>git stash apply</code>: Reapply stashed changes.</li> </ul>"},{"location":"en/sci/cheatshet/git/#cloning","title":"Cloning","text":"<ul> <li><code>git clone &lt;url&gt;</code>: Clone a repository.</li> </ul>"},{"location":"en/sci/cheatshet/git/#deleting","title":"Deleting","text":"<ul> <li><code>git branch -d &lt;branch-name&gt;</code>: Delete a branch.</li> <li><code>git rm &lt;file&gt;</code>: Remove a file from the repository.</li> </ul>"},{"location":"en/sci/cheatshet/git/#_1","title":"git cheatsheat","text":""},{"location":"en/sci/cheatshet/shell/","title":"Shell","text":"<p>\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u76ee\u5f55\u7684\u5927\u5c0f\uff0c\u5e76\u9650\u5236\u6df1\u5ea6\u4e3a 1 (\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u683c\u5f0f): <pre><code>du -dh 1 .\n</code></pre></p>"},{"location":"en/sci/cheatshet/shell/#wget","title":"wget","text":"<p>wget -r -p -np -k https://example.com</p> <ol> <li>\u4ece https://example.com \u5f00\u59cb\u9012\u5f52\u4e0b\u8f7d\u6240\u6709\u5185\u5bb9\uff1b</li> <li>\u4e0b\u8f7d\u9875\u9762\u6240\u9700\u7684\u6240\u6709\u8d44\u6e90\uff08\u5982\u56fe\u7247\u3001CSS \u7b49\uff09\uff1b</li> <li>\u9650\u5236\u4e0b\u8f7d\u8303\u56f4\uff0c\u4e0d\u4f1a\u8d85\u51fa\u6307\u5b9a\u76ee\u5f55\uff1b</li> <li>\u5c06 HTML \u6587\u4ef6\u4e2d\u7684\u94fe\u63a5\u8f6c\u6362\u4e3a\u672c\u5730\u94fe\u63a5\uff0c\u4fbf\u4e8e\u79bb\u7ebf\u6d4f\u89c8\u3002</li> </ol>"},{"location":"en/sci/cheatshet/site/","title":"\u7f51\u9875\u76f8\u5173\u77e5\u8bc6","text":""},{"location":"en/sci/minimal_code/color_scheme/","title":"Color Scheme in Scientific Visualization","text":"","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/color_scheme/#principles-of-color-vision","title":"Principles of Color Vision","text":"<p>The principles can be found in the content of Feynman's Lectures on Physics, Volume I.</p> <p>In brief, visible light refers to the range of electromagnetic wavelengths that the human eye can perceive, approximately between 380nm and 750nm.</p> <p>What we see is the superposition of the energy spectrum within the 380nm to 750nm range. Essentially, it is a vector in an infinite-dimensional Hilbert space.</p> <p>However, the human eye, as a detector (cone cells), cannot distinguish such a vast number of vectors. Humans have three types of cone cells. Different wavelengths of light activate these three types of cells to varying degrees, resulting in the perception of different colors. Essentially, the human eye reduces the infinite-dimensional Hilbert space into a three-dimensional manifold through convolution (the efficiency of cone cells detecting different wavelengths).</p> <p>The chromaticity diagram appears two-dimensional because it is a two-dimensional projection of a three-dimensional color space. This projection simplifies the three-dimensional CIE XYZ color space, allowing color information to be represented on a plane for easier observation and analysis.</p> <p>CIE XYZ Color Space: Defined by the International Commission on Illumination (CIE), this standard color space uses three dimensions (X, Y, Z) to represent colors. The X-axis represents red stimulus, the Y-axis represents green stimulus, and the Z-axis represents blue stimulus. However, these axes do not directly correspond to the red, green, and blue colors we commonly understand but are based on the human eye's response to different wavelengths of light.</p> <p>Formation of the Chromaticity Diagram: The chromaticity diagram is created by projecting the color data in the CIE XYZ space onto a two-dimensional plane. This plane typically uses x and y coordinates, where x = X/(X+Y+Z) and y = Y/(X+Y+Z). This approach highlights the chromaticity of colors, i.e., their hue and saturation, without considering brightness.</p> <p>Characteristics of the Chromaticity Diagram: The edges of the chromaticity diagram represent the colors of the monochromatic spectrum, forming a horseshoe-shaped outline from violet to red to yellow. Each point within this outline represents a mixed color. The chromaticity diagram does not display brightness information, making it two-dimensional and focused solely on the relative proportions of colors.</p> <p>Importance: Despite being two-dimensional, the chromaticity diagram effectively distinguishes hues and saturation levels of different colors. It is crucial for color management and research in color science. The diagram visually demonstrates the relationships between colors and the rules of color mixing.</p> <p>Humans may experience color blindness or color deficiency due to genetic or health-related issues, which impair the functionality of certain cone cells.</p> <p>In the natural world, there are animals with visual systems different from humans. For example, mantis shrimp have 16 types of cone cells (astonishingly complex) and can perceive a broader wavelength range, even detecting the polarization state of light.</p> <p></p>","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/color_scheme/#color-schemes-for-scientific-research","title":"Color Schemes for Scientific Research","text":"<p>This section references Coloring Chemistry.</p> <p>There are three main requirements: 1. Color schemes should be auxiliary. 2. They should align with brightness changes. 3. They should account for color blindness and deficiency.</p> <p>In simple terms, the three-dimensional color manifold should maintain a consistent trend when reduced to lower dimensions. For instance, converting to grayscale should not result in brightness fluctuating inconsistently with increasing values.</p>","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/color_scheme/#the-role-of-color-should-be-auxiliary-not-essential","title":"The Role of Color Should Be Auxiliary, Not Essential","text":"<p>Consider using different textures, symbols, layouts, or annotations.</p>","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/color_scheme/#fill-plots-should-use-perceptually-uniform-color-schemes","title":"Fill Plots Should Use Perceptually Uniform Color Schemes","text":"<p>Perceptual uniformity means that the information conveyed by colors should align with the trend of brightness changes.</p>","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/color_scheme/#strategies-for-color-blindness-and-deficiency","title":"Strategies for Color Blindness and Deficiency","text":"<p>Ensure that visualizations are accessible to individuals with color vision deficiencies by using colorblind-friendly palettes or alternative visual encodings.</p>","tags":["Scientific Research","Data Visualization","Figures"]},{"location":"en/sci/minimal_code/format_guidelines/","title":"Formatting Guidelines","text":"<p>Constants should be written in upright font. However, constants such as c (speed of light), hh (Planck constant), and GG (gravitational constant) are considered variable symbols. Despite their unchanging values, they are treated as physical quantities and should be written in italic font. Mathematical constants with fixed values (e.g., \\rm{e} = 2.7182818\\ldots\\rm{e} = 2.7182818\\ldots, \\rm{\\pi} = 3.1415926\\ldots\\rm{\\pi} = 3.1415926\\ldots, \\rm{i}^2 = -1\\rm{i}^2 = -1, etc.) should be written in upright font. Regarding \\pi\\pi, the writing guidelines of Chinese Physics B conflict with the international standard ISO 80000-2. The author believes the international standard should be followed, using upright font.</p> <ul> <li>Variables should be written in italic font.</li> <li>Units should be written in upright font.</li> <li>Mathematical functions should be written in upright font. This refers to special functions like \\rm{sin}(x)\\rm{sin}(x), not general functions like f(x)f(x).</li> </ul> <p>Pay special attention to the following rules:</p> <ul> <li>Neutron mass m_nm_n and proton mass m_pm_p are italic, but atomic mass \\rm{u}\\rm{u} is upright.</li> <li>Electron charge ee is italic, but electronvolt \\rm{eV}\\rm{eV} is upright.</li> <li>The natural constant \\rm{e}\\rm{e} is upright.</li> <li>The differential operator \\rm{d}\\rm{d} should be written in upright font (according to the 2019 revision of the international standard ISO 80000-2). However, in AMS (American Mathematical Society) journals, the differential symbol is often written as d xd x, which is a traditional practice. In fact, many journals or publishers do not strictly follow these rules and instead adhere to the author's preferences.</li> <li>In mathematics, points and lines (e.g., point A, line AB) are written in upright font. Axes and planes are written in italic font. The origin of coordinates is written in upright font as \\rm{O}\\rm{O}. There is considerable debate on this point, and no unified standard seems to exist.</li> </ul> <p>Additionally:</p> <ul> <li>Uppercase English letters generally represent matrices, while lowercase letters represent variables or vectors. (This point is debatable, as references often provide conflicting guidelines.)</li> </ul>","tags":["Research","Figures"]},{"location":"en/sci/minimal_code/format_guidelines/#miscellaneous","title":"Miscellaneous","text":"<p>The rules for upright and italic Greek letters seem even more complicated. It appears that this issue has not been thoroughly considered.</p> <p>The conclusion might be that the \"guidelines\" are not truly standardized.</p>","tags":["Research","Figures"]},{"location":"en/sci/minimal_code/format_guidelines/#references","title":"References","text":"<ul> <li>Quantities and Units in Atomic and Nuclear Physics</li> <li>Chinese Physics B Writing Guidelines</li> <li>LaTeX Guidelines</li> </ul>","tags":["Research","Figures"]},{"location":"en/sci/minimal_code/jupyternotebook/","title":"Jupyter Notebook","text":""},{"location":"en/sci/minimal_code/jupyternotebook/#programming-languages-supported-by-jupyter-notebook","title":"Programming Languages Supported by Jupyter Notebook","text":"<p>Jupyter Notebook, formerly known as IPython Notebook, has expanded to support multiple programming languages, including but not limited to:</p> <ul> <li>Python</li> <li>R</li> <li>Julia</li> <li>Scala</li> <li>Ruby</li> <li>JavaScript</li> <li>Bash</li> <li>C++</li> <li>Go</li> <li>Kotlin</li> </ul> <p>This multi-language support makes Jupyter Notebook a powerful tool in data science, machine learning, and education.</p>"},{"location":"en/sci/minimal_code/jupyternotebook/#installing-jupyter-notebook","title":"Installing Jupyter Notebook","text":"<p>It is recommended to install Jupyter Notebook using pip. Run the following command in the terminal: <pre><code>pip install jupyter metakernel\n</code></pre></p> <p>After installation, test if it works correctly by running: <pre><code>jupyter-notebook\n</code></pre></p> <p>If using ROOT, add the following to your <code>.bashrc</code> file in your home directory: <pre><code>source (pathof)thisroot.sh\n</code></pre></p> <p>Then, navigate to your project directory and run: <pre><code>root --notebook\n</code></pre></p>"},{"location":"en/sci/minimal_code/jupyternotebook/#steps-to-add-a-kernel","title":"Steps to Add a Kernel","text":"<p>To add a new kernel in Jupyter Notebook, follow these steps:</p> <ol> <li> <p>Install the Required Programming Language Environment    Ensure the runtime environment for the target programming language is installed, such as Python, R, or Julia.</p> </li> <li> <p>Install the Jupyter Kernel    Install the corresponding Jupyter kernel for the target language. For example:  </p> </li> <li>For Python, use <code>ipykernel</code>: <pre><code>pip install ipykernel\n</code></pre></li> <li>For R, use <code>IRkernel</code>: <pre><code>install.packages(\"IRkernel\")\nIRkernel::installspec()\n</code></pre></li> <li>For Julia, use <code>IJulia</code>: <pre><code>using Pkg\nPkg.add(\"IJulia\")\n</code></pre></li> <li> <p>For C#, use <code>dotnet-interactive</code>: <pre><code>dotnet tool install -g Microsoft.dotnet-interactive\ndotnet interactive jupyter install\n</code></pre>      Or <code>clingkernel</code>: <pre><code>pip install clingkernel\nclingkernel install --sys-prefix\n</code></pre></p> </li> <li> <p>Register the Kernel    After installation, the kernel should automatically register with Jupyter Notebook. If not, you can manually register it using a command like: <pre><code>python -m ipykernel install --user --name=my_kernel_name\n</code></pre></p> </li> <li> <p>Launch Jupyter Notebook    Start Jupyter Notebook and select the newly added kernel when creating a new file.</p> </li> </ol> <p>By following these steps, you can add and use new kernels in Jupyter Notebook to support additional programming languages.</p>"},{"location":"en/sci/minimal_code/jupyternotebook/#running-bash-scripts-in-jupyter-notebook","title":"Running Bash Scripts in Jupyter Notebook","text":"<p>You can run Bash scripts in Jupyter Notebook using the following methods:</p> <ol> <li> <p>Using the <code>!</code> Command    Run Bash commands or scripts directly in a code cell using <code>!</code>. For example: <pre><code>!sh script.sh\n</code></pre></p> </li> <li> <p>Using the <code>subprocess</code> Module    Use the <code>subprocess</code> module in Python to run Bash scripts. For example: <pre><code>import subprocess\nsubprocess.run(['sh', 'script.sh'])\n</code></pre></p> </li> <li> <p>Using the <code>%%bash</code> Magic Command    Use the <code>%%bash</code> magic command in a code cell to run Bash scripts. For example: <pre><code>%%bash\n# Bash script content\nsh script.sh\n</code></pre></p> </li> </ol> <p>These methods allow you to easily run Bash scripts in Jupyter Notebook and interact with system commands.</p>"},{"location":"en/sci/minimal_code/jupyternotebook/#using-root-in-jupyter-notebook","title":"Using ROOT in Jupyter Notebook","text":"<p>jupyroot</p> <ol> <li>Install ROOT6 (&gt; 6.05)</li> <li>Install dependencies: <code>pip install jupyter metakernel</code></li> </ol>"},{"location":"en/sci/minimal_code/jupyternotebook/#start-using-rootbooks","title":"Start Using ROOTbooks","text":"<p>Set up the ROOT environment (<code>. $ROOTSYS/bin/thisroot.[c]sh</code>) and type in your shell: <pre><code>root --notebook\n</code></pre> This will start a ROOT-flavored notebook server on your computer.</p> <p>Alternatively, to use the Jupyter command directly: <pre><code>jupyter kernelspec install $ROOTSYS/etc/root/notebook/kernels/root --user\n</code></pre></p> <p>Once the server is running, you can use ROOT with two kernels:</p> <ol> <li>ROOT C++: A new kernel provided by ROOT.</li> <li>Python: Already provided by Jupyter.</li> </ol>"},{"location":"en/sci/minimal_code/jupyternotebook/#c-rootbook","title":"C++ ROOTbook","text":"<p>ROOT offers a C++ kernel that transforms the notebook into a ROOT prompt. Features include embedded graphics, syntax highlighting, and tab completion.</p> <p>Example of plotting a histogram in a C++ ROOTbook: <pre><code>TCanvas c;\nTH1F h(\"h\",\"ROOT Histo;X;Y\",64,-4,4);\nh.FillRandom(\"gaus\");\nh.Draw();\nc.Draw();\n</code></pre></p>"},{"location":"en/sci/minimal_code/jupyternotebook/#python-rootbook","title":"Python ROOTbook","text":"<p>To use Python, create a new Python kernel and import the ROOT libraries: <pre><code>import ROOT\n</code></pre> Example: <pre><code>c = ROOT.TCanvas(\"c\")\nh = ROOT.TH1F(\"h\",\"ROOT Histo;X;Y\",64,-4,4)\n</code></pre> You can also mix Python and C++ in the same notebook using the %%cpp magic: <pre><code>%%cpp\nh-&gt;FillRandom(\"gaus\");\nh-&gt;Draw();\nc-&gt;Draw();\n</code></pre></p>"},{"location":"en/sci/minimal_code/jupyternotebook/#ipyplot","title":"ipyplot","text":"<pre><code>video_paths = [\"my_video.mp4\"]\nvideo_labels = [\"My Video\"]\nipyplot.plot_videos(video_paths, video_labels, width=320)\n</code></pre> <pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport ipyplot\nimport tempfile\nimport os\n\n# 1. Use matplotlib to create a plot\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nplt.plot(x, y)\nplt.xlabel(\"X-axis\")\nplt.ylabel(\"Y-axis\")\nplt.title(\"Matplotlib Plot\")\n\n# 2. Save the matplotlib plot to a temporary file\nwith tempfile.NamedTemporaryFile(suffix=\".png\", delete=False) as tmp_file:\n    temp_filename = tmp_file.name\n    plt.savefig(temp_filename)\n\n# 3. Display the temporary image file using ipyplot\nipyplot.plot_images([temp_filename], [\"Matplotlib Plot\"], img_width=400)\n\n# 4. Clean up the temporary file\nos.remove(temp_filename)\n</code></pre>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#_1","title":"smsimultor","text":"<p>read_me</p> <p>readme.txt 16 Oct 2019 --- version 5.0 (compiled with Geant4.10.05.p01) 28 Dec 2017 --- version 4.0 (compiled with Geant4.9.6.p04) 18 Jul 2014 --- version 3.2 (compiled with Geant4.9.6.p02)</p>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#abstract","title":"ABSTRACT","text":"<p>\"smsimulator\" is developed by R. Tanaka, Y. Kondo, and M. Yasuda for simulating SAMURAI experiment. From version 5.0, Geant4.10.X is compatible. Version 4.X or former is compatible to Geant4.9.X. From version3.0, conversion from Geant4 steps to observables, like TArtNEBULAPla is implemented. ANAROOT library is required. simtrace, which simulate trajectory of charged particles in SAMURAI magnet, is also included form this version. </p> <p>Currently smsimulator includes,  - README: this file  - setup.sh: setup script  - smg4lib: main files to create libraries for SAMURAI simulation  - crosssection: create cross section data set, and plot by gnuplot  - get_pdgmass: simple program to show PDG mass of heavy ion  - simtrace: simple example for checking trajectory in SAMURAI Magnet  - simdayone: simulator example for heavy ion + neutron   - sim_samurai21: simulator example for 28O experiment including NeuLAND  - sim_tm1510: TM1510, SAMURAI with DALI, NeuLAND, NEBULA  - sim_dali: DALI  - sim_s21dali: DALI with MINOS(as object) for SAMURAI21 experiment  - sim_catana: CATANA</p>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#how-to-use","title":"HOW TO USE","text":"<p>(1) Install Geant4 The smsimulator 5.x is compatible with Geant4.10.x. Smsimulator 4.x is compatible with Geant4.9.x. (Version4.9.6.p02 or later is recommended for neutron simulation.) If you use old version, you need modifications in addition to (1.a). See details at http://be.nucl.ap.titech.ac.jp/~ryuki/iroiro/geant4/ (written in Japanese)</p> <p>(1.a) Modify G4INCLCascade.cc for avoiding fatal abort as follows. (not necessary for smsimulator 5.x)</p> <p>G4bool INCL::prepareReaction(const ParticleSpecies &amp;projectileSpecies, const G4double kineticEnergy, const G4int A, const G4int Z) {     if(A &lt; 0 || A &gt; 300 || Z &lt; 1 || Z &gt; 200) {       ERROR(\"Unsupported target: A = \" &lt;&lt; A &lt;&lt; \" Z = \" &lt;&lt; Z &lt;&lt; std::endl);       ERROR(\"Target configuration rejected.\" &lt;&lt; std::endl);       return false;     }</p> <pre><code>//--&gt; added to avoid abort\nif (projectileSpecies.theA==1 &amp;&amp; A==1){\n  return false;\n}\n//&lt;--\n\n// Initialise the maximum universe radius\ninitUniverseRadius(projectileSpecies, kineticEnergy, A, Z);\n</code></pre> <p>(1.b) Compile Geant4</p> <p>(2) install ANAROOT (2.a) ANAROOT can be downloaded form the RIBFDAQ web page. http://ribf.riken.jp/RIBFDAQ/</p> <p>(3) Compile smsimulator Modify smsimulator/setup.sh for your system.</p> <p>$ . setup.sh $ cd smg4lib $ make $ cd ../simtrace $ make ... (same for simdayone, get_pdgmass, crosssection, ...)</p> <p>(4) Run Geant4 Copy the working directory \"smsimulator/work\" to somewhere. (Working at \"smsimulator/work\" is not recommended for future update of smsimulator.) The field map of the SAMURAI magnet can be downloaded at http://ribf.riken.jp/SAMURAI/. You can find some examples of Geant4 macros in work/xxxxx/g4mac/examples/. </p> <ul> <li> <p>vis.mac   example of visualization</p> </li> <li> <p>example_Pencil.mac   example for pencil beam</p> </li> <li> <p>example_Gaus.mac   example for mono-energetic beam having position and angle spread of   Gaussian distributions</p> </li> <li> <p>example_Tree.mac   example for Tree input for phase space decay of three body system</p> </li> </ul> <p>(4.a) Detector geometry of NEBULA is given by two csv files in smsimulator/simdayone/geometry/.   - NEBULADetectors_xxx.csv : position of each detector   - NEBULA_xxx.csv : geometry of whole NEBULA system</p> <p>Examples of perl scripts are also included for creating the parameter  files. Use as follows. </p> <p>$ ./CreatePara_NEBULAFull.pl &gt; NEBULADetector_Full.csv</p> <p>(4.b) Output root file Output root file contains Tree of   - Geant4 steps   - Parameters   - Observables converted from Geant4 steps. Since storing Geant4 steps gives large file size, you can skip storing Geant4 steps via    - /action/data/NEBULA/StoreSteps false in geant4 macro   - NEBULASimDatainitializer::SetDataStore(false).</p> <p>(5) Analyze Geant4 output See examples of ROOT macros in smsimulator/xxxx/macros/examples/ for  analyzing Geant4 output.</p> <ul> <li> <p>GenerateInputTree_PhaseSpaceDecay.cc     example to make input tree file for simulation of three body phase     space decay.</p> </li> <li> <p>analysis_example.cc     simple example for analyzing Geant4 output.</p> </li> </ul> <p>(5.a) Crosstalk analysis If you want to use example of crosstalk analysis, do following things.</p> <p>(5.a.1) Modify ANAROOT data class  Add the following lines in TArtNEBULAPla.hh (ANAROOT class) for TClonesArray::Sort.</p> <p>// overriding functions for sorting based on TAveSlw public:   Bool_t IsEqual(TObject obj) const {return fTAveSlw == ((TArtNEBULAPla)obj)-&gt;fTAveSlw;}   Bool_t IsSortable() const {return kTRUE;}   Int_t Compare(const TObject obj) const{     if (fTAveSlw &lt; ((TArtNEBULAPla)obj)-&gt;fTAveSlw) return -1;     else if (fTAveSlw &gt; ((TArtNEBULAPla*)obj)-&gt;fTAveSlw) return 1;     else return 0;   }</p> <p>(5.a.2) Make library file for ROOT  Make library file in smsimulator/work/smanalib/. $ cd smsimulator/work/smanalib/ $ ./auto.sh $ make $ make install</p> <p>Modify rootlogon.C to load the library and to add include path. You can find an example to use TArtCrosstalk_XXX classes in smsimulator/work/sim_samurai21/macros/examples/analysis_crosstalk_example.cc.</p>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#update-info","title":"UPDATE INFO","text":"<ul> <li>version 4.2</li> <li> <p>TargetThickness is added in TFragSimData</p> </li> <li> <p>version 3.2</p> </li> <li>NeuLAND is implemented</li> <li> <p>Example of crosstalk analysis is implemented</p> </li> <li> <p>version 3.0</p> </li> <li>simtrace is merged.</li> <li>conversion from Geant4 step data to TArtNEBULAPla is     implemented.</li> <li>definition of data class is modified.</li> <li>enable to fill air in the experimental room.</li> <li>command names of Messenger are organized.</li> <li>BeamTypeDemocraticDecay is removed because it can be done via     BeamTypeTree.</li> <li>DetectorConstruction for each element is prepared for future use. </li> </ul>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#hints","title":"HINTS","text":"<ul> <li> <p>Simulating a lot of events   To avoid abortion, put the follwoing line in your g4mac/xxx.mac.   /control/suppressAbortion 1   It is improved in Geant4.10.x.</p> </li> <li> <p>Update your code for smsimulator 5.x + Geant4.10.x.   When you use units, add \"#include \"G4SystemOfUnits.hh\"\".</p> </li> <li> <p>Command via messenger   you can see the list of implemented command by the following way in   the interactive mode of Geant4.   Idle&gt; ls /action/   Idle&gt; ls /samurai/</p> </li> <li> <p>Event generator</p> </li> <li> <p>Arbitrary distribution can be inputted to smsimulator via     tree. get_pdgmass is useful to obtain mass value of heavy ion.</p> </li> <li> <p>Simulation for your experiment with NeuLAND</p> </li> <li> <p>smsimulator3.2/sim_samurai21 is an example for 28O experiment     using NEBULA+NeuLAND configuration. You can copy the directory to     sim_samuraiXX, for example, and modify it for your experimental     setup.</p> </li> <li> <p>Your crosstalk algorithm</p> </li> <li> <p>You can develop your crosstalk algorithm. Base class     TArtCrosstalkAnalysis is useful for the purpose. Copy     TArtCrosstalkAnalysis_XXX.cc and .hh, and modify them. Don't      forget to add a line in smanalib/sources/smana_linkdef.hh to use     it in ROOT.</p> </li> <li> <p>Your data class   If you want to create your data class, create following classes.</p> </li> <li>TXXXSimData : data class for storing Geant4 steps</li> <li>XXXSimDataInitializer : Initializer (inherit SimDataInitializer)</li> <li>XXXSimDataConverter : Converter from Geant4 steps to observables     (inherit SimDataConverter)</li> <li>XXXSD : Sensitive Detector class (inherit G4VSensitiveDetector)</li> </ul> <p>Then you can control them via SimDataManager.</p>"},{"location":"en/sci/project/D_polar_exp/smsimulator/#to-do","title":"TO DO","text":"<ul> <li>Several things are NOT included</li> <li>resolution of heavy ion</li> <li> <p>energy loss difference in target (one of the important effect on     Erel resolution)</p> </li> <li> <p>Documentation about the validity/evaluation of the simulator.</p> </li> </ul>"},{"location":"en/sci/project/samurai/RIDF/","title":"Detailed Explanation of RIKEN RIDF File Structure: Data Block (Block) Description","text":"<p>RIKEN's RIDF (RIBF Data Format) file is a binary file, and its basic unit is the data block (Block). The entire file consists of a series of such data blocks arranged sequentially. Each data block describes specific information, such as raw detector data, event information, scaler data, comments, or status information.</p> <p>The nested structure of [block[segment[data point]]]:</p> <p>[Event [[Event Header], [Data Segment 1 [[Segment Header 1], [Data Point Set 1]]], [Data Segment 2 [[Segment Header 2], [Data Point Set 2]]], ...]]</p>"},{"location":"en/sci/project/samurai/RIDF/#general-block-structure","title":"General Block Structure","text":"<p>Each data block begins with one or more Header Word(s), which define the attributes and type of the data block. The most critical is the first header word, typically 32 bits (4 bytes) in size, structured as follows:</p> <ol> <li> <p>First Header Word (32 bits):</p> <ul> <li><code>Revision</code> (2 bits): The version number of the block format. Typically <code>0b00</code> (decimal 0), representing version 1.</li> <li><code>Layer</code> (2 bits): Defines the depth of the data block in the hierarchical structure. For example, a top-level block might be Layer 0, and its sub-blocks might be Layer 1, and so on.</li> <li><code>Class ID</code> (6 bits): This is the key field that distinguishes the type of data block. Different <code>Class ID</code> values represent different types of data blocks, such as event data, raw data segments, comments, etc. We will detail some common <code>Class ID</code> values below.</li> <li><code>Block Size</code> (22 bits): Defines the total size of the entire data block, measured in short words (2 bytes each). This size includes the header word(s) and all subsequent data. This field allows the reading program to determine how much data to read to fully retrieve the current block and locate the starting position of the next block.</li> </ul> </li> <li> <p>Address Word (32 bits) (usually immediately following the first header word):</p> <ul> <li>This 32-bit word is typically used to identify the source of the data. For data blocks generated by front-end electronics modules (e.g., VME modules), this address word is often the Event Fragment ID, or it may represent the IP address or other identifier of the front-end computer that generated the data.</li> </ul> </li> </ol> <p>Thus, a typical data block usually contains at least 8 bytes of header information (the first header word + address word). The subsequent content is entirely determined by the <code>Class ID</code>.</p>"},{"location":"en/sci/project/samurai/RIDF/#data-block-content-determined-by-class-id","title":"Data Block Content Determined by <code>Class ID</code>","text":"<p>The <code>Class ID</code> tells us what kind of data is contained in the block. Below are some common and important <code>Class ID</code> values in RIDF and their corresponding data block meanings:</p> <ul> <li> <p><code>Class ID = 0</code>: Event Fragment</p> <ul> <li>Purpose: Represents a data packet about an \"event\" sent from an independent data source (e.g., a data acquisition card, a front-end computer, or a subsystem).</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word (the address word is usually the unique ID of this fragment).</li> <li>May contain a fragment-specific header, such as a timestamp or trigger information.</li> <li>Core Content: Usually contains one or more Segment Blocks (<code>Class ID = 4</code>), which hold raw data from different detectors or electronics modules.</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 1</code>: Event Assembly</p> <ul> <li>Purpose: Combines data from different sources (i.e., multiple event fragments, <code>Class ID = 0</code>) that belong to the same physical event. This is the result of the event building process.</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word.</li> <li>May contain a global event header, such as a global event number or global timestamp.</li> <li>Contains multiple previously described Event Fragment Blocks (Event Fragment).</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 4</code>: Segment</p> <ul> <li>Purpose: This is the most basic unit containing actual raw detector data and is very important!</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word (the address word may have specific meanings at this level or be inherited from the parent block).</li> <li>Segment Header: A header specific to this data segment, typically containing:<ul> <li><code>Segment ID</code>: An integer uniquely identifying the source of this data segment (e.g., which detector, which module). The <code>Segment ID</code> itself is often structurally defined, including device, focal plane, detector type, and module number information.</li> <li>Data type indicator: Specifies the exact format of the subsequent data (e.g., ADC data, TDC data, pattern words, etc.).</li> <li>Channel count or data word count, etc.</li> </ul> </li> <li>Data Payload: The actual raw data values (e.g., ADC conversion results, TDC time measurements, etc.).</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 5</code>: Comment Block</p> <ul> <li>Purpose: Used to embed textual comments in the data file, such as run numbers, experimental conditions, operator notes, etc.</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word.</li> <li>A field specifying the length of the comment.</li> <li>Actual ASCII or UTF-8 text string.</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 11, 12, 13</code>: Scaler Block</p> <ul> <li>Purpose: Stores values of various scalers (e.g., beam intensity counts, trigger rate counts, etc.).</li> <li><code>Class ID = 11</code>: Non-cleared scaler (24 bits)</li> <li><code>Class ID = 12</code>: Cleared scaler (24 bits)</li> <li><code>Class ID = 13</code>: Non-cleared scaler (32 bits)</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word.</li> <li>Usually contains a field indicating the number of scaler channels.</li> <li>A series of scaler values.</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 16</code>: Timestamp Block</p> <ul> <li>Purpose: Records timestamp information, often used for event synchronization, dead time calculation, etc.</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word.</li> <li>One or more high-precision timestamp values.</li> </ul> </li> </ul> </li> <li> <p><code>Class ID = 21</code>: Status Block</p> <ul> <li>Purpose: Records the status information of the DAQ system or experiment.</li> <li>Typical Content:<ul> <li>Standard header word(s) and address word.</li> <li><code>Status ID</code>: Further subdivides the status type.<ul> <li><code>Status ID = 11</code>: Run start status, typically containing XML-formatted text describing various configurations and parameters at the start of the run.</li> <li><code>Status ID = 12</code>: Run end status, also containing XML-formatted text recording information at the end of the run.</li> </ul> </li> <li>Status data itself (e.g., XML text content).</li> </ul> </li> </ul> </li> </ul>"},{"location":"en/sci/project/samurai/RIDF/#hierarchical-nature","title":"Hierarchical Nature","text":"<p>It is important to understand the hierarchical structure of RIDF. A high-level data block (e.g., <code>Class ID = 1</code> Event Assembly Block) can contain multiple lower-level data blocks (e.g., multiple <code>Class ID = 0</code> Event Fragment Blocks), and an Event Fragment Block can contain multiple <code>Class ID = 4</code> Segment Blocks. The <code>Block Size</code> field ensures that decoding software can correctly skip or enter these nested blocks.</p> <p>This structure makes the data both organized and highly flexible, capable of meeting the needs of RIKEN's complex nuclear physics experiments. Software for decoding RIDF files (e.g., ANAROOT) parses these data blocks one by one, identifies their <code>Class ID</code>, and extracts valid data based on the definitions of different block types.</p> <p>You can use this macros to convert RIDF to human readble data. <pre><code>#include &lt;fstream&gt; // Add file stream header\n#include &lt;iostream&gt; // Add to use std::cerr\n\nvoid convertRIDFtoReadable(const char* ridfFile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0013.ridf\") {\n    // Load necessary libraries\n    gSystem-&gt;Load(\"libanacore.so\");\n\n    // Open RIDF file\n    TArtEventStore *estore = new TArtEventStore();\n    if (!estore-&gt;Open(ridfFile)) {\n        std::cerr &lt;&lt; \"Error: Failed to open RIDF file: \" &lt;&lt; ridfFile &lt;&lt; std::endl;\n        return;\n    }\n\n    TArtRawEventObject *rawevent = estore-&gt;GetRawEventObject();\n\n    // Open output file\n    std::ofstream outFile(\"readable.txt\");\n    if (!outFile.is_open()) {\n        std::cerr &lt;&lt; \"Error: Failed to open output file: readable.txt\" &lt;&lt; std::endl;\n        return;\n    }\n\n    int neve = 0; // Event counter\n    while (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 10) { // Only process the first 10 blocks\n        outFile &lt;&lt; \"==================== Event \" &lt;&lt; neve + 1 &lt;&lt; \" ====================\" &lt;&lt; std::endl;\n\n        // Iterate over all segments in the current event\n        for (int i = 0; i &lt; rawevent-&gt;GetNumSeg(); i++) {\n            TArtRawSegmentObject *seg = rawevent-&gt;GetSegment(i);\n            outFile &lt;&lt; \"Segment \" &lt;&lt; i + 1 &lt;&lt; \":\" &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Device: \" &lt;&lt; seg-&gt;GetDevice() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  FP: \" &lt;&lt; seg-&gt;GetFP() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Detector: \" &lt;&lt; seg-&gt;GetDetector() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  Module: \" &lt;&lt; seg-&gt;GetModule() &lt;&lt; std::endl;\n            outFile &lt;&lt; \"  NumData: \" &lt;&lt; seg-&gt;GetNumData() &lt;&lt; std::endl;\n\n            // Iterate over all data points in the segment\n            for (int j = 0; j &lt; seg-&gt;GetNumData(); j++) {\n                TArtRawDataObject *d = seg-&gt;GetData(j);\n                int geo = d-&gt;GetGeo();\n                int ch = d-&gt;GetCh();\n                int val = d-&gt;GetVal();\n                int cat = d-&gt;GetCategoryID();\n                int det = d-&gt;GetDetectorID();\n                int id = d-&gt;GetDatatypeID();\n\n                outFile &lt;&lt; \"    Data \" &lt;&lt; j + 1 &lt;&lt; \":\" &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Geo: \" &lt;&lt; geo &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Channel: \" &lt;&lt; ch &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Value: \" &lt;&lt; val &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Category ID: \" &lt;&lt; cat &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Detector ID: \" &lt;&lt; det &lt;&lt; std::endl;\n                outFile &lt;&lt; \"      Datatype ID: \" &lt;&lt; id &lt;&lt; std::endl;\n            }\n        }\n\n        estore-&gt;ClearData(); // Clear current event data\n        neve++;\n    }\n\n    outFile &lt;&lt; \"Conversion completed. Processed \" &lt;&lt; neve &lt;&lt; \" blocks.\" &lt;&lt; std::endl;\n\n    // Close output file\n    outFile.close();\n\n    std::cout &lt;&lt; \"Conversion completed. Results saved to readable.txt\" &lt;&lt; std::endl;\n}\n</code></pre></p> <p>source:</p> <p>https://www-nh.scphys.kyoto-u.ac.jp/~yano/ws/en/docs/documents/daq/dataformat/ridf/</p> <p>https://ribf.riken.jp/RIBFDAQ/index.php?plugin=attach&amp;refer=DAQ%2FManual%2FDataformat&amp;openfile=dataformat_101112e.pdf</p>"},{"location":"en/sci/project/samurai/anaroot2version/","title":"ANAROOT Detailed Documentation","text":""},{"location":"en/sci/project/samurai/anaroot2version/#references","title":"References","text":"<p>[1] ANAROOT-related web pages, such as tutorials and overview pages. https://ribf.riken.jp/RIBFDAQ/index.php?plugin=attach&amp;refer=Tools%2FAnalysis%2FANAROOT&amp;openfile=anaroot_ribfusermeeting2013.pdf</p> <p>[2] ANAROOT Installation Guide. https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FInstallation</p> <p>[3] ANAROOT homepage or developer information. https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT</p> <p>[4] ANAROOT Tutorial page. https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FTutorial</p> <p>[5] ANAROOT Overview (Abstract) page. https://ribf.riken.jp/RIBFDAQ/index.php?Tools%2FAnalysis%2FANAROOT%2FAbstract</p> <p>[6] GitHub or other code hosting platforms (as an auxiliary source for obtaining source code). https://docs.github.com/en/repositories/working-with-files/using-files/downloading-source-code-archives</p> <p>[7] Same as [6]. https://docs.github.com/enterprise-cloud@latest/repositories/working-with-files/using-files/downloading-source-code-archives</p> <p>[8] ANAROOT internal class documentation or header file comments (e.g., <code>TArtStoreManager.hh</code>, <code>TArtRawEventObject.hh</code>, etc.).</p> <p>[9] ANAROOT documentation or examples on parameter management (such as <code>TArtUserParameters</code>, <code>TArtSAMURAIParameters</code>).</p> <p>[10] ANAROOT documentation or examples on <code>TArtAnaLoop</code> and <code>Anafile</code> usage (e.g., related to <code>TAlEncExample</code>). http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/analoop</p> <p>[11] BigRIPS spectrometer technical documentation or publications. https://inis.iaea.org/records/w1kc8-5ep03/files/53109350.pdf?download=1</p> <p>[12] SAMURAI spectrometer technical documentation or publications. https://www.nishina.riken.jp/ribf/SAMURAI/overview.html</p> <p>[13] Same as [12]. https://ribf.riken.jp/SAMURAI/120425_SAMURAIConstProp.pdf</p> <p>[14] Doctoral theses or detailed technical reports involving SAMURAI PDC and NEBULA data analysis (e.g., mentioning MDF method, cross-talk correction algorithms, etc.). https://tuprints.ulb.tu-darmstadt.de/20267/1/Dissertation_LehrChristopher_2022-01-04.pdf</p> <p>[15] General literature or specific ANAROOT/SAMURAI documentation on the application of Kalman filtering in track reconstruction. https://www.nishina.riken.jp/researcher/APR/APR049/pdf/161.pdf</p> <p>[16] NEBULA detector technical documentation or publications. https://www.nishina.riken.jp/researcher/APR/APR056/pdf/91.pdf</p> <p>[17] Publications on NEBULA detector (including NEBULA-Plus) design, performance, and calibration. https://indico.cern.ch/event/865322/contributions/5048179/attachments/2512879/4319595/2022-02-21%20Neutron%20detectors%20v6.pdf</p> <p>[18] General principles or NEBULA-specific literature on neutron/gamma discrimination (PSD) in plastic scintillators. https://inis.iaea.org/collection/NCLCollectionStore/_Public/55/078/55078687.pdf</p> <p>[19] Sections on <code>analoop</code> and <code>reference</code> in the ANAROOT manual maintained by Kondo-san. http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/analoop</p> <p>[20] Sections on CUI commands in the ANAROOT manual maintained by Kondo-san. http://be.nucl.ap.titech.ac.jp/~kondo/moin/moin.cgi/ANAROOT/Manual/reference</p> <p>[21] ROOT Beginner's Guide. https://root.cern.ch/root/htmldoc/guides/primer/ROOTPrimer.html</p> <p>[22] Same as [21]. https://www.ao-universe.com/guides/classic-ao/gameplay-guides-6/introduction-to-scripting</p> <p>[23] ROOT histogram tutorials. https://root.cern/doc/master/group__tutorial__hist.html</p> <p>[24] Same as [23]. https://root.cern/manual/histograms/</p> <p>[25] Other RIBF experiment publications using ANAROOT for data analysis. https://tuprints.ulb.tu-darmstadt.de/9192/7/PhD_thesis_JKahlbow.pdf</p> <p>[26] Same as [25]. https://indico.global/event/6805/contributions/58357/attachments/29459/52337/OS_day2_id48_ichinohe.pdf</p>"},{"location":"en/sci/project/samurai/anaroot_nebula/","title":"Anaroot nebula","text":"<p>TArtCalibNEBULAHPC *nebulahpc_calib = new TArtCalibNEBULAHPC();</p> <p>Function: This object (nebulahpc_calib) is responsible for calibrating the NEBULA High Pressure Chamber (HPC) data. The HPC is mainly used as a veto detector for neutron detection in NEBULA, to distinguish neutrons from charged particles (such as electrons or protons produced by gamma-ray conversion).</p> <ul> <li>Input: Reads raw data from the HPC detector (e.g., TDC timing information) from TArtEventStore.</li> <li>Processing:</li> <li>Applies time calibration parameters (managed by TArtSAMURAIParameters).</li> <li>Converts raw TDC values to physical time.</li> <li>Performs basic hit identification.</li> <li>Output: Calibrated TArtNEBULAHPC objects, each containing calibrated information for an HPC hit (such as time, detector ID, etc.), stored in a \"NEBULAHPC\" TClonesArray in TArtStoreManager.</li> </ul> <p>TArtCalibNEBULA *nebulapla_calib = new TArtCalibNEBULA();</p> <p>Function: This object (nebulapla_calib) is responsible for calibrating the NEBULA plastic scintillator (Pla) data, which is the main component of the NEBULA neutron detector.</p> <ul> <li>Input: Reads raw data from both ends of the plastic scintillator PMTs (TDC timing and QDC charge) from TArtEventStore.</li> <li>Processing:</li> <li>Applies time and charge calibration parameters.</li> <li>Calculates the average time, time difference (for position reconstruction), and average charge for each hit.</li> <li>Calculates the hit position.</li> <li>Converts calibrated time and charge to physical units (ns, MeVee).</li> <li>Output: Calibrated TArtNEBULAPla objects, each containing detailed calibration information for a hit (ID, Layer, SubLayer, QUAveCal, TAveCal, PosCal, etc.), stored in a \"NEBULAPla\" TClonesArray in TArtStoreManager.</li> </ul> <p>TArtRecoNeutron *reco_neutron = new TArtRecoNeutron();</p> <p>Function: This object (reco_neutron) is responsible for reconstructing neutron events from the calibrated neutron detector data. This is a higher-level reconstruction step.</p> <ul> <li>Input:</li> <li>Mainly relies on the collection of TArtNEBULAPla objects produced by TArtCalibNEBULA (plastic scintillator hit information).</li> <li>May use the output of TArtCalibNEBULAHPC (TArtNEBULAHPC objects) as a charged particle veto signal to improve neutron identification purity.</li> <li>May also require information from other detectors (such as beam detector timing as a TOF reference).</li> <li>Processing:</li> <li>Clustering: Groups TArtNEBULAPla hits that are close in space and time into potential neutron clusters.</li> <li>Particle identification (PID): Uses charge information (dE/dx) and time-of-flight (TOF) to distinguish neutrons from other particles.</li> <li>Time-of-flight calculation: Calculates the neutron TOF from the target (or reference detector) to NEBULA.</li> <li>Energy reconstruction: Calculates neutron kinetic energy based on TOF and flight path length.</li> <li>Position reconstruction: Determines the neutron interaction position.</li> <li>Output: Reconstructed TArtNeutron objects (or similar classes), each containing the physical properties of a neutron (energy, time, position, angle, etc.), stored in a \"Neutron\" TClonesArray in TArtStoreManager.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_nebula/#nebula-reconstruction-procedure-sample-code-workflow","title":"NEBULA Reconstruction Procedure (Sample Code Workflow)","text":"<ul> <li>Initialization and Parameter Loading</li> <li>Load necessary libraries and headers, set include paths.</li> <li>Obtain and load the <code>TArtSAMURAIParameters</code> parameter file.</li> <li> <p>Open the RIDF data file.</p> </li> <li> <p>Reconstruction Class Initialization</p> </li> <li> <p>Create objects for <code>TArtCalibNEBULAHPC</code>, <code>TArtCalibNEBULA</code>, and <code>TArtRecoNeutron</code>.</p> </li> <li> <p>Event Loop Processing</p> </li> <li> <p>For each event (e.g., the first 10 events), perform the following:</p> <ul> <li>Clear data from the previous event (<code>ClearData()</code>).</li> <li>Call <code>ReconstructData()</code> to perform hit and neutron reconstruction.</li> <li>Retrieve and output HPC hits, Pla hits, and neutron reconstruction results.</li> <li>Clear raw event data in preparation for the next event.</li> </ul> </li> <li> <p>Output Content</p> </li> <li>Output the number of HPC hits and details for each event (ID, Layer, SubLayer, TRaw, TCal, etc.).</li> <li>Output the number of Pla hits and details (ID, Layer, SubLayer, QUAveCal, TAveCal, PosCal, etc.).</li> <li> <p>Output the number of reconstructed neutrons and their physical quantities (Time, MeVee, PosX, PosY, PosZ, etc.).</p> </li> <li> <p>Cleanup and Resource Release</p> </li> <li>After the event loop, release all allocated objects and resources.</li> </ul> <p>For the specific code implementation, see the example integrated in the latter part of this file.</p> <pre><code>#include &lt;iostream&gt;\nvoid recoNebulaTrack(const char* ridffile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0073.ridf\") {\n    gSystem-&gt;Load(\"libXMLParser.so\");\n    gSystem-&gt;Load(\"libanacore.so\");\n\n    // It's good practice to set the include path if your custom classes are not in standard ROOT include paths\n    // Adjust this path if your anaroot/users/tbt/src/include is different or if headers are elsewhere\n    gSystem-&gt;AddIncludePath(\"-I/home/s057/exp/exp2505_s057/anaroot/users/tbt/src/include\");\n    gSystem-&gt;AddIncludePath(\"-I/home/s057/exp/exp2505_s057/anaroot/users/tbt/src/sources/Reconstruction/SAMURAI/include\");\n\n\n    TArtSAMURAIParameters *param = TArtSAMURAIParameters::Instance();\n    if (!param) {\n        std::cerr &lt;&lt; \"Error: Failed to get TArtSAMURAIParameters instance.\" &lt;&lt; std::endl;\n        return;\n    }\n\n\n    param-&gt;LoadParameter((char*)\"/home/s057/exp/exp2505_s057/anaroot/users/tbt/db/NEBULA.2023_7_6.xml\"); \n\n    TArtEventStore *estore = new TArtEventStore();\n    if (!estore-&gt;Open(ridffile)) {\n        std::cerr &lt;&lt; \"Error: Cannot open RIDF file: \" &lt;&lt; ridffile &lt;&lt; std::endl;\n        delete estore;\n        return;\n    }\n\n    // Initialize reconstruction classes\n    TArtCalibNEBULAHPC *nebulahpc_calib = new TArtCalibNEBULAHPC();\n    TArtCalibNEBULA    *nebulapla_calib = new TArtCalibNEBULA(); // Corrected type\n    TArtRecoNeutron    *reco_neutron    = new TArtRecoNeutron();\n\n    TArtStoreManager *sman = TArtStoreManager::Instance();\n\n    std::cout &lt;&lt; \"Starting event loop for NEBULA reconstruction...\" &lt;&lt; std::endl;\n    int neve = 0;\n    while (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 10) { // Process first 10 events\n        std::cout &lt;&lt; \"========== Event \" &lt;&lt; neve + 1 &lt;&lt; \" ==========\" &lt;&lt; std::endl;\n\n        // 1. Clear data from previous event\n        nebulahpc_calib-&gt;ClearData();\n        nebulapla_calib-&gt;ClearData(); \n        reco_neutron-&gt;ClearData();\n\n        // 2. Reconstruct current event's data\n        // LoadRawData is typically called internally by ReconstructData if fDataLoaded is false.\n        // If your framework requires explicit LoadRawData, uncomment the lines below.\n        // nebulahpc_calib-&gt;LoadRawData(); \n        // nebulapla_calib-&gt;LoadData(); // TArtCalibNEBULA uses LoadData()\n\n        nebulahpc_calib-&gt;ReconstructData();\n        nebulapla_calib-&gt;ReconstructData(); \n        reco_neutron-&gt;ReconstructData();\n\n        // 3. Output reconstructed results\n\n        // Output HPC hits\n        int n_hpc_hits = nebulahpc_calib-&gt;GetNumNEBULAHPC();\n        std::cout &lt;&lt; \"  NEBULA HPC Hits: \" &lt;&lt; n_hpc_hits &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_hpc_hits; ++i) {\n            TArtNEBULAHPC* hit = nebulahpc_calib-&gt;GetNEBULAHPC(i);\n            if (hit) {\n                std::cout &lt;&lt; \"    HPC Hit \" &lt;&lt; i\n                          &lt;&lt; \": ID=\" &lt;&lt; hit-&gt;GetID()\n                          &lt;&lt; \", Layer=\" &lt;&lt; hit-&gt;GetLayer()\n                          &lt;&lt; \", SubLayer=\" &lt;&lt; hit-&gt;GetSubLayer()\n                          &lt;&lt; \", TRaw=\" &lt;&lt; hit-&gt;GetTRaw()\n                          &lt;&lt; \", TCal=\" &lt;&lt; hit-&gt;GetTCal()\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        // Output Pla hits\n        int n_pla_hits = nebulapla_calib-&gt;GetNumNEBULAPla();\n        std::cout &lt;&lt; \"  NEBULA Pla Hits: \" &lt;&lt; n_pla_hits &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_pla_hits; ++i) {\n            TArtNEBULAPla* pla_hit = nebulapla_calib-&gt;GetNEBULAPla(i);\n            if (pla_hit) {\n                std::cout &lt;&lt; \"    Pla Hit \" &lt;&lt; i\n                          &lt;&lt; \": ID=\" &lt;&lt; pla_hit-&gt;GetID()\n                          &lt;&lt; \", Layer=\" &lt;&lt; pla_hit-&gt;GetLayer()\n                          &lt;&lt; \", SubLayer=\" &lt;&lt; pla_hit-&gt;GetSubLayer()\n                          &lt;&lt; \", QUAveCal=\" &lt;&lt; pla_hit-&gt;GetQAveCal()\n                          &lt;&lt; \", TAveCal=\" &lt;&lt; pla_hit-&gt;GetTAveCal()\n                          &lt;&lt; \", PosCal=\" &lt;&lt; pla_hit-&gt;GetPosCal()\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        // Output Neutron reconstruction results\n        TClonesArray* neutron_array = reco_neutron-&gt;GetNeutronArray();\n        int n_neutron = neutron_array ? neutron_array-&gt;GetEntriesFast() : 0;\n        std::cout &lt;&lt; \"  Reconstructed Neutrons: \" &lt;&lt; n_neutron &lt;&lt; std::endl;\n        for (int i = 0; i &lt; n_neutron; ++i) {\n            TArtNeutron* neutron = (TArtNeutron*)neutron_array-&gt;At(i);\n            if (neutron) {\n                std::cout &lt;&lt; \"    Neutron \" &lt;&lt; i\n                          &lt;&lt; \": Time=\" &lt;&lt; neutron-&gt;GetTime()\n                          &lt;&lt; \", MeVee=\" &lt;&lt; neutron-&gt;GetMeVee()\n                          &lt;&lt; \", PosX=\" &lt;&lt; neutron-&gt;GetPos(0)\n                          &lt;&lt; \", PosY=\" &lt;&lt; neutron-&gt;GetPos(1)\n                          &lt;&lt; \", PosZ=\" &lt;&lt; neutron-&gt;GetPos(2)\n                          &lt;&lt; std::endl;\n            }\n        }\n\n        estore-&gt;ClearData(); // Clear raw event data for the next event\n        neve++;\n    }\n\n    std::cout &lt;&lt; \"Finished event loop. Processed \" &lt;&lt; neve &lt;&lt; \" events.\" &lt;&lt; std::endl;\n\n    // Clean up\n    delete nebulahpc_calib;\n    delete nebulapla_calib;\n    delete reco_neutron;\n    delete estore;\n    // TArtStoreManager::Delete(); // If it's a singleton managed this way\n    // TArtSAMURAIParameters::Delete(); // If it's a singleton managed this way\n}\n</code></pre>"},{"location":"en/sci/project/samurai/anaroot_pdc/","title":"C++ Libraries for PDC Reconstruction and Calibration","text":""},{"location":"en/sci/project/samurai/anaroot_pdc/#tartcalibpdchit","title":"TArtCalibPDCHit","text":"<ul> <li>Location: anaroot/sources/Reconstruction/SAMURAI/include/TArtCalibPDCHit.hh, TArtCalibPDCHit.cc  </li> <li>Function: Performs hit-level calibration and reconstruction for PDC raw data (such as TDC, QDC), generating a TArtDCHit object for each wire.</li> <li>Typical usage: <pre><code>TArtCalibPDCHit *pdchitcalib = new TArtCalibPDCHit();\npdchitcalib-&gt;ReconstructData();\nTClonesArray *pdc_hit_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCHit\");\n</code></pre></li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#tartcalibpdctrack","title":"TArtCalibPDCTrack","text":"<ul> <li>Location: anaroot/sources/Reconstruction/SAMURAI/include/TArtCalibPDCTrack.hh, TArtCalibPDCTrack.cc  </li> <li>Function: Based on the output of TArtCalibPDCHit, reconstructs tracks from all hits and outputs TArtDCTrack objects.</li> <li>Typical usage: <pre><code>TArtCalibPDCTrack *pdctrackcalib = new TArtCalibPDCTrack();\npdctrackcalib-&gt;ReconstructData();\nTClonesArray *pdc_trk_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCTrack\");\n</code></pre></li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#tartdchit-and-tartdctrack","title":"TArtDCHit and TArtDCTrack","text":"<ul> <li>TArtDCHit: Stores information for a single PDC wire hit (position, TDC, QDC, etc.).</li> <li>TArtDCTrack: Stores a reconstructed PDC track (position, angle, chi2, etc.).</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#pdc-parameter-database","title":"PDC Parameter Database","text":""},{"location":"en/sci/project/samurai/anaroot_pdc/#samuraipdcxml","title":"SAMURAIPDC.xml","text":"<ul> <li>Location: SAMURAIPDC.xml  </li> <li>Function: Stores parameters for each PDC wire (geo, ch, wireid, position, etc.), used for lookup and calibration during reconstruction.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#macros-and-scripts","title":"Macros and Scripts","text":""},{"location":"en/sci/project/samurai/anaroot_pdc/#recopdctrackc","title":"recoPDCTrack.C","text":"<ul> <li>Location: users/tbt/tbt_try/recoPDCTrack.C  </li> <li>Function: Typical macro for PDC reconstruction. Workflow: load parameters \u2192 open RIDF \u2192 PDC hit reconstruction \u2192 PDC track reconstruction \u2192 output track parameters.</li> <li>Usage: Batch processing of data files, outputting PDC track parameters for each event.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#ridf2treec","title":"RIDF2Tree.C","text":"<ul> <li>Location: users/tbt/tbt_try/RIDF2Tree.C  </li> <li>Function: Decodes RIDF raw data and saves as ROOT TTree format for further analysis. Can include PDC data branches.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#recosamuraic-recotrack_wsksc","title":"RecoSAMURAI.C, RecoTrack_wSks.C","text":"<ul> <li>Location: Macros/SAMURAI/Analysis/RecoSAMURAI.C, Macros/SAMURAI/RKtrace/RecoTrack_wSks.C  </li> <li>Function: Used for fragment momentum and track reconstruction in the SAMURAI spectrometer. By default uses FDC/BDC, but can be modified to use PDC tracks for extrapolation and momentum reconstruction.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#onlinemonitorcc","title":"OnlineMonitor.cc","text":"<ul> <li>Location: OnlineMonitor.cc  </li> <li>Function: Online monitoring macro, supports online reconstruction and visualization of PDC data (set fUsePDC=true).</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#other-notes","title":"Other Notes","text":""},{"location":"en/sci/project/samurai/anaroot_pdc/#samuraipdcxml-parameter-file","title":"SAMURAIPDC.xml Parameter File","text":"<ul> <li>Note: All PDC channels (geo/ch) actually used must be defined in this file, otherwise reconstruction will fail.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#summary-and-recommendations","title":"Summary and Recommendations","text":"Name Type Main Function / Usage TArtCalibPDCHit Class PDC hit-level reconstruction (raw signal \u2192 hit) TArtCalibPDCTrack Class PDC track reconstruction (hit \u2192 track) TArtDCHit/TArtDCTrack Class Store single hit / track information SAMURAIPDC.xml ParamFile Parameter database for each PDC wire transPDCData.C Macro Convert PDC raw data to readable text RIDF2Tree.C Macro Convert RIDF to ROOT TTree, including PDC branches RecoSAMURAI.C Macro Fragment momentum/track reconstruction (PDC track) RecoTrack_wSks.C Macro Runge-Kutta tracking (PDC track) OnlineMonitor.s024 Macro Online monitoring, supports PDC data reconstruction"},{"location":"en/sci/project/samurai/anaroot_pdc/#how-to-choose-and-use","title":"How to Choose and Use","text":"<ul> <li>Only PDC reconstruction: Use TArtCalibPDCHit, TArtCalibPDCTrack.</li> <li>Full-chain physics analysis: In macros like RecoSAMURAI.C or RecoTrack_wSks.C, replace FDC/BDC with PDC track for extrapolation to the target and momentum reconstruction.</li> <li>Online monitoring: Use OnlineMonitor.s024 and set fUsePDC=true.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#data-flow-and-algorithm-for-pdc-track-reconstruction","title":"Data Flow and Algorithm for PDC Track Reconstruction","text":""},{"location":"en/sci/project/samurai/anaroot_pdc/#data-flow-overview","title":"Data Flow Overview","text":"<ul> <li>Input: All PDC hits (TArtDCHit), each with spatial position (x/y/z), drift time, etc.</li> <li>Processing: In <code>TArtCalibPDCTrack::ReconstructData()</code>, hits are first classified (by layer/direction), then geometric methods (e.g., weighted centroid, line fitting) are used to reconstruct track parameters.</li> <li>Output: Reconstructed track parameters (position, angle, chi2, etc.) are written to TArtDCTrack objects via <code>SetAngle</code>, <code>SetPosition</code>, etc.</li> </ul>"},{"location":"en/sci/project/samurai/anaroot_pdc/#typical-implementation-weighted-centroid-example","title":"Typical Implementation (Weighted Centroid Example)","text":"<ol> <li> <p>Hit Classification    Classify all hits by wire direction (u/x/v/y), store in separate buffers.</p> </li> <li> <p>Calculate Weighted Centroid for Each Direction    For each layer, calculate the weighted average position (weight is usually drift time difference or signal strength).</p> </li> <li> <p>Line Fitting to Obtain Angles    Fit a straight line to the centroid points to get the slope (angle):  </p> </li> <li>X direction: a = (x2 - x1)/(z2 - z1)</li> <li> <p>Y direction: b = (y2 - y1)/(z2 - z1)    Or use least squares fitting with multiple points.</p> </li> <li> <p>Write to TArtDCTrack    Use <code>SetAngle(a, 0)</code> and <code>SetAngle(b, 1)</code> to store the fitted angles in TArtDCTrack's ca[0] and ca[1].</p> </li> <li> <p>Access Later    Use <code>GetAngle(0)</code> and <code>GetAngle(1)</code> to retrieve the X and Y angles.</p> </li> </ol>"},{"location":"en/sci/project/samurai/anaroot_pdc/#notes-on-momentum","title":"Notes on Momentum","text":"<p>PDC is a multi-wire drift chamber and can only measure the spatial trajectory (x, y, a, b) of a particle. It cannot determine momentum alone. Momentum reconstruction requires magnetic field information and the spectrometer's transfer matrix (or field tracking algorithms), usually involving tracks at multiple positions (e.g., FDC1, FDC2, BDC, PDC) and magnetic field parameters.</p>"},{"location":"en/sci/project/samurai/anaroot_pdc/#example-detector-distribution-macro","title":"Example: Detector Distribution Macro","text":"<pre><code>#include &lt;sys/stat.h&gt;\n#include &lt;string&gt;\n#include &lt;set&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nvoid recoPDCTrack(const char* ridffile = \"/home/s057/exp/exp2505_s057/anaroot/users/tbt/ridf/data0074.ridf\") {\n\ngSystem-&gt;Load(\"libXMLParser.so\"); // \u5148\u52a0\u8f7dXML\u89e3\u6790\u5e93\ngSystem-&gt;Load(\"libanacore.so\");\n// \u52a0\u8f7dPDC\u53c2\u6570\nTArtSAMURAIParameters *samuraiparameters = TArtSAMURAIParameters::Instance();\nsamuraiparameters-&gt;LoadParameter(\"../db/SAMURAIPDC.xml\");\n\n// Open RIDF file\nTArtEventStore *estore = new TArtEventStore();\nestore-&gt;Open(ridffile);\n\n// Initialize PDC hit and track reconstruction\nTArtCalibPDCHit *pdchitcalib = new TArtCalibPDCHit();\nTArtCalibPDCTrack *pdctrackcalib = new TArtCalibPDCTrack();\n\nTArtStoreManager *sman = TArtStoreManager::Instance();\nTClonesArray *pdc_hit_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCHit\");\nTClonesArray *pdc_trk_array = (TClonesArray *)sman-&gt;FindDataContainer(\"SAMURAIPDCTrack\");\n\n// get input file name\nstd::string inputFileName = std::string(ridffile);\nsize_t pos = inputFileName.find_last_of('/');\nstd::string fileName = (pos != std::string::npos) ? inputFileName.substr(pos + 1) : inputFileName;\n\n// \u521b\u5efa\u8f93\u51faROOT\u6587\u4ef6\u548cTTree\nconst char* outputDir = \"./output\";\nstd::string outroot = std::string(outputDir) + \"/\" + fileName + \"_pdc.root\";\nstd::string outpng = std::string(outputDir) + \"/\" + fileName + \"_pdc_track_xy.png\";\n\nTFile *fout = new TFile(outroot.c_str(), \"RECREATE\");\nTTree *tree = new TTree(\"pdctree\", \"PDC Track Tree\");\nint event, trackid, ndf, nhit;\ndouble x, y, ax, ay, chi2;\ntree-&gt;Branch(\"event\", &amp;event, \"event/I\");\ntree-&gt;Branch(\"trackid\", &amp;trackid, \"trackid/I\");\ntree-&gt;Branch(\"x\", &amp;x, \"x/D\");\ntree-&gt;Branch(\"y\", &amp;y, \"y/D\");\ntree-&gt;Branch(\"ax\", &amp;ax, \"ax/D\");\ntree-&gt;Branch(\"ay\", &amp;ay, \"ay/D\");\ntree-&gt;Branch(\"chi2\", &amp;chi2, \"chi2/D\");\ntree-&gt;Branch(\"ndf\", &amp;ndf, \"ndf/I\");\ntree-&gt;Branch(\"nhit\", &amp;nhit, \"nhit/I\");\n\nint neve = 0;\nwhile (estore-&gt;GetNextEvent() &amp;&amp; neve &lt; 1000) {\npdchitcalib-&gt;ClearData();\npdctrackcalib-&gt;ClearData();\npdchitcalib-&gt;ReconstructData();\npdctrackcalib-&gt;ReconstructData();\n\nint ntrk = pdc_trk_array-&gt;GetEntries();\nfor (int i = 0; i &lt; ntrk; ++i) {\nTArtDCTrack *trk = (TArtDCTrack*)pdc_trk_array-&gt;At(i);\nx = trk-&gt;GetPosition(0);\ny = trk-&gt;GetPosition(1);\nax = trk-&gt;GetAngle(0);\nay = trk-&gt;GetAngle(1);\nchi2 = trk-&gt;GetChi2();\nndf = trk-&gt;GetNDF();\nnhit = trk-&gt;GetNumHitLayer();\nevent = neve;\ntrackid = i;\ntree-&gt;Fill();\nstd::cout &lt;&lt; \"Event: \" &lt;&lt; neve &lt;&lt; \", Track ID: \" &lt;&lt; i &lt;&lt; \", X: \" &lt;&lt; x &lt;&lt; \", Y: \" &lt;&lt; y &lt;&lt; \", Ax: \" &lt;&lt; ax &lt;&lt; \", Ay: \" &lt;&lt; ay &lt;&lt; \", Chi2: \" &lt;&lt; chi2 &lt;&lt; \", NDF: \" &lt;&lt; ndf &lt;&lt; \", NHits: \" &lt;&lt; nhit &lt;&lt; std::endl;\n}\nneve++;\n}\ntree-&gt;Write();\n\nTCanvas *c1 = new TCanvas(\"c1\", \"PDC Track X-Y\", 800, 600);\ntree-&gt;Draw(\"y:x&gt;&gt;hxy\", \"\", \"COLZ\");\nc1-&gt;SaveAs(outpng.c_str());\ndelete c1;\nstd::cout &lt;&lt; \"Output ROOT file: \" &lt;&lt; outroot &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"Output PNG file: \" &lt;&lt; outpng &lt;&lt; std::endl;\n\nfout-&gt;Close();\ndelete pdchitcalib;\ndelete pdctrackcalib;\ndelete estore;\n}\n</code></pre>"},{"location":"en/sci/project/samurai/detector_samurai/","title":"Detailed Functions of Charged Particle Detectors in the SAMURAI Spectrometer","text":"<p>The SAMURAI (Superconducting Analyzer for Multi-particles from RAdioIsotope beams) spectrometer is equipped with various charged particle detectors for precise measurement and analysis of particles produced in reactions with radioactive isotope beams. The main functions of each detector are as follows:</p>"},{"location":"en/sci/project/samurai/detector_samurai/#1-beam-particle-tracking-and-identification","title":"1. Beam Particle Tracking and Identification","text":"<p>These detectors are located upstream of the target and are used to precisely measure the properties of the incident beam particles.</p> <ul> <li>Beam Proportional Chamber (BPC)</li> <li>Function: Mainly used for rigidity tagging of the beam at the F5 focal point, which is essential for determining the momentum of the incident beam.</li> <li>Beam Drift Chambers 1 and 2 (BDC1, BDC2)</li> <li>Function: Record the beam phase space information, enabling precise measurement of the two-dimensional position and direction of beam particles, and detailed reconstruction of the beam trajectory.</li> <li>Ion Chamber for Beam (ICB)</li> <li>Function: Measures the charge (Z) of the incident beam, helping to identify the particle species in the beam.</li> </ul>"},{"location":"en/sci/project/samurai/detector_samurai/#2-reaction-product-fragment-analysis","title":"2. Reaction Product (Fragment) Analysis","text":"<p>These detectors are located downstream of the target and are used to analyze the charged fragments produced in the reaction.</p> <ul> <li>Forward Drift Chamber 1 (FDC1)</li> <li>Function: Measures the scattering angle of the reaction fragments, which is important for understanding the reaction mechanism.</li> <li>Forward Drift Chamber 2 (FDC2)</li> <li>Function: Performs rigidity analysis of the reaction fragments. Combined with magnetic field information, this allows determination of the fragment momentum.</li> <li>Ion Chamber for Fragments (ICF)</li> <li>Function: Measures the charge (Z) of the fragments, aiding in fragment identification. Usually combined with other measurements (such as energy loss) to distinguish different nuclides.</li> <li>Hodoscope for Fragments (HODF)</li> <li>Function: Measures the time-of-flight (ToF) and charge (Z) of the fragments. ToF combined with path length gives the velocity, which can be used to determine mass if energy or momentum is known. Charge information also helps with particle identification.</li> <li>Total Internal Reflection Cherenkov Detector (TIRC)</li> <li>Function: Specially designed to measure the time-of-flight of fragments, enabling precise determination of their velocity. This is especially important for identifying high-energy fragments.</li> <li>Total Energy Detector (TED)</li> <li>Function: Measures the total energy of charged particles. This is typically used for heavy ions, helping to identify particles and determine their initial energy by measuring the total energy deposited in the detector.</li> </ul>"},{"location":"en/sci/project/samurai/detector_samurai/#3-light-charged-particle-eg-proton-analysis","title":"3. Light Charged Particle (e.g., Proton) Analysis","text":"<p>These detectors are dedicated to measuring light charged particles emitted in the reaction, such as protons from unbound state decay or knockout reactions.</p> <ul> <li>Proton Drift Chambers 1 and 2 (PDC1, PDC2)</li> <li>Function: Analyze the momentum of light charged particles such as protons. Usually placed after the analyzing magnet, they determine momentum by measuring the curvature of the particle trajectory in the magnetic field.</li> <li>Hodoscope for Protons (HODP)</li> <li>Function: Measures the time-of-flight and charge of protons. Similar to HODF, this helps determine the velocity of protons and aids in particle identification.</li> </ul> <p>Sources:</p> <p>https://ribf.riken.jp/SAMURAI/index.php?ChargedParticleDetector</p> <p>https://www.nishina.riken.jp/ribf/SAMURAI/tecinfo.html</p>"}]}